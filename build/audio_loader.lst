ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"audio_loader.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.AUDIO_L_CreateAudioDirectory.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 313A2F41 		.ascii	"1:/AudioDirectory\000"
  20      7564696F 
  20      44697265 
  20      63746F72 
  20      7900
  21 0012 0000     		.align	2
  22              	.LC1:
  23 0014 41756469 		.ascii	"Audio directory already exists.\015\012\000"
  23      6F206469 
  23      72656374 
  23      6F727920 
  23      616C7265 
  24              		.section	.text.AUDIO_L_CreateAudioDirectory,"ax",%progbits
  25              		.align	1
  26              		.global	AUDIO_L_CreateAudioDirectory
  27              		.arch armv7e-m
  28              		.syntax unified
  29              		.thumb
  30              		.thumb_func
  31              		.fpu fpv5-sp-d16
  33              	AUDIO_L_CreateAudioDirectory:
  34              	.LFB143:
  35              		.file 1 "Modules/audio_loader.c"
   1:Modules/audio_loader.c **** //
   2:Modules/audio_loader.c **** // Created by olliekrk on 24.10.2019.
   3:Modules/audio_loader.c **** //
   4:Modules/audio_loader.c **** 
   5:Modules/audio_loader.c **** #include <ff.h>
   6:Modules/audio_loader.c **** #include <term_io.h>
   7:Modules/audio_loader.c **** #include <stm32746g_discovery_audio.h>
   8:Modules/audio_loader.c **** #include "audio_loader.h"
   9:Modules/audio_loader.c **** #include "controls.h"
  10:Modules/audio_loader.c **** #include "gui.h"
  11:Modules/audio_loader.c **** #include "audio_player.h"
  12:Modules/audio_loader.c **** 
  13:Modules/audio_loader.c **** int FILE_OFFSET = 0;
  14:Modules/audio_loader.c **** BufferPos BUFFER_OFFSET = BUFFER_OFFSET_NONE;
  15:Modules/audio_loader.c **** FIL CURRENT_FILE;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 2


  16:Modules/audio_loader.c **** 
  17:Modules/audio_loader.c **** uint8_t AUDIO_BUFFER[MASS_STORAGE_BUF_SIZE] __attribute__((section(".sdram"))) __attribute__((unuse
  18:Modules/audio_loader.c **** 
  19:Modules/audio_loader.c **** FRESULT AUDIO_L_CreateAudioDirectory(void) {
  36              		.loc 1 19 44 view -0
  37              		.cfi_startproc
  38              		@ args = 0, pretend = 0, frame = 0
  39              		@ frame_needed = 0, uses_anonymous_args = 0
  40 0000 10B5     		push	{r4, lr}
  41              	.LCFI0:
  42              		.cfi_def_cfa_offset 8
  43              		.cfi_offset 4, -8
  44              		.cfi_offset 14, -4
  20:Modules/audio_loader.c ****     FRESULT result = f_mkdir(AUDIO_DIRECTORY_PATH);
  45              		.loc 1 20 5 view .LVU1
  46              		.loc 1 20 22 is_stmt 0 view .LVU2
  47 0002 0648     		ldr	r0, .L5
  48 0004 FFF7FEFF 		bl	f_mkdir
  49              	.LVL0:
  50 0008 0446     		mov	r4, r0
  51              	.LVL1:
  21:Modules/audio_loader.c ****     if (result == FR_EXIST) {
  52              		.loc 1 21 5 is_stmt 1 view .LVU3
  53              		.loc 1 21 8 is_stmt 0 view .LVU4
  54 000a 0828     		cmp	r0, #8
  55 000c 01D0     		beq	.L4
  56              	.LVL2:
  57              	.L2:
  22:Modules/audio_loader.c ****         xprintf("Audio directory already exists.\r\n");
  23:Modules/audio_loader.c ****     }
  24:Modules/audio_loader.c ****     return result;
  58              		.loc 1 24 5 is_stmt 1 view .LVU5
  25:Modules/audio_loader.c **** }
  59              		.loc 1 25 1 is_stmt 0 view .LVU6
  60 000e 2046     		mov	r0, r4
  61 0010 10BD     		pop	{r4, pc}
  62              	.LVL3:
  63              	.L4:
  22:Modules/audio_loader.c ****         xprintf("Audio directory already exists.\r\n");
  64              		.loc 1 22 9 is_stmt 1 view .LVU7
  65 0012 0348     		ldr	r0, .L5+4
  66              	.LVL4:
  22:Modules/audio_loader.c ****         xprintf("Audio directory already exists.\r\n");
  67              		.loc 1 22 9 is_stmt 0 view .LVU8
  68 0014 FFF7FEFF 		bl	xprintf
  69              	.LVL5:
  70 0018 F9E7     		b	.L2
  71              	.L6:
  72 001a 00BF     		.align	2
  73              	.L5:
  74 001c 00000000 		.word	.LC0
  75 0020 14000000 		.word	.LC1
  76              		.cfi_endproc
  77              	.LFE143:
  79              		.section	.rodata.AUDIO_L_ScanAudioDirectory.str1.4,"aMS",%progbits,1
  80              		.align	2
  81              	.LC2:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 3


  82 0000 2A2E7761 		.ascii	"*.wav\000"
  82      7600
  83 0006 0000     		.align	2
  84              	.LC3:
  85 0008 466F756E 		.ascii	"Found (%d) wav file: %s\015\012\000"
  85      64202825 
  85      64292077 
  85      61762066 
  85      696C653A 
  86 0022 0000     		.align	2
  87              	.LC4:
  88 0024 456D7074 		.ascii	"Empty audio directory will be created.\015\012\000"
  88      79206175 
  88      64696F20 
  88      64697265 
  88      63746F72 
  89 004d 000000   		.align	2
  90              	.LC5:
  91 0050 43726561 		.ascii	"Creation of audio directory has failed.\015\012\000"
  91      74696F6E 
  91      206F6620 
  91      61756469 
  91      6F206469 
  92 007a 0000     		.align	2
  93              	.LC6:
  94 007c 466F756E 		.ascii	"Found zero WAV files.\000"
  94      64207A65 
  94      726F2057 
  94      41562066 
  94      696C6573 
  95              		.section	.text.AUDIO_L_ScanAudioDirectory,"ax",%progbits
  96              		.align	1
  97              		.global	AUDIO_L_ScanAudioDirectory
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 101              		.fpu fpv5-sp-d16
 103              	AUDIO_L_ScanAudioDirectory:
 104              	.LFB144:
  26:Modules/audio_loader.c **** 
  27:Modules/audio_loader.c **** int AUDIO_L_ScanAudioDirectory() {
 105              		.loc 1 27 34 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 336
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 110              	.LCFI1:
 111              		.cfi_def_cfa_offset 20
 112              		.cfi_offset 4, -20
 113              		.cfi_offset 5, -16
 114              		.cfi_offset 6, -12
 115              		.cfi_offset 7, -8
 116              		.cfi_offset 14, -4
 117 0002 D5B0     		sub	sp, sp, #340
 118              	.LCFI2:
 119              		.cfi_def_cfa_offset 360
  28:Modules/audio_loader.c ****     DIR audioDirectory;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 4


 120              		.loc 1 28 5 view .LVU10
  29:Modules/audio_loader.c ****     FRESULT result;
 121              		.loc 1 29 5 view .LVU11
  30:Modules/audio_loader.c ****     FILINFO fileInfo;
 122              		.loc 1 30 5 view .LVU12
  31:Modules/audio_loader.c ****     int count = 0;
 123              		.loc 1 31 5 view .LVU13
 124              	.LVL6:
  32:Modules/audio_loader.c **** 
  33:Modules/audio_loader.c ****     result = f_findfirst(&audioDirectory, &fileInfo, AUDIO_DIRECTORY_PATH, "*.wav");
 125              		.loc 1 33 5 view .LVU14
 126              		.loc 1 33 14 is_stmt 0 view .LVU15
 127 0004 2B4B     		ldr	r3, .L22
 128 0006 2C4A     		ldr	r2, .L22+4
 129 0008 6946     		mov	r1, sp
 130 000a 46A8     		add	r0, sp, #280
 131 000c FFF7FEFF 		bl	f_findfirst
 132              	.LVL7:
  34:Modules/audio_loader.c ****     if (result == FR_OK) {
 133              		.loc 1 34 5 is_stmt 1 view .LVU16
 134              		.loc 1 34 8 is_stmt 0 view .LVU17
 135 0010 0346     		mov	r3, r0
 136 0012 28B1     		cbz	r0, .L14
  35:Modules/audio_loader.c ****         while (result == FR_OK && strlen(fileInfo.fname) > 0 && count < AUDIO_FILES_LIMIT) {
  36:Modules/audio_loader.c ****             xprintf("Found (%d) wav file: %s\r\n", ++count, fileInfo.fname);
  37:Modules/audio_loader.c **** 
  38:Modules/audio_loader.c ****             APP_STATE.TRACKS[APP_STATE.TRACKS_COUNT] = malloc((strlen(fileInfo.fname) + 1) * sizeof
  39:Modules/audio_loader.c ****             strcpy(APP_STATE.TRACKS[APP_STATE.TRACKS_COUNT], fileInfo.fname);
  40:Modules/audio_loader.c ****             APP_STATE.TRACKS_COUNT++;
  41:Modules/audio_loader.c ****             result = f_findnext(&audioDirectory, &fileInfo);
  42:Modules/audio_loader.c ****         }
  43:Modules/audio_loader.c ****         f_closedir(&audioDirectory);
  44:Modules/audio_loader.c **** 
  45:Modules/audio_loader.c ****         // Set first track
  46:Modules/audio_loader.c ****         APP_STATE.SELECTED_TRACK_INDEX = 0;
  47:Modules/audio_loader.c ****         APP_STATE.SELECTED_TRACK_NAME = APP_STATE.TRACKS[0];
  48:Modules/audio_loader.c **** 
  49:Modules/audio_loader.c ****     } else if (result == FR_NO_PATH) {
 137              		.loc 1 49 12 is_stmt 1 view .LVU18
 138              		.loc 1 49 15 is_stmt 0 view .LVU19
 139 0014 0528     		cmp	r0, #5
 140 0016 3AD0     		beq	.L19
  50:Modules/audio_loader.c ****         xprintf("Empty audio directory will be created.\r\n");
  51:Modules/audio_loader.c ****         result = AUDIO_L_CreateAudioDirectory();
  52:Modules/audio_loader.c ****         if (result != FR_OK) {
  53:Modules/audio_loader.c ****             xprintf("Creation of audio directory has failed.\r\n");
  54:Modules/audio_loader.c ****             return -1;
  55:Modules/audio_loader.c ****         }
  56:Modules/audio_loader.c ****     } else if (result == FR_NO_FILE) {
 141              		.loc 1 56 12 is_stmt 1 view .LVU20
 142              		.loc 1 56 15 is_stmt 0 view .LVU21
 143 0018 0428     		cmp	r0, #4
 144 001a 46D0     		beq	.L20
  31:Modules/audio_loader.c **** 
 145              		.loc 1 31 9 view .LVU22
 146 001c 0025     		movs	r5, #0
 147              	.LVL8:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 5


  31:Modules/audio_loader.c **** 
 148              		.loc 1 31 9 view .LVU23
 149 001e 33E0     		b	.L7
 150              	.LVL9:
 151              	.L14:
  31:Modules/audio_loader.c **** 
 152              		.loc 1 31 9 view .LVU24
 153 0020 0025     		movs	r5, #0
 154              	.LVL10:
 155              	.L8:
  35:Modules/audio_loader.c ****         while (result == FR_OK && strlen(fileInfo.fname) > 0 && count < AUDIO_FILES_LIMIT) {
 156              		.loc 1 35 15 is_stmt 1 view .LVU25
 157 0022 43BB     		cbnz	r3, .L10
  35:Modules/audio_loader.c ****         while (result == FR_OK && strlen(fileInfo.fname) > 0 && count < AUDIO_FILES_LIMIT) {
 158              		.loc 1 35 58 is_stmt 0 discriminator 1 view .LVU26
 159 0024 9DF81630 		ldrb	r3, [sp, #22]	@ zero_extendqisi2
 160              	.LVL11:
  35:Modules/audio_loader.c ****         while (result == FR_OK && strlen(fileInfo.fname) > 0 && count < AUDIO_FILES_LIMIT) {
 161              		.loc 1 35 32 discriminator 1 view .LVU27
 162 0028 2BB3     		cbz	r3, .L10
  35:Modules/audio_loader.c ****         while (result == FR_OK && strlen(fileInfo.fname) > 0 && count < AUDIO_FILES_LIMIT) {
 163              		.loc 1 35 62 discriminator 2 view .LVU28
 164 002a 092D     		cmp	r5, #9
 165 002c 23DC     		bgt	.L10
  36:Modules/audio_loader.c **** 
 166              		.loc 1 36 13 is_stmt 1 view .LVU29
 167 002e 0135     		adds	r5, r5, #1
 168              	.LVL12:
  36:Modules/audio_loader.c **** 
 169              		.loc 1 36 13 is_stmt 0 view .LVU30
 170 0030 0DF11602 		add	r2, sp, #22
 171 0034 2946     		mov	r1, r5
 172 0036 2148     		ldr	r0, .L22+8
 173 0038 FFF7FEFF 		bl	xprintf
 174              	.LVL13:
  38:Modules/audio_loader.c ****             strcpy(APP_STATE.TRACKS[APP_STATE.TRACKS_COUNT], fileInfo.fname);
 175              		.loc 1 38 13 is_stmt 1 view .LVU31
  38:Modules/audio_loader.c ****             strcpy(APP_STATE.TRACKS[APP_STATE.TRACKS_COUNT], fileInfo.fname);
 176              		.loc 1 38 64 is_stmt 0 view .LVU32
 177 003c 0DF11600 		add	r0, sp, #22
 178 0040 FFF7FEFF 		bl	strlen
 179              	.LVL14:
  38:Modules/audio_loader.c ****             strcpy(APP_STATE.TRACKS[APP_STATE.TRACKS_COUNT], fileInfo.fname);
 180              		.loc 1 38 22 view .LVU33
 181 0044 1E4C     		ldr	r4, .L22+12
 182 0046 2669     		ldr	r6, [r4, #16]
  38:Modules/audio_loader.c ****             strcpy(APP_STATE.TRACKS[APP_STATE.TRACKS_COUNT], fileInfo.fname);
 183              		.loc 1 38 39 view .LVU34
 184 0048 6769     		ldr	r7, [r4, #20]
  38:Modules/audio_loader.c ****             strcpy(APP_STATE.TRACKS[APP_STATE.TRACKS_COUNT], fileInfo.fname);
 185              		.loc 1 38 56 view .LVU35
 186 004a 0130     		adds	r0, r0, #1
 187 004c FFF7FEFF 		bl	malloc
 188              	.LVL15:
  38:Modules/audio_loader.c ****             strcpy(APP_STATE.TRACKS[APP_STATE.TRACKS_COUNT], fileInfo.fname);
 189              		.loc 1 38 54 view .LVU36
 190 0050 46F82700 		str	r0, [r6, r7, lsl #2]
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 6


  39:Modules/audio_loader.c ****             APP_STATE.TRACKS_COUNT++;
 191              		.loc 1 39 13 is_stmt 1 view .LVU37
  39:Modules/audio_loader.c ****             APP_STATE.TRACKS_COUNT++;
 192              		.loc 1 39 29 is_stmt 0 view .LVU38
 193 0054 2369     		ldr	r3, [r4, #16]
  39:Modules/audio_loader.c ****             APP_STATE.TRACKS_COUNT++;
 194              		.loc 1 39 46 view .LVU39
 195 0056 6269     		ldr	r2, [r4, #20]
  39:Modules/audio_loader.c ****             APP_STATE.TRACKS_COUNT++;
 196              		.loc 1 39 13 view .LVU40
 197 0058 0DF11601 		add	r1, sp, #22
 198 005c 53F82200 		ldr	r0, [r3, r2, lsl #2]
 199 0060 FFF7FEFF 		bl	strcpy
 200              	.LVL16:
  40:Modules/audio_loader.c ****             result = f_findnext(&audioDirectory, &fileInfo);
 201              		.loc 1 40 13 is_stmt 1 view .LVU41
  40:Modules/audio_loader.c ****             result = f_findnext(&audioDirectory, &fileInfo);
 202              		.loc 1 40 22 is_stmt 0 view .LVU42
 203 0064 6369     		ldr	r3, [r4, #20]
  40:Modules/audio_loader.c ****             result = f_findnext(&audioDirectory, &fileInfo);
 204              		.loc 1 40 35 view .LVU43
 205 0066 0133     		adds	r3, r3, #1
 206 0068 6361     		str	r3, [r4, #20]
  41:Modules/audio_loader.c ****         }
 207              		.loc 1 41 13 is_stmt 1 view .LVU44
  41:Modules/audio_loader.c ****         }
 208              		.loc 1 41 22 is_stmt 0 view .LVU45
 209 006a 6946     		mov	r1, sp
 210 006c 46A8     		add	r0, sp, #280
 211 006e FFF7FEFF 		bl	f_findnext
 212              	.LVL17:
 213 0072 0346     		mov	r3, r0
 214              	.LVL18:
  41:Modules/audio_loader.c ****         }
 215              		.loc 1 41 22 view .LVU46
 216 0074 D5E7     		b	.L8
 217              	.LVL19:
 218              	.L10:
  43:Modules/audio_loader.c **** 
 219              		.loc 1 43 9 is_stmt 1 view .LVU47
 220 0076 46A8     		add	r0, sp, #280
 221 0078 FFF7FEFF 		bl	f_closedir
 222              	.LVL20:
  46:Modules/audio_loader.c ****         APP_STATE.SELECTED_TRACK_NAME = APP_STATE.TRACKS[0];
 223              		.loc 1 46 9 view .LVU48
  46:Modules/audio_loader.c ****         APP_STATE.SELECTED_TRACK_NAME = APP_STATE.TRACKS[0];
 224              		.loc 1 46 40 is_stmt 0 view .LVU49
 225 007c 104B     		ldr	r3, .L22+12
 226 007e 0022     		movs	r2, #0
 227 0080 DA61     		str	r2, [r3, #28]
  47:Modules/audio_loader.c **** 
 228              		.loc 1 47 9 is_stmt 1 view .LVU50
  47:Modules/audio_loader.c **** 
 229              		.loc 1 47 50 is_stmt 0 view .LVU51
 230 0082 1A69     		ldr	r2, [r3, #16]
  47:Modules/audio_loader.c **** 
 231              		.loc 1 47 57 view .LVU52
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 7


 232 0084 1268     		ldr	r2, [r2]
  47:Modules/audio_loader.c **** 
 233              		.loc 1 47 39 view .LVU53
 234 0086 9A61     		str	r2, [r3, #24]
 235              	.LVL21:
 236              	.L7:
  57:Modules/audio_loader.c ****         xprintf("Found zero WAV files.");
  58:Modules/audio_loader.c ****     }
  59:Modules/audio_loader.c **** 
  60:Modules/audio_loader.c ****     return count;
  61:Modules/audio_loader.c **** }
 237              		.loc 1 61 1 view .LVU54
 238 0088 2846     		mov	r0, r5
 239 008a 55B0     		add	sp, sp, #340
 240              	.LCFI3:
 241              		.cfi_remember_state
 242              		.cfi_def_cfa_offset 20
 243              		@ sp needed
 244 008c F0BD     		pop	{r4, r5, r6, r7, pc}
 245              	.LVL22:
 246              	.L19:
 247              	.LCFI4:
 248              		.cfi_restore_state
  50:Modules/audio_loader.c ****         result = AUDIO_L_CreateAudioDirectory();
 249              		.loc 1 50 9 is_stmt 1 view .LVU55
 250 008e 0D48     		ldr	r0, .L22+16
 251              	.LVL23:
  50:Modules/audio_loader.c ****         result = AUDIO_L_CreateAudioDirectory();
 252              		.loc 1 50 9 is_stmt 0 view .LVU56
 253 0090 FFF7FEFF 		bl	xprintf
 254              	.LVL24:
  51:Modules/audio_loader.c ****         if (result != FR_OK) {
 255              		.loc 1 51 9 is_stmt 1 view .LVU57
  51:Modules/audio_loader.c ****         if (result != FR_OK) {
 256              		.loc 1 51 18 is_stmt 0 view .LVU58
 257 0094 FFF7FEFF 		bl	AUDIO_L_CreateAudioDirectory
 258              	.LVL25:
  52:Modules/audio_loader.c ****             xprintf("Creation of audio directory has failed.\r\n");
 259              		.loc 1 52 9 is_stmt 1 view .LVU59
  52:Modules/audio_loader.c ****             xprintf("Creation of audio directory has failed.\r\n");
 260              		.loc 1 52 12 is_stmt 0 view .LVU60
 261 0098 08B9     		cbnz	r0, .L21
  31:Modules/audio_loader.c **** 
 262              		.loc 1 31 9 view .LVU61
 263 009a 0025     		movs	r5, #0
 264 009c F4E7     		b	.L7
 265              	.L21:
  53:Modules/audio_loader.c ****             return -1;
 266              		.loc 1 53 13 is_stmt 1 view .LVU62
 267 009e 0A48     		ldr	r0, .L22+20
 268              	.LVL26:
  53:Modules/audio_loader.c ****             return -1;
 269              		.loc 1 53 13 is_stmt 0 view .LVU63
 270 00a0 FFF7FEFF 		bl	xprintf
 271              	.LVL27:
  54:Modules/audio_loader.c ****         }
 272              		.loc 1 54 13 is_stmt 1 view .LVU64
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 8


  54:Modules/audio_loader.c ****         }
 273              		.loc 1 54 20 is_stmt 0 view .LVU65
 274 00a4 4FF0FF35 		mov	r5, #-1
 275 00a8 EEE7     		b	.L7
 276              	.LVL28:
 277              	.L20:
  57:Modules/audio_loader.c ****     }
 278              		.loc 1 57 9 is_stmt 1 view .LVU66
 279 00aa 0848     		ldr	r0, .L22+24
 280              	.LVL29:
  57:Modules/audio_loader.c ****     }
 281              		.loc 1 57 9 is_stmt 0 view .LVU67
 282 00ac FFF7FEFF 		bl	xprintf
 283              	.LVL30:
  31:Modules/audio_loader.c **** 
 284              		.loc 1 31 9 view .LVU68
 285 00b0 0025     		movs	r5, #0
 286 00b2 E9E7     		b	.L7
 287              	.L23:
 288              		.align	2
 289              	.L22:
 290 00b4 00000000 		.word	.LC2
 291 00b8 00000000 		.word	.LC0
 292 00bc 08000000 		.word	.LC3
 293 00c0 00000000 		.word	APP_STATE
 294 00c4 24000000 		.word	.LC4
 295 00c8 50000000 		.word	.LC5
 296 00cc 7C000000 		.word	.LC6
 297              		.cfi_endproc
 298              	.LFE144:
 300              		.section	.rodata.AUDIO_L_ResetState.str1.4,"aMS",%progbits,1
 301              		.align	2
 302              	.LC7:
 303 0000 00       		.ascii	"\000"
 304              		.section	.text.AUDIO_L_ResetState,"ax",%progbits
 305              		.align	1
 306              		.global	AUDIO_L_ResetState
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 310              		.fpu fpv5-sp-d16
 312              	AUDIO_L_ResetState:
 313              	.LFB146:
  62:Modules/audio_loader.c **** 
  63:Modules/audio_loader.c **** void AUDIO_L_PerformScan(void) {
  64:Modules/audio_loader.c ****     FRESULT result = AUDIO_L_CreateAudioDirectory();
  65:Modules/audio_loader.c ****     if (result == FR_OK || result == FR_EXIST) {
  66:Modules/audio_loader.c ****         AUDIO_L_ResetState();
  67:Modules/audio_loader.c ****         AUDIO_L_ScanAudioDirectory();
  68:Modules/audio_loader.c ****     }
  69:Modules/audio_loader.c **** }
  70:Modules/audio_loader.c **** 
  71:Modules/audio_loader.c **** void AUDIO_L_ResetState(void) {
 314              		.loc 1 71 31 is_stmt 1 view -0
 315              		.cfi_startproc
 316              		@ args = 0, pretend = 0, frame = 0
 317              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 9


 318 0000 10B5     		push	{r4, lr}
 319              	.LCFI5:
 320              		.cfi_def_cfa_offset 8
 321              		.cfi_offset 4, -8
 322              		.cfi_offset 14, -4
  72:Modules/audio_loader.c ****     free(APP_STATE.TRACKS);
 323              		.loc 1 72 5 view .LVU70
 324              		.loc 1 72 19 is_stmt 0 view .LVU71
 325 0002 094C     		ldr	r4, .L26
 326              		.loc 1 72 5 view .LVU72
 327 0004 2069     		ldr	r0, [r4, #16]
 328 0006 FFF7FEFF 		bl	free
 329              	.LVL31:
  73:Modules/audio_loader.c ****     APP_STATE.TRACKS = malloc(AUDIO_FILES_LIMIT * sizeof(char *));
 330              		.loc 1 73 5 is_stmt 1 view .LVU73
 331              		.loc 1 73 24 is_stmt 0 view .LVU74
 332 000a 2820     		movs	r0, #40
 333 000c FFF7FEFF 		bl	malloc
 334              	.LVL32:
 335              		.loc 1 73 22 view .LVU75
 336 0010 2061     		str	r0, [r4, #16]
  74:Modules/audio_loader.c ****     APP_STATE.TRACKS_COUNT = 0;
 337              		.loc 1 74 5 is_stmt 1 view .LVU76
 338              		.loc 1 74 28 is_stmt 0 view .LVU77
 339 0012 0023     		movs	r3, #0
 340 0014 6361     		str	r3, [r4, #20]
  75:Modules/audio_loader.c ****     APP_STATE.SELECTED_TRACK_INDEX = -1;
 341              		.loc 1 75 5 is_stmt 1 view .LVU78
 342              		.loc 1 75 36 is_stmt 0 view .LVU79
 343 0016 4FF0FF32 		mov	r2, #-1
 344 001a E261     		str	r2, [r4, #28]
  76:Modules/audio_loader.c ****     APP_STATE.SELECTED_TRACK_NAME = "";
 345              		.loc 1 76 5 is_stmt 1 view .LVU80
 346              		.loc 1 76 35 is_stmt 0 view .LVU81
 347 001c 034A     		ldr	r2, .L26+4
 348 001e A261     		str	r2, [r4, #24]
  77:Modules/audio_loader.c ****     APP_STATE.IS_PLAYING = 0;
 349              		.loc 1 77 5 is_stmt 1 view .LVU82
 350              		.loc 1 77 26 is_stmt 0 view .LVU83
 351 0020 E360     		str	r3, [r4, #12]
  78:Modules/audio_loader.c ****     APP_STATE.VOLUME = AUDIO_VOLUME_INIT;
 352              		.loc 1 78 5 is_stmt 1 view .LVU84
 353              		.loc 1 78 22 is_stmt 0 view .LVU85
 354 0022 2823     		movs	r3, #40
 355 0024 2362     		str	r3, [r4, #32]
  79:Modules/audio_loader.c **** }
 356              		.loc 1 79 1 view .LVU86
 357 0026 10BD     		pop	{r4, pc}
 358              	.L27:
 359              		.align	2
 360              	.L26:
 361 0028 00000000 		.word	APP_STATE
 362 002c 00000000 		.word	.LC7
 363              		.cfi_endproc
 364              	.LFE146:
 366              		.section	.text.AUDIO_L_PerformScan,"ax",%progbits
 367              		.align	1
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 10


 368              		.global	AUDIO_L_PerformScan
 369              		.syntax unified
 370              		.thumb
 371              		.thumb_func
 372              		.fpu fpv5-sp-d16
 374              	AUDIO_L_PerformScan:
 375              	.LFB145:
  63:Modules/audio_loader.c ****     FRESULT result = AUDIO_L_CreateAudioDirectory();
 376              		.loc 1 63 32 is_stmt 1 view -0
 377              		.cfi_startproc
 378              		@ args = 0, pretend = 0, frame = 0
 379              		@ frame_needed = 0, uses_anonymous_args = 0
 380 0000 08B5     		push	{r3, lr}
 381              	.LCFI6:
 382              		.cfi_def_cfa_offset 8
 383              		.cfi_offset 3, -8
 384              		.cfi_offset 14, -4
  64:Modules/audio_loader.c ****     if (result == FR_OK || result == FR_EXIST) {
 385              		.loc 1 64 5 view .LVU88
  64:Modules/audio_loader.c ****     if (result == FR_OK || result == FR_EXIST) {
 386              		.loc 1 64 22 is_stmt 0 view .LVU89
 387 0002 FFF7FEFF 		bl	AUDIO_L_CreateAudioDirectory
 388              	.LVL33:
  65:Modules/audio_loader.c ****         AUDIO_L_ResetState();
 389              		.loc 1 65 5 is_stmt 1 view .LVU90
  65:Modules/audio_loader.c ****         AUDIO_L_ResetState();
 390              		.loc 1 65 35 is_stmt 0 view .LVU91
 391 0006 0828     		cmp	r0, #8
 392 0008 14BF     		ite	ne
 393 000a 0023     		movne	r3, #0
 394 000c 0123     		moveq	r3, #1
  65:Modules/audio_loader.c ****         AUDIO_L_ResetState();
 395              		.loc 1 65 25 view .LVU92
 396 000e 0028     		cmp	r0, #0
 397 0010 08BF     		it	eq
 398 0012 0123     		moveq	r3, #1
  65:Modules/audio_loader.c ****         AUDIO_L_ResetState();
 399              		.loc 1 65 8 view .LVU93
 400 0014 03B9     		cbnz	r3, .L31
 401              	.LVL34:
 402              	.L28:
  69:Modules/audio_loader.c **** 
 403              		.loc 1 69 1 view .LVU94
 404 0016 08BD     		pop	{r3, pc}
 405              	.LVL35:
 406              	.L31:
  66:Modules/audio_loader.c ****         AUDIO_L_ScanAudioDirectory();
 407              		.loc 1 66 9 is_stmt 1 view .LVU95
 408 0018 FFF7FEFF 		bl	AUDIO_L_ResetState
 409              	.LVL36:
  67:Modules/audio_loader.c ****     }
 410              		.loc 1 67 9 view .LVU96
 411 001c FFF7FEFF 		bl	AUDIO_L_ScanAudioDirectory
 412              	.LVL37:
  69:Modules/audio_loader.c **** 
 413              		.loc 1 69 1 is_stmt 0 view .LVU97
 414 0020 F9E7     		b	.L28
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 11


 415              		.cfi_endproc
 416              	.LFE145:
 418              		.section	.rodata.AUDIO_L_LoadFileUnderButton.str1.4,"aMS",%progbits,1
 419              		.align	2
 420              	.LC8:
 421 0000 25732F25 		.ascii	"%s/%s\000"
 421      7300
 422 0006 0000     		.align	2
 423              	.LC9:
 424 0008 53756363 		.ascii	"Successfully read audio file: %s of size %u bytes.\015"
 424      65737366 
 424      756C6C79 
 424      20726561 
 424      64206175 
 425 003b 0A00     		.ascii	"\012\000"
 426 003d 000000   		.align	2
 427              	.LC10:
 428 0040 487A3A20 		.ascii	"Hz: %hu Channels: %u Bytes: %lu\015\012\000"
 428      25687520 
 428      4368616E 
 428      6E656C73 
 428      3A202575 
 429 0062 0000     		.align	2
 430              	.LC11:
 431 0064 416E2065 		.ascii	"An error has occurred when loading file onto buffer"
 431      72726F72 
 431      20686173 
 431      206F6363 
 431      75727265 
 432 0097 2E0D0A00 		.ascii	".\015\012\000"
 433              		.section	.text.AUDIO_L_LoadFileUnderButton,"ax",%progbits
 434              		.align	1
 435              		.global	AUDIO_L_LoadFileUnderButton
 436              		.syntax unified
 437              		.thumb
 438              		.thumb_func
 439              		.fpu fpv5-sp-d16
 441              	AUDIO_L_LoadFileUnderButton:
 442              	.LVL38:
 443              	.LFB147:
  80:Modules/audio_loader.c **** 
  81:Modules/audio_loader.c **** void AUDIO_L_LoadFileUnderButton(char *fileName, int buttonNumber) {
 444              		.loc 1 81 68 is_stmt 1 view -0
 445              		.cfi_startproc
 446              		@ args = 0, pretend = 0, frame = 568
 447              		@ frame_needed = 0, uses_anonymous_args = 0
 448              		.loc 1 81 68 is_stmt 0 view .LVU99
 449 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 450              	.LCFI7:
 451              		.cfi_def_cfa_offset 36
 452              		.cfi_offset 4, -36
 453              		.cfi_offset 5, -32
 454              		.cfi_offset 6, -28
 455              		.cfi_offset 7, -24
 456              		.cfi_offset 8, -20
 457              		.cfi_offset 9, -16
 458              		.cfi_offset 10, -12
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 12


 459              		.cfi_offset 11, -8
 460              		.cfi_offset 14, -4
 461 0004 ADF50F7D 		sub	sp, sp, #572
 462              	.LCFI8:
 463              		.cfi_def_cfa_offset 608
 464 0008 0646     		mov	r6, r0
 465 000a 0D46     		mov	r5, r1
  82:Modules/audio_loader.c ****     FIL file;
 466              		.loc 1 82 5 is_stmt 1 view .LVU100
  83:Modules/audio_loader.c ****     UINT _bytesRead;
 467              		.loc 1 83 5 view .LVU101
  84:Modules/audio_loader.c ****     char *filePath = malloc(1000 * sizeof(char));
 468              		.loc 1 84 5 view .LVU102
 469              		.loc 1 84 22 is_stmt 0 view .LVU103
 470 000c 4FF47A70 		mov	r0, #1000
 471              	.LVL39:
 472              		.loc 1 84 22 view .LVU104
 473 0010 FFF7FEFF 		bl	malloc
 474              	.LVL40:
 475              		.loc 1 84 22 view .LVU105
 476 0014 0446     		mov	r4, r0
 477              	.LVL41:
  85:Modules/audio_loader.c **** 
  86:Modules/audio_loader.c ****     if (sprintf(filePath, "%s/%s", AUDIO_DIRECTORY_PATH, fileName) > 0) {
 478              		.loc 1 86 5 is_stmt 1 view .LVU106
 479              		.loc 1 86 9 is_stmt 0 view .LVU107
 480 0016 3346     		mov	r3, r6
 481 0018 334A     		ldr	r2, .L36
 482 001a 3449     		ldr	r1, .L36+4
 483 001c FFF7FEFF 		bl	sprintf
 484              	.LVL42:
 485              		.loc 1 86 8 view .LVU108
 486 0020 0028     		cmp	r0, #0
 487 0022 56DD     		ble	.L33
  87:Modules/audio_loader.c ****         if (f_open(&file, filePath, FA_READ) == FR_OK) {
 488              		.loc 1 87 9 is_stmt 1 view .LVU109
 489              		.loc 1 87 13 is_stmt 0 view .LVU110
 490 0024 0122     		movs	r2, #1
 491 0026 2146     		mov	r1, r4
 492 0028 02A8     		add	r0, sp, #8
 493 002a FFF7FEFF 		bl	f_open
 494              	.LVL43:
 495              		.loc 1 87 12 view .LVU111
 496 002e 0028     		cmp	r0, #0
 497 0030 52D1     		bne	.L34
 498              	.LBB2:
  88:Modules/audio_loader.c **** 
  89:Modules/audio_loader.c ****             ButtonState *state = &APP_BUTTONS_STATE.configs[buttonNumber];
 499              		.loc 1 89 13 is_stmt 1 view .LVU112
 500              		.loc 1 89 52 is_stmt 0 view .LVU113
 501 0032 DFF8C8A0 		ldr	r10, .L36+20
 502 0036 DAF80070 		ldr	r7, [r10]
 503              		.loc 1 89 60 view .LVU114
 504 003a 4FEA0519 		lsl	r9, r5, #4
 505              		.loc 1 89 26 view .LVU115
 506 003e 07EB0517 		add	r7, r7, r5, lsl #4
 507              	.LVL44:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 13


  90:Modules/audio_loader.c ****             state->size = f_size(&file);
 508              		.loc 1 90 13 is_stmt 1 view .LVU116
 509              		.loc 1 90 27 is_stmt 0 view .LVU117
 510 0042 059B     		ldr	r3, [sp, #20]
 511              		.loc 1 90 25 view .LVU118
 512 0044 BB60     		str	r3, [r7, #8]
  91:Modules/audio_loader.c **** 
  92:Modules/audio_loader.c ****             int initOffset = buttonNumber * BUFFER_LIMIT_PER_BUTTON;
 513              		.loc 1 92 13 is_stmt 1 view .LVU119
 514              		.loc 1 92 17 is_stmt 0 view .LVU120
 515 0046 6D04     		lsls	r5, r5, #17
 516              	.LVL45:
  93:Modules/audio_loader.c **** 
  94:Modules/audio_loader.c ****             // retrieve essential info about file and skip WAV header
  95:Modules/audio_loader.c ****             f_lseek(&file, 22);
 517              		.loc 1 95 13 is_stmt 1 view .LVU121
 518 0048 1621     		movs	r1, #22
 519 004a 02A8     		add	r0, sp, #8
 520 004c FFF7FEFF 		bl	f_lseek
 521              	.LVL46:
  96:Modules/audio_loader.c ****             f_read(&file, &AUDIO_BUFFER[initOffset], 4, &_bytesRead);
 522              		.loc 1 96 13 view .LVU122
 523              		.loc 1 96 27 is_stmt 0 view .LVU123
 524 0050 DFF8AC80 		ldr	r8, .L36+24
 525 0054 05EB080B 		add	fp, r5, r8
 526              		.loc 1 96 13 view .LVU124
 527 0058 01AB     		add	r3, sp, #4
 528 005a 0422     		movs	r2, #4
 529 005c 5946     		mov	r1, fp
 530 005e 02A8     		add	r0, sp, #8
 531 0060 FFF7FEFF 		bl	f_read
 532              	.LVL47:
  97:Modules/audio_loader.c ****             state->channels = AUDIO_BUFFER[initOffset];
 533              		.loc 1 97 13 is_stmt 1 view .LVU125
 534              		.loc 1 97 43 is_stmt 0 view .LVU126
 535 0064 18F80530 		ldrb	r3, [r8, r5]	@ zero_extendqisi2
 536              		.loc 1 97 29 view .LVU127
 537 0068 3B71     		strb	r3, [r7, #4]
  98:Modules/audio_loader.c ****             state->sampleRate = (AUDIO_BUFFER[initOffset + 3] << 8) + AUDIO_BUFFER[2];
 538              		.loc 1 98 13 is_stmt 1 view .LVU128
 539              		.loc 1 98 58 is_stmt 0 view .LVU129
 540 006a 0335     		adds	r5, r5, #3
 541              	.LVL48:
 542              		.loc 1 98 46 view .LVU130
 543 006c 18F80520 		ldrb	r2, [r8, r5]	@ zero_extendqisi2
 544              		.loc 1 98 83 view .LVU131
 545 0070 98F80230 		ldrb	r3, [r8, #2]	@ zero_extendqisi2
 546              		.loc 1 98 69 view .LVU132
 547 0074 03EB0223 		add	r3, r3, r2, lsl #8
 548              		.loc 1 98 31 view .LVU133
 549 0078 FB80     		strh	r3, [r7, #6]	@ movhi
  99:Modules/audio_loader.c ****             f_lseek(&file, WAV_HEADER_LENGTH);
 550              		.loc 1 99 13 is_stmt 1 view .LVU134
 551 007a 2C21     		movs	r1, #44
 552 007c 02A8     		add	r0, sp, #8
 553 007e FFF7FEFF 		bl	f_lseek
 554              	.LVL49:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 14


 100:Modules/audio_loader.c **** 
 101:Modules/audio_loader.c ****             // load onto buffer
 102:Modules/audio_loader.c ****             f_read(&file,
 555              		.loc 1 102 13 view .LVU135
 556 0082 01AB     		add	r3, sp, #4
 557 0084 4FF40032 		mov	r2, #131072
 558 0088 5946     		mov	r1, fp
 559 008a 02A8     		add	r0, sp, #8
 560 008c FFF7FEFF 		bl	f_read
 561              	.LVL50:
 103:Modules/audio_loader.c ****                    &AUDIO_BUFFER[buttonNumber * BUFFER_LIMIT_PER_BUTTON],
 104:Modules/audio_loader.c ****                    BUFFER_LIMIT_PER_BUTTON,
 105:Modules/audio_loader.c ****                    &_bytesRead
 106:Modules/audio_loader.c ****             );
 107:Modules/audio_loader.c ****             f_close(&file);
 562              		.loc 1 107 13 view .LVU136
 563 0090 02A8     		add	r0, sp, #8
 564 0092 FFF7FEFF 		bl	f_close
 565              	.LVL51:
 108:Modules/audio_loader.c **** 
 109:Modules/audio_loader.c ****             // update app buttons state
 110:Modules/audio_loader.c ****             APP_BUTTONS_STATE.configs[buttonNumber].effectEnabled = effectInactive;
 566              		.loc 1 110 13 view .LVU137
 567              		.loc 1 110 30 is_stmt 0 view .LVU138
 568 0096 DAF80050 		ldr	r5, [r10]
 569              	.LVL52:
 570              		.loc 1 110 38 view .LVU139
 571 009a 05EB0903 		add	r3, r5, r9
 572              		.loc 1 110 67 view .LVU140
 573 009e 0022     		movs	r2, #0
 574 00a0 1A73     		strb	r2, [r3, #12]
 111:Modules/audio_loader.c ****             APP_BUTTONS_STATE.configs[buttonNumber].trackName = malloc(TEXT_DISPLAYED_MAXLENGTH * s
 575              		.loc 1 111 13 is_stmt 1 view .LVU141
 576              		.loc 1 111 65 is_stmt 0 view .LVU142
 577 00a2 0B20     		movs	r0, #11
 578 00a4 FFF7FEFF 		bl	malloc
 579              	.LVL53:
 580              		.loc 1 111 63 view .LVU143
 581 00a8 45F80900 		str	r0, [r5, r9]
 112:Modules/audio_loader.c ****             sprintf(APP_BUTTONS_STATE.configs[buttonNumber].trackName, "%s", fileName);
 582              		.loc 1 112 13 is_stmt 1 view .LVU144
 583              		.loc 1 112 38 is_stmt 0 view .LVU145
 584 00ac DAF80030 		ldr	r3, [r10]
 585              		.loc 1 112 13 view .LVU146
 586 00b0 3146     		mov	r1, r6
 587 00b2 53F80900 		ldr	r0, [r3, r9]
 588 00b6 FFF7FEFF 		bl	strcpy
 589              	.LVL54:
 113:Modules/audio_loader.c **** 
 114:Modules/audio_loader.c ****             xprintf("Successfully read audio file: %s of size %u bytes.\r\n", filePath, _bytesRead)
 590              		.loc 1 114 13 is_stmt 1 view .LVU147
 591 00ba 019A     		ldr	r2, [sp, #4]
 592 00bc 2146     		mov	r1, r4
 593 00be 0C48     		ldr	r0, .L36+8
 594 00c0 FFF7FEFF 		bl	xprintf
 595              	.LVL55:
 115:Modules/audio_loader.c ****             xprintf("Hz: %hu Channels: %u Bytes: %lu\r\n", state->sampleRate, state->channels, stat
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 15


 596              		.loc 1 115 13 view .LVU148
 597 00c4 BB68     		ldr	r3, [r7, #8]
 598 00c6 3A79     		ldrb	r2, [r7, #4]	@ zero_extendqisi2
 599 00c8 F988     		ldrh	r1, [r7, #6]
 600 00ca 0A48     		ldr	r0, .L36+12
 601 00cc FFF7FEFF 		bl	xprintf
 602              	.LVL56:
 603 00d0 02E0     		b	.L34
 604              	.LVL57:
 605              	.L33:
 606              		.loc 1 115 13 is_stmt 0 view .LVU149
 607              	.LBE2:
 116:Modules/audio_loader.c ****         }
 117:Modules/audio_loader.c ****     } else {
 118:Modules/audio_loader.c ****         xprintf("An error has occurred when loading file onto buffer.\r\n");
 608              		.loc 1 118 9 is_stmt 1 view .LVU150
 609 00d2 0948     		ldr	r0, .L36+16
 610 00d4 FFF7FEFF 		bl	xprintf
 611              	.LVL58:
 612              	.L34:
 119:Modules/audio_loader.c ****     }
 120:Modules/audio_loader.c **** 
 121:Modules/audio_loader.c ****     free(filePath);
 613              		.loc 1 121 5 view .LVU151
 614 00d8 2046     		mov	r0, r4
 615 00da FFF7FEFF 		bl	free
 616              	.LVL59:
 122:Modules/audio_loader.c **** }
 617              		.loc 1 122 1 is_stmt 0 view .LVU152
 618 00de 0DF50F7D 		add	sp, sp, #572
 619              	.LCFI9:
 620              		.cfi_def_cfa_offset 36
 621              		@ sp needed
 622 00e2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 623              	.LVL60:
 624              	.L37:
 625              		.loc 1 122 1 view .LVU153
 626 00e6 00BF     		.align	2
 627              	.L36:
 628 00e8 00000000 		.word	.LC0
 629 00ec 00000000 		.word	.LC8
 630 00f0 08000000 		.word	.LC9
 631 00f4 40000000 		.word	.LC10
 632 00f8 64000000 		.word	.LC11
 633 00fc 00000000 		.word	APP_BUTTONS_STATE
 634 0100 00000000 		.word	AUDIO_BUFFER
 635              		.cfi_endproc
 636              	.LFE147:
 638              		.section	.text.AUDIO_L_ResetBuffer,"ax",%progbits
 639              		.align	1
 640              		.global	AUDIO_L_ResetBuffer
 641              		.syntax unified
 642              		.thumb
 643              		.thumb_func
 644              		.fpu fpv5-sp-d16
 646              	AUDIO_L_ResetBuffer:
 647              	.LFB149:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 16


 123:Modules/audio_loader.c **** 
 124:Modules/audio_loader.c **** /* How to introduce this:
 125:Modules/audio_loader.c ****  * - add call to this inside audioPlayerTask loop (in else {})
 126:Modules/audio_loader.c ****  * - make APP_BUTTONS_STATE hold also full file name + shortened for display
 127:Modules/audio_loader.c ****  * - taking message from queue must:
 128:Modules/audio_loader.c ****  * -    call ...UpdateCurrentFile inside audioPlayerTask loop (in if {})
 129:Modules/audio_loader.c ****  * -    set APP_STATE.IS_PLAYING to 1
 130:Modules/audio_loader.c ****  * -    reinitialize BSP with correct frequency
 131:Modules/audio_loader.c ****  * -    change buffer reference and buffer size in AUDIO_P_Play()
 132:Modules/audio_loader.c ****  */
 133:Modules/audio_loader.c **** void AUDIO_L_UpdateBuffer() {
 134:Modules/audio_loader.c ****     uint32_t bytesRead;
 135:Modules/audio_loader.c ****     FRESULT result;
 136:Modules/audio_loader.c **** 
 137:Modules/audio_loader.c ****     switch (BUFFER_OFFSET) {
 138:Modules/audio_loader.c ****         case BUFFER_OFFSET_HALF:
 139:Modules/audio_loader.c ****             result = f_read(&CURRENT_FILE,
 140:Modules/audio_loader.c ****                             &AUDIO_BUFFER[0],
 141:Modules/audio_loader.c ****                             AUDIO_OUT_BUFFER_SIZE / 2,
 142:Modules/audio_loader.c ****                             (void *) &bytesRead);
 143:Modules/audio_loader.c ****             break;
 144:Modules/audio_loader.c ****         case BUFFER_OFFSET_FULL:
 145:Modules/audio_loader.c ****             result = f_read(&CURRENT_FILE,
 146:Modules/audio_loader.c ****                             &AUDIO_BUFFER[AUDIO_OUT_BUFFER_SIZE / 2],
 147:Modules/audio_loader.c ****                             AUDIO_OUT_BUFFER_SIZE / 2,
 148:Modules/audio_loader.c ****                             (void *) &bytesRead);
 149:Modules/audio_loader.c ****             break;
 150:Modules/audio_loader.c ****         default:
 151:Modules/audio_loader.c ****             return;
 152:Modules/audio_loader.c ****     }
 153:Modules/audio_loader.c **** 
 154:Modules/audio_loader.c ****     if (result == FR_OK) {
 155:Modules/audio_loader.c ****         BUFFER_OFFSET = BUFFER_OFFSET_NONE;
 156:Modules/audio_loader.c ****         FILE_OFFSET += bytesRead;
 157:Modules/audio_loader.c ****     } else {
 158:Modules/audio_loader.c ****         xprintf("Stop on error!\r\n");
 159:Modules/audio_loader.c ****         BSP_AUDIO_OUT_Stop(CODEC_PDWN_SW);
 160:Modules/audio_loader.c ****         AUDIO_L_ResetBuffer();
 161:Modules/audio_loader.c ****     }
 162:Modules/audio_loader.c **** 
 163:Modules/audio_loader.c ****     if (bytesRead < AUDIO_OUT_BUFFER_SIZE / 2 && FILE_OFFSET) {
 164:Modules/audio_loader.c ****         xprintf("Stop ok.\r\n");
 165:Modules/audio_loader.c ****         AUDIO_L_ResetBuffer();
 166:Modules/audio_loader.c ****     }
 167:Modules/audio_loader.c **** 
 168:Modules/audio_loader.c **** }
 169:Modules/audio_loader.c **** 
 170:Modules/audio_loader.c **** void AUDIO_L_ResetBuffer() {
 648              		.loc 1 170 28 is_stmt 1 view -0
 649              		.cfi_startproc
 650              		@ args = 0, pretend = 0, frame = 0
 651              		@ frame_needed = 0, uses_anonymous_args = 0
 652 0000 08B5     		push	{r3, lr}
 653              	.LCFI10:
 654              		.cfi_def_cfa_offset 8
 655              		.cfi_offset 3, -8
 656              		.cfi_offset 14, -4
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 17


 171:Modules/audio_loader.c ****     f_close(&CURRENT_FILE);
 657              		.loc 1 171 5 view .LVU155
 658 0002 0648     		ldr	r0, .L40
 659 0004 FFF7FEFF 		bl	f_close
 660              	.LVL61:
 172:Modules/audio_loader.c ****     BUFFER_OFFSET = BUFFER_OFFSET_NONE;
 661              		.loc 1 172 5 view .LVU156
 662              		.loc 1 172 19 is_stmt 0 view .LVU157
 663 0008 054B     		ldr	r3, .L40+4
 664 000a 0B22     		movs	r2, #11
 665 000c 1A70     		strb	r2, [r3]
 173:Modules/audio_loader.c ****     FILE_OFFSET = 0;
 666              		.loc 1 173 5 is_stmt 1 view .LVU158
 667              		.loc 1 173 17 is_stmt 0 view .LVU159
 668 000e 0023     		movs	r3, #0
 669 0010 044A     		ldr	r2, .L40+8
 670 0012 1360     		str	r3, [r2]
 174:Modules/audio_loader.c ****     APP_STATE.IS_PLAYING = 0;
 671              		.loc 1 174 5 is_stmt 1 view .LVU160
 672              		.loc 1 174 26 is_stmt 0 view .LVU161
 673 0014 044A     		ldr	r2, .L40+12
 674 0016 D360     		str	r3, [r2, #12]
 175:Modules/audio_loader.c **** }
 675              		.loc 1 175 1 view .LVU162
 676 0018 08BD     		pop	{r3, pc}
 677              	.L41:
 678 001a 00BF     		.align	2
 679              	.L40:
 680 001c 00000000 		.word	CURRENT_FILE
 681 0020 00000000 		.word	.LANCHOR0
 682 0024 00000000 		.word	.LANCHOR1
 683 0028 00000000 		.word	APP_STATE
 684              		.cfi_endproc
 685              	.LFE149:
 687              		.section	.rodata.AUDIO_L_UpdateBuffer.str1.4,"aMS",%progbits,1
 688              		.align	2
 689              	.LC12:
 690 0000 53746F70 		.ascii	"Stop on error!\015\012\000"
 690      206F6E20 
 690      6572726F 
 690      72210D0A 
 690      00
 691 0011 000000   		.align	2
 692              	.LC13:
 693 0014 53746F70 		.ascii	"Stop ok.\015\012\000"
 693      206F6B2E 
 693      0D0A00
 694              		.section	.text.AUDIO_L_UpdateBuffer,"ax",%progbits
 695              		.align	1
 696              		.global	AUDIO_L_UpdateBuffer
 697              		.syntax unified
 698              		.thumb
 699              		.thumb_func
 700              		.fpu fpv5-sp-d16
 702              	AUDIO_L_UpdateBuffer:
 703              	.LFB148:
 133:Modules/audio_loader.c ****     uint32_t bytesRead;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 18


 704              		.loc 1 133 29 is_stmt 1 view -0
 705              		.cfi_startproc
 706              		@ args = 0, pretend = 0, frame = 8
 707              		@ frame_needed = 0, uses_anonymous_args = 0
 708 0000 00B5     		push	{lr}
 709              	.LCFI11:
 710              		.cfi_def_cfa_offset 4
 711              		.cfi_offset 14, -4
 712 0002 83B0     		sub	sp, sp, #12
 713              	.LCFI12:
 714              		.cfi_def_cfa_offset 16
 134:Modules/audio_loader.c ****     FRESULT result;
 715              		.loc 1 134 5 view .LVU164
 135:Modules/audio_loader.c **** 
 716              		.loc 1 135 5 view .LVU165
 137:Modules/audio_loader.c ****         case BUFFER_OFFSET_HALF:
 717              		.loc 1 137 5 view .LVU166
 718 0004 1B4B     		ldr	r3, .L52
 719 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 720 0008 162B     		cmp	r3, #22
 721 000a 04D0     		beq	.L43
 722 000c 212B     		cmp	r3, #33
 723 000e 20D0     		beq	.L44
 724              	.L42:
 168:Modules/audio_loader.c **** 
 725              		.loc 1 168 1 is_stmt 0 view .LVU167
 726 0010 03B0     		add	sp, sp, #12
 727              	.LCFI13:
 728              		.cfi_remember_state
 729              		.cfi_def_cfa_offset 4
 730              		@ sp needed
 731 0012 5DF804FB 		ldr	pc, [sp], #4
 732              	.L43:
 733              	.LCFI14:
 734              		.cfi_restore_state
 139:Modules/audio_loader.c ****                             &AUDIO_BUFFER[0],
 735              		.loc 1 139 13 is_stmt 1 view .LVU168
 139:Modules/audio_loader.c ****                             &AUDIO_BUFFER[0],
 736              		.loc 1 139 22 is_stmt 0 view .LVU169
 737 0016 01AB     		add	r3, sp, #4
 738 0018 4FF48052 		mov	r2, #4096
 739 001c 1649     		ldr	r1, .L52+4
 740 001e 1748     		ldr	r0, .L52+8
 741 0020 FFF7FEFF 		bl	f_read
 742              	.LVL62:
 143:Modules/audio_loader.c ****         case BUFFER_OFFSET_FULL:
 743              		.loc 1 143 13 is_stmt 1 view .LVU170
 744              	.L46:
 154:Modules/audio_loader.c ****         BUFFER_OFFSET = BUFFER_OFFSET_NONE;
 745              		.loc 1 154 5 view .LVU171
 154:Modules/audio_loader.c ****         BUFFER_OFFSET = BUFFER_OFFSET_NONE;
 746              		.loc 1 154 8 is_stmt 0 view .LVU172
 747 0024 E8B9     		cbnz	r0, .L47
 155:Modules/audio_loader.c ****         FILE_OFFSET += bytesRead;
 748              		.loc 1 155 9 is_stmt 1 view .LVU173
 155:Modules/audio_loader.c ****         FILE_OFFSET += bytesRead;
 749              		.loc 1 155 23 is_stmt 0 view .LVU174
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 19


 750 0026 134B     		ldr	r3, .L52
 751 0028 0B22     		movs	r2, #11
 752 002a 1A70     		strb	r2, [r3]
 156:Modules/audio_loader.c ****     } else {
 753              		.loc 1 156 9 is_stmt 1 view .LVU175
 156:Modules/audio_loader.c ****     } else {
 754              		.loc 1 156 21 is_stmt 0 view .LVU176
 755 002c 144A     		ldr	r2, .L52+12
 756 002e 1368     		ldr	r3, [r2]
 757 0030 0199     		ldr	r1, [sp, #4]
 758 0032 0B44     		add	r3, r3, r1
 759 0034 1360     		str	r3, [r2]
 760              	.LVL63:
 761              	.L48:
 163:Modules/audio_loader.c ****         xprintf("Stop ok.\r\n");
 762              		.loc 1 163 5 is_stmt 1 view .LVU177
 163:Modules/audio_loader.c ****         xprintf("Stop ok.\r\n");
 763              		.loc 1 163 19 is_stmt 0 view .LVU178
 764 0036 019B     		ldr	r3, [sp, #4]
 163:Modules/audio_loader.c ****         xprintf("Stop ok.\r\n");
 765              		.loc 1 163 8 view .LVU179
 766 0038 B3F5805F 		cmp	r3, #4096
 767 003c E8D2     		bcs	.L42
 163:Modules/audio_loader.c ****         xprintf("Stop ok.\r\n");
 768              		.loc 1 163 47 discriminator 1 view .LVU180
 769 003e 104B     		ldr	r3, .L52+12
 770 0040 1B68     		ldr	r3, [r3]
 771 0042 002B     		cmp	r3, #0
 772 0044 E4D0     		beq	.L42
 164:Modules/audio_loader.c ****         AUDIO_L_ResetBuffer();
 773              		.loc 1 164 9 is_stmt 1 view .LVU181
 774 0046 0F48     		ldr	r0, .L52+16
 775 0048 FFF7FEFF 		bl	xprintf
 776              	.LVL64:
 165:Modules/audio_loader.c ****     }
 777              		.loc 1 165 9 view .LVU182
 778 004c FFF7FEFF 		bl	AUDIO_L_ResetBuffer
 779              	.LVL65:
 780 0050 DEE7     		b	.L42
 781              	.L44:
 145:Modules/audio_loader.c ****                             &AUDIO_BUFFER[AUDIO_OUT_BUFFER_SIZE / 2],
 782              		.loc 1 145 13 view .LVU183
 145:Modules/audio_loader.c ****                             &AUDIO_BUFFER[AUDIO_OUT_BUFFER_SIZE / 2],
 783              		.loc 1 145 22 is_stmt 0 view .LVU184
 784 0052 01AB     		add	r3, sp, #4
 785 0054 4FF48052 		mov	r2, #4096
 786 0058 0B49     		ldr	r1, .L52+20
 787 005a 0848     		ldr	r0, .L52+8
 788 005c FFF7FEFF 		bl	f_read
 789              	.LVL66:
 149:Modules/audio_loader.c ****         default:
 790              		.loc 1 149 13 is_stmt 1 view .LVU185
 791 0060 E0E7     		b	.L46
 792              	.L47:
 158:Modules/audio_loader.c ****         BSP_AUDIO_OUT_Stop(CODEC_PDWN_SW);
 793              		.loc 1 158 9 view .LVU186
 794 0062 0A48     		ldr	r0, .L52+24
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 20


 795              	.LVL67:
 158:Modules/audio_loader.c ****         BSP_AUDIO_OUT_Stop(CODEC_PDWN_SW);
 796              		.loc 1 158 9 is_stmt 0 view .LVU187
 797 0064 FFF7FEFF 		bl	xprintf
 798              	.LVL68:
 159:Modules/audio_loader.c ****         AUDIO_L_ResetBuffer();
 799              		.loc 1 159 9 is_stmt 1 view .LVU188
 800 0068 0220     		movs	r0, #2
 801 006a FFF7FEFF 		bl	BSP_AUDIO_OUT_Stop
 802              	.LVL69:
 160:Modules/audio_loader.c ****     }
 803              		.loc 1 160 9 view .LVU189
 804 006e FFF7FEFF 		bl	AUDIO_L_ResetBuffer
 805              	.LVL70:
 806 0072 E0E7     		b	.L48
 807              	.L53:
 808              		.align	2
 809              	.L52:
 810 0074 00000000 		.word	.LANCHOR0
 811 0078 00000000 		.word	AUDIO_BUFFER
 812 007c 00000000 		.word	CURRENT_FILE
 813 0080 00000000 		.word	.LANCHOR1
 814 0084 14000000 		.word	.LC13
 815 0088 00100000 		.word	AUDIO_BUFFER+4096
 816 008c 00000000 		.word	.LC12
 817              		.cfi_endproc
 818              	.LFE148:
 820              		.section	.text.AUDIO_L_UpdateCurrentFile,"ax",%progbits
 821              		.align	1
 822              		.global	AUDIO_L_UpdateCurrentFile
 823              		.syntax unified
 824              		.thumb
 825              		.thumb_func
 826              		.fpu fpv5-sp-d16
 828              	AUDIO_L_UpdateCurrentFile:
 829              	.LVL71:
 830              	.LFB150:
 176:Modules/audio_loader.c **** 
 177:Modules/audio_loader.c **** void AUDIO_L_UpdateCurrentFile(const char *fileName) {
 831              		.loc 1 177 54 view -0
 832              		.cfi_startproc
 833              		@ args = 0, pretend = 0, frame = 8
 834              		@ frame_needed = 0, uses_anonymous_args = 0
 835              		.loc 1 177 54 is_stmt 0 view .LVU191
 836 0000 30B5     		push	{r4, r5, lr}
 837              	.LCFI15:
 838              		.cfi_def_cfa_offset 12
 839              		.cfi_offset 4, -12
 840              		.cfi_offset 5, -8
 841              		.cfi_offset 14, -4
 842 0002 83B0     		sub	sp, sp, #12
 843              	.LCFI16:
 844              		.cfi_def_cfa_offset 24
 845 0004 0546     		mov	r5, r0
 178:Modules/audio_loader.c ****     char *filePath = malloc(1000 * sizeof(char));
 846              		.loc 1 178 5 is_stmt 1 view .LVU192
 847              		.loc 1 178 22 is_stmt 0 view .LVU193
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 21


 848 0006 4FF47A70 		mov	r0, #1000
 849              	.LVL72:
 850              		.loc 1 178 22 view .LVU194
 851 000a FFF7FEFF 		bl	malloc
 852              	.LVL73:
 853 000e 0446     		mov	r4, r0
 854              	.LVL74:
 179:Modules/audio_loader.c ****     int bytesRead;
 855              		.loc 1 179 5 is_stmt 1 view .LVU195
 180:Modules/audio_loader.c **** 
 181:Modules/audio_loader.c ****     if (sprintf(filePath, "%s/%s", AUDIO_DIRECTORY_PATH, fileName) > 0) {
 856              		.loc 1 181 5 view .LVU196
 857              		.loc 1 181 9 is_stmt 0 view .LVU197
 858 0010 2B46     		mov	r3, r5
 859 0012 134A     		ldr	r2, .L58
 860 0014 1349     		ldr	r1, .L58+4
 861 0016 FFF7FEFF 		bl	sprintf
 862              	.LVL75:
 863              		.loc 1 181 8 view .LVU198
 864 001a 0028     		cmp	r0, #0
 865 001c 04DC     		bgt	.L57
 866              	.LVL76:
 867              	.L55:
 182:Modules/audio_loader.c ****         if (f_open(&CURRENT_FILE, filePath, FA_READ) == FR_OK) {
 183:Modules/audio_loader.c ****             f_lseek(&CURRENT_FILE, WAV_HEADER_LENGTH); // skip the header
 184:Modules/audio_loader.c ****             f_read(&CURRENT_FILE, &AUDIO_BUFFER[0], AUDIO_OUT_BUFFER_SIZE, (void *) &bytesRead);
 185:Modules/audio_loader.c **** 
 186:Modules/audio_loader.c ****             FILE_OFFSET = WAV_HEADER_LENGTH + bytesRead;
 187:Modules/audio_loader.c ****             BUFFER_OFFSET = BUFFER_OFFSET_NONE;
 188:Modules/audio_loader.c ****         }
 189:Modules/audio_loader.c ****     }
 190:Modules/audio_loader.c **** 
 191:Modules/audio_loader.c ****     free(filePath);
 868              		.loc 1 191 5 is_stmt 1 view .LVU199
 869 001e 2046     		mov	r0, r4
 870 0020 FFF7FEFF 		bl	free
 871              	.LVL77:
 192:Modules/audio_loader.c **** }...
 872              		.loc 1 192 1 is_stmt 0 view .LVU200
 873 0024 03B0     		add	sp, sp, #12
 874              	.LCFI17:
 875              		.cfi_remember_state
 876              		.cfi_def_cfa_offset 12
 877              		@ sp needed
 878 0026 30BD     		pop	{r4, r5, pc}
 879              	.LVL78:
 880              	.L57:
 881              	.LCFI18:
 882              		.cfi_restore_state
 182:Modules/audio_loader.c ****         if (f_open(&CURRENT_FILE, filePath, FA_READ) == FR_OK) {
 883              		.loc 1 182 9 is_stmt 1 view .LVU201
 182:Modules/audio_loader.c ****         if (f_open(&CURRENT_FILE, filePath, FA_READ) == FR_OK) {
 884              		.loc 1 182 13 is_stmt 0 view .LVU202
 885 0028 0122     		movs	r2, #1
 886 002a 2146     		mov	r1, r4
 887 002c 0E48     		ldr	r0, .L58+8
 888 002e FFF7FEFF 		bl	f_open
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 22


 889              	.LVL79:
 182:Modules/audio_loader.c ****         if (f_open(&CURRENT_FILE, filePath, FA_READ) == FR_OK) {
 890              		.loc 1 182 12 view .LVU203
 891 0032 0028     		cmp	r0, #0
 892 0034 F3D1     		bne	.L55
 183:Modules/audio_loader.c ****             f_lseek(&CURRENT_FILE, WAV_HEADER_LENGTH); // skip the header
 893              		.loc 1 183 13 is_stmt 1 view .LVU204
 894 0036 0C4D     		ldr	r5, .L58+8
 895              	.LVL80:
 183:Modules/audio_loader.c ****             f_lseek(&CURRENT_FILE, WAV_HEADER_LENGTH); // skip the header
 896              		.loc 1 183 13 is_stmt 0 view .LVU205
 897 0038 2C21     		movs	r1, #44
 898 003a 2846     		mov	r0, r5
 899 003c FFF7FEFF 		bl	f_lseek
 900              	.LVL81:
 184:Modules/audio_loader.c ****             f_read(&CURRENT_FILE, &AUDIO_BUFFER[0], AUDIO_OUT_BUFFER_SIZE, (void *) &bytesRead);
 901              		.loc 1 184 13 is_stmt 1 view .LVU206
 902 0040 01AB     		add	r3, sp, #4
 903 0042 4FF40052 		mov	r2, #8192
 904 0046 0949     		ldr	r1, .L58+12
 905 0048 2846     		mov	r0, r5
 906 004a FFF7FEFF 		bl	f_read
 907              	.LVL82:
 186:Modules/audio_loader.c ****             FILE_OFFSET = WAV_HEADER_LENGTH + bytesRead;
 908              		.loc 1 186 13 view .LVU207
 186:Modules/audio_loader.c ****             FILE_OFFSET = WAV_HEADER_LENGTH + bytesRead;
 909              		.loc 1 186 45 is_stmt 0 view .LVU208
 910 004e 019B     		ldr	r3, [sp, #4]
 911 0050 2C33     		adds	r3, r3, #44
 186:Modules/audio_loader.c ****             FILE_OFFSET = WAV_HEADER_LENGTH + bytesRead;
 912              		.loc 1 186 25 view .LVU209
 913 0052 074A     		ldr	r2, .L58+16
 914 0054 1360     		str	r3, [r2]
 187:Modules/audio_loader.c ****             BUFFER_OFFSET = BUFFER_OFFSET_NONE;
 915              		.loc 1 187 13 is_stmt 1 view .LVU210
 187:Modules/audio_loader.c ****             BUFFER_OFFSET = BUFFER_OFFSET_NONE;
 916              		.loc 1 187 27 is_stmt 0 view .LVU211
 917 0056 074B     		ldr	r3, .L58+20
 918 0058 0B22     		movs	r2, #11
 919 005a 1A70     		strb	r2, [r3]
 920 005c DFE7     		b	.L55
 921              	.L59:
 922 005e 00BF     		.align	2
 923              	.L58:
 924 0060 00000000 		.word	.LC0
 925 0064 00000000 		.word	.LC8
 926 0068 00000000 		.word	CURRENT_FILE
 927 006c 00000000 		.word	AUDIO_BUFFER
 928 0070 00000000 		.word	.LANCHOR1
 929 0074 00000000 		.word	.LANCHOR0
 930              		.cfi_endproc
 931              	.LFE150:
 933              		.comm	CURRENT_FILE,560,4
 934              		.global	BUFFER_OFFSET
 935              		.global	FILE_OFFSET
 936              		.global	AUDIO_BUFFER
 937              		.section	.bss.FILE_OFFSET,"aw",%nobits
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 23


 938              		.align	2
 939              		.set	.LANCHOR1,. + 0
 942              	FILE_OFFSET:
 943 0000 00000000 		.space	4
 944              		.section	.data.BUFFER_OFFSET,"aw"
 945              		.set	.LANCHOR0,. + 0
 948              	BUFFER_OFFSET:
 949 0000 0B       		.byte	11
 950              		.section	.sdram,"aw"
 951              		.align	2
 954              	AUDIO_BUFFER:
 955 0000 00000000 		.space	1048576
 955      00000000 
 955      00000000 
 955      00000000 
 955      00000000 
 956              		.text
 957              	.Letext0:
 958              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 959              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 960              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 961              		.file 5 "Drivers/CMSIS/Include/core_cm7.h"
 962              		.file 6 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 963              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 964              		.file 8 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 965              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\lib\\gcc\\arm-none-eabi
 966              		.file 10 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 967              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 968              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 969              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 970              		.file 14 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 971              		.file 15 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 972              		.file 16 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_def.h"
 973              		.file 17 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_ctlreq.h"
 974              		.file 18 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc.h"
 975              		.file 19 "Middlewares/Third_Party/FatFs/src/ff.h"
 976              		.file 20 "Drivers/BSP/STM32746G-Discovery/../Components/wm8994/../Common/audio.h"
 977              		.file 21 "Drivers/BSP/STM32746G-Discovery/../Components/wm8994/wm8994.h"
 978              		.file 22 "Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_audio.h"
 979              		.file 23 "Modules/audio_loader.h"
 980              		.file 24 "Modules/controls.h"
 981              		.file 25 "Drivers/BSP/STM32746G-Discovery/../Components/ft5336/../Common/ts.h"
 982              		.file 26 "Drivers/BSP/STM32746G-Discovery/../Components/ft5336/ft5336.h"
 983              		.file 27 "Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.h"
 984              		.file 28 "Modules/audio_player.h"
 985              		.file 29 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 986              		.file 30 "Inc/term_io.h"
 987              		.file 31 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 988              		.file 32 "<built-in>"
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s 			page 24


DEFINED SYMBOLS
                            *ABS*:00000000 audio_loader.c
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:18     .rodata.AUDIO_L_CreateAudioDirectory.str1.4:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:25     .text.AUDIO_L_CreateAudioDirectory:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:33     .text.AUDIO_L_CreateAudioDirectory:00000000 AUDIO_L_CreateAudioDirectory
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:74     .text.AUDIO_L_CreateAudioDirectory:0000001c $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:80     .rodata.AUDIO_L_ScanAudioDirectory.str1.4:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:96     .text.AUDIO_L_ScanAudioDirectory:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:103    .text.AUDIO_L_ScanAudioDirectory:00000000 AUDIO_L_ScanAudioDirectory
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:290    .text.AUDIO_L_ScanAudioDirectory:000000b4 $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:301    .rodata.AUDIO_L_ResetState.str1.4:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:305    .text.AUDIO_L_ResetState:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:312    .text.AUDIO_L_ResetState:00000000 AUDIO_L_ResetState
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:361    .text.AUDIO_L_ResetState:00000028 $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:367    .text.AUDIO_L_PerformScan:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:374    .text.AUDIO_L_PerformScan:00000000 AUDIO_L_PerformScan
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:419    .rodata.AUDIO_L_LoadFileUnderButton.str1.4:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:434    .text.AUDIO_L_LoadFileUnderButton:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:441    .text.AUDIO_L_LoadFileUnderButton:00000000 AUDIO_L_LoadFileUnderButton
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:628    .text.AUDIO_L_LoadFileUnderButton:000000e8 $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:954    .sdram:00000000 AUDIO_BUFFER
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:639    .text.AUDIO_L_ResetBuffer:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:646    .text.AUDIO_L_ResetBuffer:00000000 AUDIO_L_ResetBuffer
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:680    .text.AUDIO_L_ResetBuffer:0000001c $d
                            *COM*:00000230 CURRENT_FILE
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:688    .rodata.AUDIO_L_UpdateBuffer.str1.4:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:695    .text.AUDIO_L_UpdateBuffer:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:702    .text.AUDIO_L_UpdateBuffer:00000000 AUDIO_L_UpdateBuffer
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:810    .text.AUDIO_L_UpdateBuffer:00000074 $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:821    .text.AUDIO_L_UpdateCurrentFile:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:828    .text.AUDIO_L_UpdateCurrentFile:00000000 AUDIO_L_UpdateCurrentFile
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:924    .text.AUDIO_L_UpdateCurrentFile:00000060 $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:948    .data.BUFFER_OFFSET:00000000 BUFFER_OFFSET
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:942    .bss.FILE_OFFSET:00000000 FILE_OFFSET
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:938    .bss.FILE_OFFSET:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccsddaNt.s:951    .sdram:00000000 $d

UNDEFINED SYMBOLS
f_mkdir
xprintf
f_findfirst
strlen
malloc
strcpy
f_findnext
f_closedir
APP_STATE
free
sprintf
f_open
f_lseek
f_read
f_close
APP_BUTTONS_STATE
BSP_AUDIO_OUT_Stop
