ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbh_msc_scsi.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USBH_MSC_SCSI_TestUnitReady,"ax",%progbits
  18              		.align	1
  19              		.global	USBH_MSC_SCSI_TestUnitReady
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-sp-d16
  26              	USBH_MSC_SCSI_TestUnitReady:
  27              	.LVL0:
  28              	.LFB143:
  29              		.file 1 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c"
   1:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
   2:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   ******************************************************************************
   3:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @file    usbh_msc_scsi.c
   4:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @author  MCD Application Team
   5:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief   This file implements the SCSI commands
   6:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   ******************************************************************************
   7:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @attention
   8:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *
   9:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * <h2><center>&copy; Copyright (c) 2017 STMicroelectronics International N.V.
  10:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * All rights reserved.</center></h2>
  11:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *
  12:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * Redistribution and use in source and binary forms, with or without
  13:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * modification, are permitted, provided that the following conditions are met:
  14:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *
  15:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * 1. Redistribution of source code must retain the above copyright notice,
  16:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *    this list of conditions and the following disclaimer.
  17:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * 2. Redistributions in binary form must reproduce the above copyright notice,
  18:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *    this list of conditions and the following disclaimer in the documentation
  19:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *    and/or other materials provided with the distribution.
  20:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * 3. Neither the name of STMicroelectronics nor the names of other
  21:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *    contributors to this software may be used to endorse or promote products
  22:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *    derived from this software without specific written permission.
  23:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * 4. This software, including modifications and/or derivative works of this
  24:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *    software, must execute solely and exclusively on microcontroller or
  25:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *    microprocessor devices manufactured by or for STMicroelectronics.
  26:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * 5. Redistribution and use of this software other than as permitted under
  27:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *    this license is void and will automatically terminate your rights under
  28:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *    this license.
  29:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 2


  30:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * THIS SOFTWARE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS"
  31:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT
  32:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
  33:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY
  34:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT
  35:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
  36:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  37:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
  38:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  39:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  40:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  41:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  42:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *
  43:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   ******************************************************************************
  44:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  45:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  46:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   /* BSPDependencies
  47:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   - "stm32xxxxx_{eval}{discovery}{nucleo_144}.c"
  48:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   - "stm32xxxxx_{eval}{discovery}_io.c"
  49:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   - "stm32xxxxx_{eval}{discovery}{adafruit}_lcd.c"
  50:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   - "stm32xxxxx_{eval}{discovery}_sdram.c"
  51:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   EndBSPDependencies */
  52:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  53:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /* Includes ------------------------------------------------------------------*/
  54:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** #include "usbh_msc.h"
  55:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** #include "usbh_msc_scsi.h"
  56:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** #include "usbh_msc_bot.h"
  57:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  58:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** #include "term_io.h"
  59:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** #include "dbgu.h"
  60:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  61:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @addtogroup USBH_LIB
  62:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  63:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  64:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  65:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @addtogroup USBH_CLASS
  66:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  67:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  68:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  69:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @addtogroup USBH_MSC_CLASS
  70:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  71:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  72:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  73:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI
  74:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief    This file includes the mass storage related functions
  75:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  76:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  77:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  78:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  79:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Private_TypesDefinitions
  80:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  81:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  82:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  83:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
  84:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @}
  85:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  86:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 3


  87:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Private_Defines
  88:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  89:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  90:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
  91:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @}
  92:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  93:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  94:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Private_Macros
  95:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  96:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  97:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
  98:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @}
  99:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 100:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 101:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 102:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Private_FunctionPrototypes
 103:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
 104:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 105:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 106:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @}
 107:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 108:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 109:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 110:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Exported_Variables
 111:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
 112:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 113:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 114:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 115:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @}
 116:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 117:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 118:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 119:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Private_Functions
 120:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
 121:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 122:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 123:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 124:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 125:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_TestUnitReady
 126:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue TestUnitReady command.
 127:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 128:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 129:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 130:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 131:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_TestUnitReady (USBH_HandleTypeDef *phost,
 132:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                                 uint8_t lun)
 133:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
  30              		.loc 1 133 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 133 1 is_stmt 0 view .LVU1
  35 0000 08B5     		push	{r3, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 3, -8
  39              		.cfi_offset 14, -4
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 4


  40 0002 0246     		mov	r2, r0
 134:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef    error = USBH_FAIL ;
  41              		.loc 1 134 3 is_stmt 1 view .LVU2
  42              	.LVL1:
 135:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
  43              		.loc 1 135 3 view .LVU3
  44              		.loc 1 135 63 is_stmt 0 view .LVU4
  45 0004 D0F87833 		ldr	r3, [r0, #888]
  46              		.loc 1 135 22 view .LVU5
  47 0008 DB69     		ldr	r3, [r3, #28]
  48              	.LVL2:
 136:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 137:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch(MSC_Handle->hbot.cmd_state)
  49              		.loc 1 137 3 is_stmt 1 view .LVU6
  50              		.loc 1 137 26 is_stmt 0 view .LVU7
  51 000a 93F85200 		ldrb	r0, [r3, #82]	@ zero_extendqisi2
  52              	.LVL3:
  53              		.loc 1 137 3 view .LVU8
  54 000e 0128     		cmp	r0, #1
  55 0010 03D0     		beq	.L2
  56 0012 0228     		cmp	r0, #2
  57 0014 19D0     		beq	.L3
  58 0016 0220     		movs	r0, #2
  59              	.LVL4:
  60              	.L4:
 138:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
 139:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_SEND:
 140:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 141:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     /*Prepare the CBW and relevent field*/
 142:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.DataTransferLength = DATA_LEN_MODE_TEST_UNIT_READY;
 143:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 144:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 145:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 146:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_CB_LENGTH);
 147:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_TEST_UNIT_READY;
 148:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 149:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.state = BOT_SEND_CBW;
 150:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 151:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 152:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 153:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 154:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_WAIT:
 155:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_MSC_BOT_Process(phost, lun);
 156:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 157:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 158:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   default:
 159:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 160:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 161:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 162:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
  61              		.loc 1 162 3 is_stmt 1 view .LVU9
 163:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
  62              		.loc 1 163 1 is_stmt 0 view .LVU10
  63 0018 08BD     		pop	{r3, pc}
  64              	.LVL5:
  65              	.L2:
 142:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 5


  66              		.loc 1 142 5 is_stmt 1 view .LVU11
 142:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
  67              		.loc 1 142 51 is_stmt 0 view .LVU12
  68 001a 0022     		movs	r2, #0
  69              	.LVL6:
 142:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
  70              		.loc 1 142 51 view .LVU13
  71 001c DA65     		str	r2, [r3, #92]
 143:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
  72              		.loc 1 143 5 is_stmt 1 view .LVU14
 143:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
  73              		.loc 1 143 38 is_stmt 0 view .LVU15
  74 001e 83F86020 		strb	r2, [r3, #96]
 144:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  75              		.loc 1 144 5 is_stmt 1 view .LVU16
 144:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  76              		.loc 1 144 41 is_stmt 0 view .LVU17
  77 0022 0A21     		movs	r1, #10
  78              	.LVL7:
 144:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  79              		.loc 1 144 41 view .LVU18
  80 0024 83F86210 		strb	r1, [r3, #98]
 146:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_TEST_UNIT_READY;
  81              		.loc 1 146 5 is_stmt 1 view .LVU19
  82 0028 C3F86320 		str	r2, [r3, #99]	@ unaligned
  83 002c C3F86720 		str	r2, [r3, #103]	@ unaligned
  84 0030 C3F86B20 		str	r2, [r3, #107]	@ unaligned
  85 0034 C3F86F20 		str	r2, [r3, #111]	@ unaligned
 147:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  86              		.loc 1 147 5 view .LVU20
 147:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  87              		.loc 1 147 39 is_stmt 0 view .LVU21
  88 0038 83F86320 		strb	r2, [r3, #99]
 149:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
  89              		.loc 1 149 5 is_stmt 1 view .LVU22
 149:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
  90              		.loc 1 149 28 is_stmt 0 view .LVU23
  91 003c 0122     		movs	r2, #1
  92 003e 83F85020 		strb	r2, [r3, #80]
 150:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
  93              		.loc 1 150 5 is_stmt 1 view .LVU24
 150:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
  94              		.loc 1 150 32 is_stmt 0 view .LVU25
  95 0042 0222     		movs	r2, #2
  96 0044 83F85220 		strb	r2, [r3, #82]
 151:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
  97              		.loc 1 151 5 is_stmt 1 view .LVU26
  98              	.LVL8:
 152:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  99              		.loc 1 152 5 view .LVU27
 100 0048 E6E7     		b	.L4
 101              	.LVL9:
 102              	.L3:
 155:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 103              		.loc 1 155 5 view .LVU28
 155:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 104              		.loc 1 155 13 is_stmt 0 view .LVU29
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 6


 105 004a 1046     		mov	r0, r2
 106 004c FFF7FEFF 		bl	USBH_MSC_BOT_Process
 107              	.LVL10:
 156:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 108              		.loc 1 156 5 is_stmt 1 view .LVU30
 109 0050 E2E7     		b	.L4
 110              		.cfi_endproc
 111              	.LFE143:
 113              		.section	.text.USBH_MSC_SCSI_ReadCapacity,"ax",%progbits
 114              		.align	1
 115              		.global	USBH_MSC_SCSI_ReadCapacity
 116              		.syntax unified
 117              		.thumb
 118              		.thumb_func
 119              		.fpu fpv5-sp-d16
 121              	USBH_MSC_SCSI_ReadCapacity:
 122              	.LVL11:
 123              	.LFB144:
 164:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 165:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 166:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_ReadCapacity
 167:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue Read Capacity command.
 168:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 169:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 170:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  capacity: pointer to the capacity structure
 171:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 172:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 173:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_ReadCapacity (USBH_HandleTypeDef *phost,
 174:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                                uint8_t lun,
 175:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                                SCSI_CapacityTypeDef *capacity)
 176:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
 124              		.loc 1 176 1 view -0
 125              		.cfi_startproc
 126              		@ args = 0, pretend = 0, frame = 0
 127              		@ frame_needed = 0, uses_anonymous_args = 0
 128              		.loc 1 176 1 is_stmt 0 view .LVU32
 129 0000 38B5     		push	{r3, r4, r5, lr}
 130              	.LCFI1:
 131              		.cfi_def_cfa_offset 16
 132              		.cfi_offset 3, -16
 133              		.cfi_offset 4, -12
 134              		.cfi_offset 5, -8
 135              		.cfi_offset 14, -4
 136 0002 0346     		mov	r3, r0
 177:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef    error = USBH_BUSY ;
 137              		.loc 1 177 3 is_stmt 1 view .LVU33
 138              	.LVL12:
 178:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 139              		.loc 1 178 3 view .LVU34
 140              		.loc 1 178 63 is_stmt 0 view .LVU35
 141 0004 D0F87803 		ldr	r0, [r0, #888]
 142              	.LVL13:
 143              		.loc 1 178 22 view .LVU36
 144 0008 C469     		ldr	r4, [r0, #28]
 145              	.LVL14:
 179:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 180:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch(MSC_Handle->hbot.cmd_state)
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 7


 146              		.loc 1 180 3 is_stmt 1 view .LVU37
 147              		.loc 1 180 26 is_stmt 0 view .LVU38
 148 000a 94F85200 		ldrb	r0, [r4, #82]	@ zero_extendqisi2
 149              		.loc 1 180 3 view .LVU39
 150 000e 0128     		cmp	r0, #1
 151 0010 04D0     		beq	.L7
 152 0012 1546     		mov	r5, r2
 153 0014 0228     		cmp	r0, #2
 154 0016 20D0     		beq	.L8
 155 0018 0120     		movs	r0, #1
 156              	.LVL15:
 157              	.L9:
 181:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
 182:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_SEND:
 183:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 184:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     /*Prepare the CBW and relevent field*/
 185:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.DataTransferLength = DATA_LEN_READ_CAPACITY10;
 186:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 187:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 188:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 189:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_CB_LENGTH);
 190:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_READ_CAPACITY10;
 191:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 192:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.state = BOT_SEND_CBW;
 193:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 195:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 196:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 197:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 198:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 199:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_WAIT:
 200:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 201:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_MSC_BOT_Process(phost, lun);
 202:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 203:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     if(error == USBH_OK)
 204:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     {
 205:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*assign the capacity*/
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       capacity->block_nbr = MSC_Handle->hbot.pbuf[3] | ((uint32_t)MSC_Handle->hbot.pbuf[2] << 8U) |
 207:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                            ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->hbo
 208:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 209:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*assign the page length*/
 210:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       capacity->block_size = (uint16_t)(MSC_Handle->hbot.pbuf[7] | ((uint32_t)MSC_Handle->hbot.pbuf
 211:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 212:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 213:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 214:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   default:
 215:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 216:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 217:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 218:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
 158              		.loc 1 218 3 is_stmt 1 view .LVU40
 219:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
 159              		.loc 1 219 1 is_stmt 0 view .LVU41
 160 001a 38BD     		pop	{r3, r4, r5, pc}
 161              	.LVL16:
 162              	.L7:
 185:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 8


 163              		.loc 1 185 5 is_stmt 1 view .LVU42
 185:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 164              		.loc 1 185 51 is_stmt 0 view .LVU43
 165 001c 0823     		movs	r3, #8
 166              	.LVL17:
 185:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 167              		.loc 1 185 51 view .LVU44
 168 001e E365     		str	r3, [r4, #92]
 186:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 169              		.loc 1 186 5 is_stmt 1 view .LVU45
 186:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 170              		.loc 1 186 38 is_stmt 0 view .LVU46
 171 0020 8023     		movs	r3, #128
 172 0022 84F86030 		strb	r3, [r4, #96]
 187:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 173              		.loc 1 187 5 is_stmt 1 view .LVU47
 187:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 174              		.loc 1 187 41 is_stmt 0 view .LVU48
 175 0026 0A23     		movs	r3, #10
 176 0028 84F86230 		strb	r3, [r4, #98]
 189:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_READ_CAPACITY10;
 177              		.loc 1 189 5 is_stmt 1 view .LVU49
 178 002c 0023     		movs	r3, #0
 179 002e C4F86330 		str	r3, [r4, #99]	@ unaligned
 180 0032 C4F86730 		str	r3, [r4, #103]	@ unaligned
 181 0036 C4F86B30 		str	r3, [r4, #107]	@ unaligned
 182 003a C4F86F30 		str	r3, [r4, #111]	@ unaligned
 190:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 183              		.loc 1 190 5 view .LVU50
 190:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 184              		.loc 1 190 39 is_stmt 0 view .LVU51
 185 003e 2523     		movs	r3, #37
 186 0040 84F86330 		strb	r3, [r4, #99]
 192:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 187              		.loc 1 192 5 is_stmt 1 view .LVU52
 192:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 188              		.loc 1 192 28 is_stmt 0 view .LVU53
 189 0044 0123     		movs	r3, #1
 190 0046 84F85030 		strb	r3, [r4, #80]
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 191              		.loc 1 194 5 is_stmt 1 view .LVU54
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 192              		.loc 1 194 32 is_stmt 0 view .LVU55
 193 004a 0223     		movs	r3, #2
 194 004c 84F85230 		strb	r3, [r4, #82]
 195:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 195              		.loc 1 195 5 is_stmt 1 view .LVU56
 195:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 196              		.loc 1 195 48 is_stmt 0 view .LVU57
 197 0050 04F11003 		add	r3, r4, #16
 195:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 198              		.loc 1 195 27 view .LVU58
 199 0054 C4F88C30 		str	r3, [r4, #140]
 196:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 200              		.loc 1 196 5 is_stmt 1 view .LVU59
 197:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 201              		.loc 1 197 5 view .LVU60
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 9


 202 0058 DFE7     		b	.L9
 203              	.LVL18:
 204              	.L8:
 201:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 205              		.loc 1 201 5 view .LVU61
 201:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 206              		.loc 1 201 13 is_stmt 0 view .LVU62
 207 005a 1846     		mov	r0, r3
 208 005c FFF7FEFF 		bl	USBH_MSC_BOT_Process
 209              	.LVL19:
 203:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     {
 210              		.loc 1 203 5 is_stmt 1 view .LVU63
 203:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     {
 211              		.loc 1 203 7 is_stmt 0 view .LVU64
 212 0060 0028     		cmp	r0, #0
 213 0062 DAD1     		bne	.L9
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                            ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->hbo
 214              		.loc 1 206 7 is_stmt 1 view .LVU65
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                            ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->hbo
 215              		.loc 1 206 45 is_stmt 0 view .LVU66
 216 0064 D4F88C20 		ldr	r2, [r4, #140]
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                            ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->hbo
 217              		.loc 1 206 50 view .LVU67
 218 0068 D378     		ldrb	r3, [r2, #3]	@ zero_extendqisi2
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                            ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->hbo
 219              		.loc 1 206 88 view .LVU68
 220 006a 9178     		ldrb	r1, [r2, #2]	@ zero_extendqisi2
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                            ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->hbo
 221              		.loc 1 206 54 view .LVU69
 222 006c 43EA0123 		orr	r3, r3, r1, lsl #8
 207:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 223              		.loc 1 207 60 view .LVU70
 224 0070 5178     		ldrb	r1, [r2, #1]	@ zero_extendqisi2
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                            ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->hbo
 225              		.loc 1 206 99 view .LVU71
 226 0072 43EA0143 		orr	r3, r3, r1, lsl #16
 207:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 227              		.loc 1 207 106 view .LVU72
 228 0076 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 207:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 229              		.loc 1 207 72 view .LVU73
 230 0078 43EA0263 		orr	r3, r3, r2, lsl #24
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                            ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->hbo
 231              		.loc 1 206 27 view .LVU74
 232 007c 2B60     		str	r3, [r5]
 210:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 233              		.loc 1 210 7 is_stmt 1 view .LVU75
 210:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 234              		.loc 1 210 57 is_stmt 0 view .LVU76
 235 007e D4F88C20 		ldr	r2, [r4, #140]
 210:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 236              		.loc 1 210 62 view .LVU77
 237 0082 D379     		ldrb	r3, [r2, #7]	@ zero_extendqisi2
 210:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 238              		.loc 1 210 100 view .LVU78
 239 0084 9279     		ldrb	r2, [r2, #6]	@ zero_extendqisi2
 210:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 10


 240              		.loc 1 210 30 view .LVU79
 241 0086 43EA0223 		orr	r3, r3, r2, lsl #8
 210:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 242              		.loc 1 210 28 view .LVU80
 243 008a AB80     		strh	r3, [r5, #4]	@ movhi
 244 008c C5E7     		b	.L9
 245              		.cfi_endproc
 246              	.LFE144:
 248              		.section	.text.USBH_MSC_SCSI_Inquiry,"ax",%progbits
 249              		.align	1
 250              		.global	USBH_MSC_SCSI_Inquiry
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 254              		.fpu fpv5-sp-d16
 256              	USBH_MSC_SCSI_Inquiry:
 257              	.LVL20:
 258              	.LFB145:
 220:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 221:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 222:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_Inquiry
 223:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue Inquiry command.
 224:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 225:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 226:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  capacity: pointer to the inquiry structure
 227:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 228:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 229:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_Inquiry (USBH_HandleTypeDef *phost, uint8_t lun,
 230:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                           SCSI_StdInquiryDataTypeDef *inquiry)
 231:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
 259              		.loc 1 231 1 is_stmt 1 view -0
 260              		.cfi_startproc
 261              		@ args = 0, pretend = 0, frame = 0
 262              		@ frame_needed = 0, uses_anonymous_args = 0
 263              		.loc 1 231 1 is_stmt 0 view .LVU82
 264 0000 70B5     		push	{r4, r5, r6, lr}
 265              	.LCFI2:
 266              		.cfi_def_cfa_offset 16
 267              		.cfi_offset 4, -16
 268              		.cfi_offset 5, -12
 269              		.cfi_offset 6, -8
 270              		.cfi_offset 14, -4
 232:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef error = USBH_FAIL;
 271              		.loc 1 232 3 is_stmt 1 view .LVU83
 272              	.LVL21:
 233:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 273              		.loc 1 233 3 view .LVU84
 274              		.loc 1 233 62 is_stmt 0 view .LVU85
 275 0002 D0F87833 		ldr	r3, [r0, #888]
 276              		.loc 1 233 22 view .LVU86
 277 0006 DC69     		ldr	r4, [r3, #28]
 278              	.LVL22:
 234:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 235:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch(MSC_Handle->hbot.cmd_state)
 279              		.loc 1 235 3 is_stmt 1 view .LVU87
 280              		.loc 1 235 26 is_stmt 0 view .LVU88
 281 0008 94F85250 		ldrb	r5, [r4, #82]	@ zero_extendqisi2
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 11


 282              		.loc 1 235 3 view .LVU89
 283 000c 012D     		cmp	r5, #1
 284 000e 05D0     		beq	.L12
 285 0010 1646     		mov	r6, r2
 286 0012 022D     		cmp	r5, #2
 287 0014 26D0     		beq	.L13
 288 0016 0225     		movs	r5, #2
 289              	.LVL23:
 290              	.L14:
 236:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
 237:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_SEND:
 238:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 239:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     /*Prepare the CBW and relevent field*/
 240:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.DataTransferLength = DATA_LEN_INQUIRY;
 241:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 242:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 243:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 244:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_LENGTH);
 245:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_INQUIRY;
 246:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[1]  = (lun << 5);
 247:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 248:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = 0U;
 249:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = 0x24U;
 250:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = 0U;
 251:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 252:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.state = BOT_SEND_CBW;
 253:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 254:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 255:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 256:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 257:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 258:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 259:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_WAIT:
 260:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 261:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_MSC_BOT_Process(phost, lun);
 262:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 263:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     if(error == USBH_OK)
 264:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     {
 265:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memset(inquiry, 0, sizeof(SCSI_StdInquiryDataTypeDef));
 266:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*assign Inquiry Data */
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       inquiry->DeviceType = MSC_Handle->hbot.pbuf[0] & 0x1FU;
 268:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       inquiry->PeripheralQualifier = MSC_Handle->hbot.pbuf[0] >> 5U;
 269:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 270:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       if (((uint32_t)MSC_Handle->hbot.pbuf[1] & 0x80U) == 0x80U)
 271:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 272:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         inquiry->RemovableMedia = 1U;
 273:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 274:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       else
 275:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 276:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         inquiry->RemovableMedia = 0U;
 277:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 278:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 279:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memcpy (inquiry->vendor_id, &MSC_Handle->hbot.pbuf[8], 8U);
 280:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memcpy (inquiry->product_id, &MSC_Handle->hbot.pbuf[16], 16U);
 281:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memcpy (inquiry->revision_id, &MSC_Handle->hbot.pbuf[32], 4U);
 282:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 283:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 12


 284:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 285:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   default:
 286:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 287:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 288:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 289:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
 291              		.loc 1 289 3 is_stmt 1 view .LVU90
 290:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
 292              		.loc 1 290 1 is_stmt 0 view .LVU91
 293 0018 2846     		mov	r0, r5
 294 001a 70BD     		pop	{r4, r5, r6, pc}
 295              	.LVL24:
 296              	.L12:
 240:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 297              		.loc 1 240 5 is_stmt 1 view .LVU92
 240:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 298              		.loc 1 240 51 is_stmt 0 view .LVU93
 299 001c 2422     		movs	r2, #36
 300              	.LVL25:
 240:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 301              		.loc 1 240 51 view .LVU94
 302 001e E265     		str	r2, [r4, #92]
 241:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 303              		.loc 1 241 5 is_stmt 1 view .LVU95
 241:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 304              		.loc 1 241 38 is_stmt 0 view .LVU96
 305 0020 8023     		movs	r3, #128
 306 0022 84F86030 		strb	r3, [r4, #96]
 242:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 307              		.loc 1 242 5 is_stmt 1 view .LVU97
 242:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 308              		.loc 1 242 41 is_stmt 0 view .LVU98
 309 0026 0A23     		movs	r3, #10
 310 0028 84F86230 		strb	r3, [r4, #98]
 244:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_INQUIRY;
 311              		.loc 1 244 5 is_stmt 1 view .LVU99
 312 002c 0023     		movs	r3, #0
 313 002e C4F86930 		str	r3, [r4, #105]	@ unaligned
 245:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[1]  = (lun << 5);
 314              		.loc 1 245 5 view .LVU100
 245:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[1]  = (lun << 5);
 315              		.loc 1 245 39 is_stmt 0 view .LVU101
 316 0032 1220     		movs	r0, #18
 317              	.LVL26:
 245:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[1]  = (lun << 5);
 318              		.loc 1 245 39 view .LVU102
 319 0034 84F86300 		strb	r0, [r4, #99]
 246:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 320              		.loc 1 246 5 is_stmt 1 view .LVU103
 246:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 321              		.loc 1 246 46 is_stmt 0 view .LVU104
 322 0038 4901     		lsls	r1, r1, #5
 323              	.LVL27:
 246:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 324              		.loc 1 246 39 view .LVU105
 325 003a 84F86410 		strb	r1, [r4, #100]
 247:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = 0U;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 13


 326              		.loc 1 247 5 is_stmt 1 view .LVU106
 247:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = 0U;
 327              		.loc 1 247 39 is_stmt 0 view .LVU107
 328 003e 84F86530 		strb	r3, [r4, #101]
 248:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = 0x24U;
 329              		.loc 1 248 5 is_stmt 1 view .LVU108
 248:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = 0x24U;
 330              		.loc 1 248 39 is_stmt 0 view .LVU109
 331 0042 84F86630 		strb	r3, [r4, #102]
 249:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = 0U;
 332              		.loc 1 249 5 is_stmt 1 view .LVU110
 249:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = 0U;
 333              		.loc 1 249 39 is_stmt 0 view .LVU111
 334 0046 84F86720 		strb	r2, [r4, #103]
 250:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 335              		.loc 1 250 5 is_stmt 1 view .LVU112
 250:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 336              		.loc 1 250 39 is_stmt 0 view .LVU113
 337 004a 84F86830 		strb	r3, [r4, #104]
 252:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 338              		.loc 1 252 5 is_stmt 1 view .LVU114
 252:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 339              		.loc 1 252 28 is_stmt 0 view .LVU115
 340 004e 0123     		movs	r3, #1
 341 0050 84F85030 		strb	r3, [r4, #80]
 254:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 342              		.loc 1 254 5 is_stmt 1 view .LVU116
 254:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 343              		.loc 1 254 32 is_stmt 0 view .LVU117
 344 0054 0223     		movs	r3, #2
 345 0056 84F85230 		strb	r3, [r4, #82]
 255:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 346              		.loc 1 255 5 is_stmt 1 view .LVU118
 255:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 347              		.loc 1 255 48 is_stmt 0 view .LVU119
 348 005a 04F11003 		add	r3, r4, #16
 255:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 349              		.loc 1 255 27 view .LVU120
 350 005e C4F88C30 		str	r3, [r4, #140]
 256:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 351              		.loc 1 256 5 is_stmt 1 view .LVU121
 352              	.LVL28:
 257:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 353              		.loc 1 257 5 view .LVU122
 354 0062 D9E7     		b	.L14
 355              	.LVL29:
 356              	.L13:
 261:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 357              		.loc 1 261 5 view .LVU123
 261:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 358              		.loc 1 261 13 is_stmt 0 view .LVU124
 359 0064 FFF7FEFF 		bl	USBH_MSC_BOT_Process
 360              	.LVL30:
 263:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     {
 361              		.loc 1 263 5 is_stmt 1 view .LVU125
 263:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     {
 362              		.loc 1 263 7 is_stmt 0 view .LVU126
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 14


 363 0068 0546     		mov	r5, r0
 364 006a 0028     		cmp	r0, #0
 365 006c D4D1     		bne	.L14
 265:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*assign Inquiry Data */
 366              		.loc 1 265 7 is_stmt 1 view .LVU127
 367 006e 2222     		movs	r2, #34
 368 0070 0021     		movs	r1, #0
 369 0072 3046     		mov	r0, r6
 370              	.LVL31:
 265:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*assign Inquiry Data */
 371              		.loc 1 265 7 is_stmt 0 view .LVU128
 372 0074 FFF7FEFF 		bl	memset
 373              	.LVL32:
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       inquiry->PeripheralQualifier = MSC_Handle->hbot.pbuf[0] >> 5U;
 374              		.loc 1 267 7 is_stmt 1 view .LVU129
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       inquiry->PeripheralQualifier = MSC_Handle->hbot.pbuf[0] >> 5U;
 375              		.loc 1 267 45 is_stmt 0 view .LVU130
 376 0078 D4F88C30 		ldr	r3, [r4, #140]
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       inquiry->PeripheralQualifier = MSC_Handle->hbot.pbuf[0] >> 5U;
 377              		.loc 1 267 50 view .LVU131
 378 007c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       inquiry->PeripheralQualifier = MSC_Handle->hbot.pbuf[0] >> 5U;
 379              		.loc 1 267 54 view .LVU132
 380 007e 03F01F03 		and	r3, r3, #31
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       inquiry->PeripheralQualifier = MSC_Handle->hbot.pbuf[0] >> 5U;
 381              		.loc 1 267 27 view .LVU133
 382 0082 7370     		strb	r3, [r6, #1]
 268:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 383              		.loc 1 268 7 is_stmt 1 view .LVU134
 268:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 384              		.loc 1 268 54 is_stmt 0 view .LVU135
 385 0084 D4F88C30 		ldr	r3, [r4, #140]
 268:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 386              		.loc 1 268 59 view .LVU136
 387 0088 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 268:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 388              		.loc 1 268 36 view .LVU137
 389 008a 5B09     		lsrs	r3, r3, #5
 390 008c 3370     		strb	r3, [r6]
 270:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 391              		.loc 1 270 7 is_stmt 1 view .LVU138
 270:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 392              		.loc 1 270 38 is_stmt 0 view .LVU139
 393 008e D4F88C30 		ldr	r3, [r4, #140]
 270:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 394              		.loc 1 270 56 view .LVU140
 395 0092 93F90130 		ldrsb	r3, [r3, #1]
 270:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 396              		.loc 1 270 10 view .LVU141
 397 0096 002B     		cmp	r3, #0
 398 0098 1BDB     		blt	.L18
 276:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 399              		.loc 1 276 9 is_stmt 1 view .LVU142
 276:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 400              		.loc 1 276 33 is_stmt 0 view .LVU143
 401 009a 0023     		movs	r3, #0
 402 009c B370     		strb	r3, [r6, #2]
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 15


 403              	.L16:
 279:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memcpy (inquiry->product_id, &MSC_Handle->hbot.pbuf[16], 16U);
 404              		.loc 1 279 7 is_stmt 1 view .LVU144
 279:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memcpy (inquiry->product_id, &MSC_Handle->hbot.pbuf[16], 16U);
 405              		.loc 1 279 40 is_stmt 0 view .LVU145
 406 009e D4F88C30 		ldr	r3, [r4, #140]
 279:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memcpy (inquiry->product_id, &MSC_Handle->hbot.pbuf[16], 16U);
 407              		.loc 1 279 7 view .LVU146
 408 00a2 53F8082F 		ldr	r2, [r3, #8]!	@ unaligned
 409 00a6 5B68     		ldr	r3, [r3, #4]	@ unaligned
 410 00a8 C6F80320 		str	r2, [r6, #3]	@ unaligned
 411 00ac C6F80730 		str	r3, [r6, #7]	@ unaligned
 280:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memcpy (inquiry->revision_id, &MSC_Handle->hbot.pbuf[32], 4U);
 412              		.loc 1 280 7 is_stmt 1 view .LVU147
 280:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memcpy (inquiry->revision_id, &MSC_Handle->hbot.pbuf[32], 4U);
 413              		.loc 1 280 41 is_stmt 0 view .LVU148
 414 00b0 D4F88C30 		ldr	r3, [r4, #140]
 280:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memcpy (inquiry->revision_id, &MSC_Handle->hbot.pbuf[32], 4U);
 415              		.loc 1 280 7 view .LVU149
 416 00b4 53F8100F 		ldr	r0, [r3, #16]!	@ unaligned
 417 00b8 5968     		ldr	r1, [r3, #4]	@ unaligned
 418 00ba 9A68     		ldr	r2, [r3, #8]	@ unaligned
 419 00bc DB68     		ldr	r3, [r3, #12]	@ unaligned
 420 00be F060     		str	r0, [r6, #12]	@ unaligned
 421 00c0 3161     		str	r1, [r6, #16]	@ unaligned
 422 00c2 7261     		str	r2, [r6, #20]	@ unaligned
 423 00c4 B361     		str	r3, [r6, #24]	@ unaligned
 281:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 424              		.loc 1 281 7 is_stmt 1 view .LVU150
 281:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 425              		.loc 1 281 59 is_stmt 0 view .LVU151
 426 00c6 D4F88C30 		ldr	r3, [r4, #140]
 427 00ca 1B6A     		ldr	r3, [r3, #32]	@ unaligned
 281:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 428              		.loc 1 281 7 view .LVU152
 429 00cc C6F81D30 		str	r3, [r6, #29]	@ unaligned
 430 00d0 A2E7     		b	.L14
 431              	.L18:
 272:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 432              		.loc 1 272 9 is_stmt 1 view .LVU153
 272:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 433              		.loc 1 272 33 is_stmt 0 view .LVU154
 434 00d2 0123     		movs	r3, #1
 435 00d4 B370     		strb	r3, [r6, #2]
 436 00d6 E2E7     		b	.L16
 437              		.cfi_endproc
 438              	.LFE145:
 440              		.section	.text.USBH_MSC_SCSI_RequestSense,"ax",%progbits
 441              		.align	1
 442              		.global	USBH_MSC_SCSI_RequestSense
 443              		.syntax unified
 444              		.thumb
 445              		.thumb_func
 446              		.fpu fpv5-sp-d16
 448              	USBH_MSC_SCSI_RequestSense:
 449              	.LVL33:
 450              	.LFB146:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 16


 291:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 292:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 293:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_RequestSense
 294:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue RequestSense command.
 295:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 296:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 297:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  capacity: pointer to the sense data structure
 298:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 299:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 300:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_RequestSense (USBH_HandleTypeDef *phost,
 301:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                                uint8_t lun,
 302:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                                SCSI_SenseTypeDef *sense_data)
 303:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
 451              		.loc 1 303 1 is_stmt 1 view -0
 452              		.cfi_startproc
 453              		@ args = 0, pretend = 0, frame = 0
 454              		@ frame_needed = 0, uses_anonymous_args = 0
 455              		.loc 1 303 1 is_stmt 0 view .LVU156
 456 0000 38B5     		push	{r3, r4, r5, lr}
 457              	.LCFI3:
 458              		.cfi_def_cfa_offset 16
 459              		.cfi_offset 3, -16
 460              		.cfi_offset 4, -12
 461              		.cfi_offset 5, -8
 462              		.cfi_offset 14, -4
 463 0002 0346     		mov	r3, r0
 304:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef    error = USBH_FAIL ;
 464              		.loc 1 304 3 is_stmt 1 view .LVU157
 465              	.LVL34:
 305:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 466              		.loc 1 305 3 view .LVU158
 467              		.loc 1 305 63 is_stmt 0 view .LVU159
 468 0004 D0F87803 		ldr	r0, [r0, #888]
 469              	.LVL35:
 470              		.loc 1 305 22 view .LVU160
 471 0008 C469     		ldr	r4, [r0, #28]
 472              	.LVL36:
 306:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 307:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch(MSC_Handle->hbot.cmd_state)
 473              		.loc 1 307 3 is_stmt 1 view .LVU161
 474              		.loc 1 307 26 is_stmt 0 view .LVU162
 475 000a 94F85200 		ldrb	r0, [r4, #82]	@ zero_extendqisi2
 476              		.loc 1 307 3 view .LVU163
 477 000e 0128     		cmp	r0, #1
 478 0010 04D0     		beq	.L20
 479 0012 1546     		mov	r5, r2
 480 0014 0228     		cmp	r0, #2
 481 0016 29D0     		beq	.L21
 482 0018 0220     		movs	r0, #2
 483              	.LVL37:
 484              	.L22:
 308:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
 309:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_SEND:
 310:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 311:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     /*Prepare the CBW and relevent field*/
 312:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.DataTransferLength = DATA_LEN_REQUEST_SENSE;
 313:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 17


 314:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 315:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 316:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_CB_LENGTH);
 317:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_REQUEST_SENSE;
 318:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[1]  = (lun << 5);
 319:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = 0U;
 321:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = DATA_LEN_REQUEST_SENSE;
 322:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = 0U;
 323:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.state = BOT_SEND_CBW;
 325:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 326:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 327:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 328:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 329:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 330:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_WAIT:
 331:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_MSC_BOT_Process(phost, lun);
 333:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 334:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     if(error == USBH_OK)
 335:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     {
 336:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       sense_data->key  = MSC_Handle->hbot.pbuf[2] & 0x0FU;
 337:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       sense_data->asc  = MSC_Handle->hbot.pbuf[12];
 338:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       sense_data->ascq = MSC_Handle->hbot.pbuf[13];
 339:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 340:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 341:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 342:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   default:
 343:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 344:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 345:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 346:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
 485              		.loc 1 346 3 is_stmt 1 view .LVU164
 347:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
 486              		.loc 1 347 1 is_stmt 0 view .LVU165
 487 001a 38BD     		pop	{r3, r4, r5, pc}
 488              	.LVL38:
 489              	.L20:
 312:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 490              		.loc 1 312 5 is_stmt 1 view .LVU166
 312:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 491              		.loc 1 312 51 is_stmt 0 view .LVU167
 492 001c 0E22     		movs	r2, #14
 493              	.LVL39:
 312:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 494              		.loc 1 312 51 view .LVU168
 495 001e E265     		str	r2, [r4, #92]
 313:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 496              		.loc 1 313 5 is_stmt 1 view .LVU169
 313:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 497              		.loc 1 313 38 is_stmt 0 view .LVU170
 498 0020 8023     		movs	r3, #128
 499              	.LVL40:
 313:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 500              		.loc 1 313 38 view .LVU171
 501 0022 84F86030 		strb	r3, [r4, #96]
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 18


 314:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 502              		.loc 1 314 5 is_stmt 1 view .LVU172
 314:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 503              		.loc 1 314 41 is_stmt 0 view .LVU173
 504 0026 0A23     		movs	r3, #10
 505 0028 84F86230 		strb	r3, [r4, #98]
 316:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_REQUEST_SENSE;
 506              		.loc 1 316 5 is_stmt 1 view .LVU174
 507 002c 0023     		movs	r3, #0
 508 002e C4F86730 		str	r3, [r4, #103]	@ unaligned
 509 0032 C4F86B30 		str	r3, [r4, #107]	@ unaligned
 510 0036 C4F86F30 		str	r3, [r4, #111]	@ unaligned
 317:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[1]  = (lun << 5);
 511              		.loc 1 317 5 view .LVU175
 317:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[1]  = (lun << 5);
 512              		.loc 1 317 39 is_stmt 0 view .LVU176
 513 003a 0325     		movs	r5, #3
 514 003c 84F86350 		strb	r5, [r4, #99]
 318:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 515              		.loc 1 318 5 is_stmt 1 view .LVU177
 318:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 516              		.loc 1 318 46 is_stmt 0 view .LVU178
 517 0040 4901     		lsls	r1, r1, #5
 518              	.LVL41:
 318:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 519              		.loc 1 318 39 view .LVU179
 520 0042 84F86410 		strb	r1, [r4, #100]
 319:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = 0U;
 521              		.loc 1 319 5 is_stmt 1 view .LVU180
 319:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = 0U;
 522              		.loc 1 319 39 is_stmt 0 view .LVU181
 523 0046 84F86530 		strb	r3, [r4, #101]
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = DATA_LEN_REQUEST_SENSE;
 524              		.loc 1 320 5 is_stmt 1 view .LVU182
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = DATA_LEN_REQUEST_SENSE;
 525              		.loc 1 320 39 is_stmt 0 view .LVU183
 526 004a 84F86630 		strb	r3, [r4, #102]
 321:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = 0U;
 527              		.loc 1 321 5 is_stmt 1 view .LVU184
 321:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = 0U;
 528              		.loc 1 321 39 is_stmt 0 view .LVU185
 529 004e 84F86720 		strb	r2, [r4, #103]
 322:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 530              		.loc 1 322 5 is_stmt 1 view .LVU186
 322:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 531              		.loc 1 322 39 is_stmt 0 view .LVU187
 532 0052 84F86830 		strb	r3, [r4, #104]
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 533              		.loc 1 324 5 is_stmt 1 view .LVU188
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 534              		.loc 1 324 28 is_stmt 0 view .LVU189
 535 0056 0123     		movs	r3, #1
 536 0058 84F85030 		strb	r3, [r4, #80]
 325:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 537              		.loc 1 325 5 is_stmt 1 view .LVU190
 325:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 538              		.loc 1 325 32 is_stmt 0 view .LVU191
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 19


 539 005c 0223     		movs	r3, #2
 540 005e 84F85230 		strb	r3, [r4, #82]
 326:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 541              		.loc 1 326 5 is_stmt 1 view .LVU192
 326:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 542              		.loc 1 326 48 is_stmt 0 view .LVU193
 543 0062 04F11003 		add	r3, r4, #16
 326:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 544              		.loc 1 326 27 view .LVU194
 545 0066 C4F88C30 		str	r3, [r4, #140]
 327:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 546              		.loc 1 327 5 is_stmt 1 view .LVU195
 547              	.LVL42:
 328:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 548              		.loc 1 328 5 view .LVU196
 549 006a D6E7     		b	.L22
 550              	.LVL43:
 551              	.L21:
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 552              		.loc 1 332 5 view .LVU197
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 553              		.loc 1 332 13 is_stmt 0 view .LVU198
 554 006c 1846     		mov	r0, r3
 555 006e FFF7FEFF 		bl	USBH_MSC_BOT_Process
 556              	.LVL44:
 334:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     {
 557              		.loc 1 334 5 is_stmt 1 view .LVU199
 334:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     {
 558              		.loc 1 334 7 is_stmt 0 view .LVU200
 559 0072 0028     		cmp	r0, #0
 560 0074 D1D1     		bne	.L22
 336:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       sense_data->asc  = MSC_Handle->hbot.pbuf[12];
 561              		.loc 1 336 7 is_stmt 1 view .LVU201
 336:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       sense_data->asc  = MSC_Handle->hbot.pbuf[12];
 562              		.loc 1 336 42 is_stmt 0 view .LVU202
 563 0076 D4F88C30 		ldr	r3, [r4, #140]
 336:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       sense_data->asc  = MSC_Handle->hbot.pbuf[12];
 564              		.loc 1 336 47 view .LVU203
 565 007a 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 336:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       sense_data->asc  = MSC_Handle->hbot.pbuf[12];
 566              		.loc 1 336 51 view .LVU204
 567 007c 03F00F03 		and	r3, r3, #15
 336:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       sense_data->asc  = MSC_Handle->hbot.pbuf[12];
 568              		.loc 1 336 24 view .LVU205
 569 0080 2B70     		strb	r3, [r5]
 337:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       sense_data->ascq = MSC_Handle->hbot.pbuf[13];
 570              		.loc 1 337 7 is_stmt 1 view .LVU206
 337:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       sense_data->ascq = MSC_Handle->hbot.pbuf[13];
 571              		.loc 1 337 42 is_stmt 0 view .LVU207
 572 0082 D4F88C30 		ldr	r3, [r4, #140]
 337:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       sense_data->ascq = MSC_Handle->hbot.pbuf[13];
 573              		.loc 1 337 24 view .LVU208
 574 0086 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 575 0088 6B70     		strb	r3, [r5, #1]
 338:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 576              		.loc 1 338 7 is_stmt 1 view .LVU209
 338:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 20


 577              		.loc 1 338 42 is_stmt 0 view .LVU210
 578 008a D4F88C30 		ldr	r3, [r4, #140]
 338:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     }
 579              		.loc 1 338 24 view .LVU211
 580 008e 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 581 0090 AB70     		strb	r3, [r5, #2]
 582 0092 C2E7     		b	.L22
 583              		.cfi_endproc
 584              	.LFE146:
 586              		.section	.text.USBH_MSC_SCSI_Write,"ax",%progbits
 587              		.align	1
 588              		.global	USBH_MSC_SCSI_Write
 589              		.syntax unified
 590              		.thumb
 591              		.thumb_func
 592              		.fpu fpv5-sp-d16
 594              	USBH_MSC_SCSI_Write:
 595              	.LVL45:
 596              	.LFB147:
 348:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 349:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 350:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_Write
 351:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue write10 command.
 352:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 353:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 354:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  address: sector address
 355:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  pbuf: pointer to data
 356:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  length: number of sector to write
 357:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 358:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 359:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_Write(USBH_HandleTypeDef *phost,
 360:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                      uint8_t lun,
 361:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                      uint32_t address,
 362:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                      uint8_t *pbuf,
 363:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                      uint32_t length)
 364:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
 597              		.loc 1 364 1 is_stmt 1 view -0
 598              		.cfi_startproc
 599              		@ args = 4, pretend = 0, frame = 0
 600              		@ frame_needed = 0, uses_anonymous_args = 0
 601              		.loc 1 364 1 is_stmt 0 view .LVU213
 602 0000 38B5     		push	{r3, r4, r5, lr}
 603              	.LCFI4:
 604              		.cfi_def_cfa_offset 16
 605              		.cfi_offset 3, -16
 606              		.cfi_offset 4, -12
 607              		.cfi_offset 5, -8
 608              		.cfi_offset 14, -4
 609 0002 0546     		mov	r5, r0
 365:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef    error = USBH_FAIL ;
 610              		.loc 1 365 3 is_stmt 1 view .LVU214
 611              	.LVL46:
 366:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 367:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 612              		.loc 1 367 3 view .LVU215
 613              		.loc 1 367 63 is_stmt 0 view .LVU216
 614 0004 D0F87803 		ldr	r0, [r0, #888]
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 21


 615              	.LVL47:
 616              		.loc 1 367 22 view .LVU217
 617 0008 C469     		ldr	r4, [r0, #28]
 618              	.LVL48:
 368:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 369:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch(MSC_Handle->hbot.cmd_state)
 619              		.loc 1 369 3 is_stmt 1 view .LVU218
 620              		.loc 1 369 26 is_stmt 0 view .LVU219
 621 000a 94F85200 		ldrb	r0, [r4, #82]	@ zero_extendqisi2
 622              		.loc 1 369 3 view .LVU220
 623 000e 0128     		cmp	r0, #1
 624 0010 03D0     		beq	.L25
 625 0012 0228     		cmp	r0, #2
 626 0014 37D0     		beq	.L26
 627 0016 0220     		movs	r0, #2
 628              	.LVL49:
 629              	.L27:
 370:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
 371:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_SEND:
 372:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 373:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     /*Prepare the CBW and relevent field*/
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.DataTransferLength = length * MSC_Handle->unit[0].capacity.block_siz
 375:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 376:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 377:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 378:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_CB_LENGTH);
 379:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_WRITE10;
 380:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 381:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     /*logical block address*/
 382:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[2]  = (((uint8_t*)(void *)&address)[3]);
 383:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = (((uint8_t*)(void *)&address)[2]);
 384:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = (((uint8_t*)(void *)&address)[1]);
 385:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = (((uint8_t*)(void *)&address)[0]);
 386:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 387:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 388:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     /*Transfer length */
 389:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[7]  = (((uint8_t *)(void *)&length)[1]) ;
 390:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 391:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 392:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 393:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.state = BOT_SEND_CBW;
 394:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 395:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = pbuf;
 396:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 397:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 398:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 399:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_WAIT:
 400:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_MSC_BOT_Process(phost, lun);
 401:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 402:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 403:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   default:
 404:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 405:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 406:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 407:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
 630              		.loc 1 407 3 is_stmt 1 view .LVU221
 408:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 22


 631              		.loc 1 408 1 is_stmt 0 view .LVU222
 632 0018 38BD     		pop	{r3, r4, r5, pc}
 633              	.LVL50:
 634              	.L25:
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 635              		.loc 1 374 5 is_stmt 1 view .LVU223
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 636              		.loc 1 374 90 is_stmt 0 view .LVU224
 637 001a B4F89810 		ldrh	r1, [r4, #152]
 638              	.LVL51:
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 639              		.loc 1 374 60 view .LVU225
 640 001e 049D     		ldr	r5, [sp, #16]
 641              	.LVL52:
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 642              		.loc 1 374 60 view .LVU226
 643 0020 05FB01F1 		mul	r1, r5, r1
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 644              		.loc 1 374 51 view .LVU227
 645 0024 E165     		str	r1, [r4, #92]
 375:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 646              		.loc 1 375 5 is_stmt 1 view .LVU228
 375:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 647              		.loc 1 375 38 is_stmt 0 view .LVU229
 648 0026 0021     		movs	r1, #0
 649 0028 84F86010 		strb	r1, [r4, #96]
 376:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 650              		.loc 1 376 5 is_stmt 1 view .LVU230
 376:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 651              		.loc 1 376 41 is_stmt 0 view .LVU231
 652 002c 0A25     		movs	r5, #10
 653 002e 84F86250 		strb	r5, [r4, #98]
 378:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_WRITE10;
 654              		.loc 1 378 5 is_stmt 1 view .LVU232
 655 0032 C4F86310 		str	r1, [r4, #99]	@ unaligned
 656 0036 C4F86710 		str	r1, [r4, #103]	@ unaligned
 657 003a C4F86B10 		str	r1, [r4, #107]	@ unaligned
 658 003e C4F86F10 		str	r1, [r4, #111]	@ unaligned
 379:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 659              		.loc 1 379 5 view .LVU233
 379:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 660              		.loc 1 379 39 is_stmt 0 view .LVU234
 661 0042 2A21     		movs	r1, #42
 662 0044 84F86310 		strb	r1, [r4, #99]
 382:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = (((uint8_t*)(void *)&address)[2]);
 663              		.loc 1 382 5 is_stmt 1 view .LVU235
 382:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = (((uint8_t*)(void *)&address)[2]);
 664              		.loc 1 382 39 is_stmt 0 view .LVU236
 665 0048 C2F30761 		ubfx	r1, r2, #24, #8
 666 004c 84F86510 		strb	r1, [r4, #101]
 383:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = (((uint8_t*)(void *)&address)[1]);
 667              		.loc 1 383 5 is_stmt 1 view .LVU237
 383:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = (((uint8_t*)(void *)&address)[1]);
 668              		.loc 1 383 39 is_stmt 0 view .LVU238
 669 0050 C2F30741 		ubfx	r1, r2, #16, #8
 670 0054 84F86610 		strb	r1, [r4, #102]
 384:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = (((uint8_t*)(void *)&address)[0]);
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 23


 671              		.loc 1 384 5 is_stmt 1 view .LVU239
 384:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = (((uint8_t*)(void *)&address)[0]);
 672              		.loc 1 384 39 is_stmt 0 view .LVU240
 673 0058 C2F30721 		ubfx	r1, r2, #8, #8
 674 005c 84F86710 		strb	r1, [r4, #103]
 385:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 675              		.loc 1 385 5 is_stmt 1 view .LVU241
 385:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 676              		.loc 1 385 39 is_stmt 0 view .LVU242
 677 0060 84F86820 		strb	r2, [r4, #104]
 389:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 678              		.loc 1 389 5 is_stmt 1 view .LVU243
 389:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 679              		.loc 1 389 39 is_stmt 0 view .LVU244
 680 0064 049A     		ldr	r2, [sp, #16]
 681              	.LVL53:
 389:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 682              		.loc 1 389 39 view .LVU245
 683 0066 C2F30722 		ubfx	r2, r2, #8, #8
 684 006a 84F86A20 		strb	r2, [r4, #106]
 390:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 685              		.loc 1 390 5 is_stmt 1 view .LVU246
 390:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 686              		.loc 1 390 39 is_stmt 0 view .LVU247
 687 006e 049A     		ldr	r2, [sp, #16]
 688 0070 84F86B20 		strb	r2, [r4, #107]
 393:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 689              		.loc 1 393 5 is_stmt 1 view .LVU248
 393:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 690              		.loc 1 393 28 is_stmt 0 view .LVU249
 691 0074 0122     		movs	r2, #1
 692 0076 84F85020 		strb	r2, [r4, #80]
 394:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = pbuf;
 693              		.loc 1 394 5 is_stmt 1 view .LVU250
 394:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = pbuf;
 694              		.loc 1 394 32 is_stmt 0 view .LVU251
 695 007a 0222     		movs	r2, #2
 696 007c 84F85220 		strb	r2, [r4, #82]
 395:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 697              		.loc 1 395 5 is_stmt 1 view .LVU252
 395:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 698              		.loc 1 395 27 is_stmt 0 view .LVU253
 699 0080 C4F88C30 		str	r3, [r4, #140]
 396:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 700              		.loc 1 396 5 is_stmt 1 view .LVU254
 701              	.LVL54:
 397:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 702              		.loc 1 397 5 view .LVU255
 703 0084 C8E7     		b	.L27
 704              	.LVL55:
 705              	.L26:
 400:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 706              		.loc 1 400 5 view .LVU256
 400:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 707              		.loc 1 400 13 is_stmt 0 view .LVU257
 708 0086 2846     		mov	r0, r5
 709 0088 FFF7FEFF 		bl	USBH_MSC_BOT_Process
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 24


 710              	.LVL56:
 401:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 711              		.loc 1 401 5 is_stmt 1 view .LVU258
 712 008c C4E7     		b	.L27
 713              		.cfi_endproc
 714              	.LFE147:
 716              		.section	.text.USBH_MSC_SCSI_Read,"ax",%progbits
 717              		.align	1
 718              		.global	USBH_MSC_SCSI_Read
 719              		.syntax unified
 720              		.thumb
 721              		.thumb_func
 722              		.fpu fpv5-sp-d16
 724              	USBH_MSC_SCSI_Read:
 725              	.LVL57:
 726              	.LFB148:
 409:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 410:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 411:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_Read
 412:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue Read10 command.
 413:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 414:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 415:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  address: sector address
 416:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  pbuf: pointer to data
 417:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  length: number of sector to read
 418:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 419:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 420:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_Read(USBH_HandleTypeDef *phost,
 421:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                      uint8_t lun,
 422:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                      uint32_t address,
 423:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                      uint8_t *pbuf,
 424:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                      uint32_t length)
 425:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
 727              		.loc 1 425 1 view -0
 728              		.cfi_startproc
 729              		@ args = 4, pretend = 0, frame = 0
 730              		@ frame_needed = 0, uses_anonymous_args = 0
 731              		.loc 1 425 1 is_stmt 0 view .LVU260
 732 0000 38B5     		push	{r3, r4, r5, lr}
 733              	.LCFI5:
 734              		.cfi_def_cfa_offset 16
 735              		.cfi_offset 3, -16
 736              		.cfi_offset 4, -12
 737              		.cfi_offset 5, -8
 738              		.cfi_offset 14, -4
 739 0002 0546     		mov	r5, r0
 426:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef    error = USBH_FAIL ;
 740              		.loc 1 426 3 is_stmt 1 view .LVU261
 741              	.LVL58:
 427:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 742              		.loc 1 427 3 view .LVU262
 743              		.loc 1 427 62 is_stmt 0 view .LVU263
 744 0004 D0F87803 		ldr	r0, [r0, #888]
 745              	.LVL59:
 746              		.loc 1 427 22 view .LVU264
 747 0008 C469     		ldr	r4, [r0, #28]
 748              	.LVL60:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 25


 428:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 429:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch(MSC_Handle->hbot.cmd_state)
 749              		.loc 1 429 3 is_stmt 1 view .LVU265
 750              		.loc 1 429 26 is_stmt 0 view .LVU266
 751 000a 94F85200 		ldrb	r0, [r4, #82]	@ zero_extendqisi2
 752              		.loc 1 429 3 view .LVU267
 753 000e 0128     		cmp	r0, #1
 754 0010 03D0     		beq	.L30
 755 0012 0228     		cmp	r0, #2
 756 0014 36D0     		beq	.L31
 757 0016 0220     		movs	r0, #2
 758              	.LVL61:
 759              	.L32:
 430:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
 431:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_SEND:
 432:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 433:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     /*Prepare the CBW and relevent field*/
 434:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.DataTransferLength = length * MSC_Handle->unit[0].capacity.block_siz
 435:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 436:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 437:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 438:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_CB_LENGTH);
 439:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_READ10;
 440:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 441:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     /*logical block address*/
 442:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[2]  = (((uint8_t*)(void *)&address)[3]);
 443:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = (((uint8_t*)(void *)&address)[2]);
 444:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = (((uint8_t*)(void *)&address)[1]);
 445:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = (((uint8_t*)(void *)&address)[0]);
 446:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 447:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 448:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     /*Transfer length */
 449:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[7]  = (((uint8_t *)(void *)&length)[1]) ;
 450:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 451:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 452:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 453:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.state = BOT_SEND_CBW;
 454:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 455:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = pbuf;
 456:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 457:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 458:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 459:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   case BOT_CMD_WAIT:
 460:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_MSC_BOT_Process(phost, lun);
 461:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 462:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 463:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   default:
 464:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 465:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 466:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 467:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
 760              		.loc 1 467 3 is_stmt 1 view .LVU268
 468:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
 761              		.loc 1 468 1 is_stmt 0 view .LVU269
 762 0018 38BD     		pop	{r3, r4, r5, pc}
 763              	.LVL62:
 764              	.L30:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 26


 434:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 765              		.loc 1 434 5 is_stmt 1 view .LVU270
 434:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 766              		.loc 1 434 90 is_stmt 0 view .LVU271
 767 001a B4F89810 		ldrh	r1, [r4, #152]
 768              	.LVL63:
 434:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 769              		.loc 1 434 60 view .LVU272
 770 001e 049D     		ldr	r5, [sp, #16]
 771              	.LVL64:
 434:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 772              		.loc 1 434 60 view .LVU273
 773 0020 05FB01F1 		mul	r1, r5, r1
 434:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 774              		.loc 1 434 51 view .LVU274
 775 0024 E165     		str	r1, [r4, #92]
 435:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 776              		.loc 1 435 5 is_stmt 1 view .LVU275
 435:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 777              		.loc 1 435 38 is_stmt 0 view .LVU276
 778 0026 8021     		movs	r1, #128
 779 0028 84F86010 		strb	r1, [r4, #96]
 436:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 780              		.loc 1 436 5 is_stmt 1 view .LVU277
 436:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 781              		.loc 1 436 41 is_stmt 0 view .LVU278
 782 002c 0A21     		movs	r1, #10
 783 002e 84F86210 		strb	r1, [r4, #98]
 438:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_READ10;
 784              		.loc 1 438 5 is_stmt 1 view .LVU279
 785 0032 0021     		movs	r1, #0
 786 0034 C4F86310 		str	r1, [r4, #99]	@ unaligned
 787 0038 C4F86710 		str	r1, [r4, #103]	@ unaligned
 788 003c C4F86B10 		str	r1, [r4, #107]	@ unaligned
 789 0040 C4F86F10 		str	r1, [r4, #111]	@ unaligned
 439:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 790              		.loc 1 439 5 view .LVU280
 439:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 791              		.loc 1 439 39 is_stmt 0 view .LVU281
 792 0044 2821     		movs	r1, #40
 793 0046 84F86310 		strb	r1, [r4, #99]
 442:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = (((uint8_t*)(void *)&address)[2]);
 794              		.loc 1 442 5 is_stmt 1 view .LVU282
 442:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[3]  = (((uint8_t*)(void *)&address)[2]);
 795              		.loc 1 442 39 is_stmt 0 view .LVU283
 796 004a C2F30761 		ubfx	r1, r2, #24, #8
 797 004e 84F86510 		strb	r1, [r4, #101]
 443:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = (((uint8_t*)(void *)&address)[1]);
 798              		.loc 1 443 5 is_stmt 1 view .LVU284
 443:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[4]  = (((uint8_t*)(void *)&address)[1]);
 799              		.loc 1 443 39 is_stmt 0 view .LVU285
 800 0052 C2F30741 		ubfx	r1, r2, #16, #8
 801 0056 84F86610 		strb	r1, [r4, #102]
 444:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = (((uint8_t*)(void *)&address)[0]);
 802              		.loc 1 444 5 is_stmt 1 view .LVU286
 444:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[5]  = (((uint8_t*)(void *)&address)[0]);
 803              		.loc 1 444 39 is_stmt 0 view .LVU287
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 27


 804 005a C2F30721 		ubfx	r1, r2, #8, #8
 805 005e 84F86710 		strb	r1, [r4, #103]
 445:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 806              		.loc 1 445 5 is_stmt 1 view .LVU288
 445:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 807              		.loc 1 445 39 is_stmt 0 view .LVU289
 808 0062 84F86820 		strb	r2, [r4, #104]
 449:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 809              		.loc 1 449 5 is_stmt 1 view .LVU290
 449:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 810              		.loc 1 449 39 is_stmt 0 view .LVU291
 811 0066 C5F30722 		ubfx	r2, r5, #8, #8
 812              	.LVL65:
 449:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 813              		.loc 1 449 39 view .LVU292
 814 006a 84F86A20 		strb	r2, [r4, #106]
 450:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 815              		.loc 1 450 5 is_stmt 1 view .LVU293
 450:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 816              		.loc 1 450 39 is_stmt 0 view .LVU294
 817 006e 84F86B50 		strb	r5, [r4, #107]
 453:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 818              		.loc 1 453 5 is_stmt 1 view .LVU295
 453:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 819              		.loc 1 453 28 is_stmt 0 view .LVU296
 820 0072 0122     		movs	r2, #1
 821 0074 84F85020 		strb	r2, [r4, #80]
 454:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = pbuf;
 822              		.loc 1 454 5 is_stmt 1 view .LVU297
 454:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     MSC_Handle->hbot.pbuf = pbuf;
 823              		.loc 1 454 32 is_stmt 0 view .LVU298
 824 0078 0222     		movs	r2, #2
 825 007a 84F85220 		strb	r2, [r4, #82]
 455:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 826              		.loc 1 455 5 is_stmt 1 view .LVU299
 455:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     error = USBH_BUSY;
 827              		.loc 1 455 27 is_stmt 0 view .LVU300
 828 007e C4F88C30 		str	r3, [r4, #140]
 456:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 829              		.loc 1 456 5 is_stmt 1 view .LVU301
 830              	.LVL66:
 457:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 831              		.loc 1 457 5 view .LVU302
 832 0082 C9E7     		b	.L32
 833              	.LVL67:
 834              	.L31:
 460:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 835              		.loc 1 460 5 view .LVU303
 460:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     break;
 836              		.loc 1 460 13 is_stmt 0 view .LVU304
 837 0084 2846     		mov	r0, r5
 838 0086 FFF7FEFF 		bl	USBH_MSC_BOT_Process
 839              	.LVL68:
 461:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 840              		.loc 1 461 5 is_stmt 1 view .LVU305
 841 008a C5E7     		b	.L32
 842              		.cfi_endproc
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 28


 843              	.LFE148:
 845              		.text
 846              	.Letext0:
 847              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 848              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 849              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 850              		.file 5 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\lib\\gcc\\arm-none-eabi
 851              		.file 6 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 852              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 853              		.file 8 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 854              		.file 9 "Drivers/CMSIS/Include/core_cm7.h"
 855              		.file 10 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 856              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 857              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 858              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 859              		.file 14 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_def.h"
 860              		.file 15 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_ctlreq.h"
 861              		.file 16 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc_bot.h"
 862              		.file 17 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc_scsi.h"
 863              		.file 18 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc.h"
 864              		.file 19 "<built-in>"
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s 			page 29


DEFINED SYMBOLS
                            *ABS*:00000000 usbh_msc_scsi.c
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:18     .text.USBH_MSC_SCSI_TestUnitReady:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:26     .text.USBH_MSC_SCSI_TestUnitReady:00000000 USBH_MSC_SCSI_TestUnitReady
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:114    .text.USBH_MSC_SCSI_ReadCapacity:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:121    .text.USBH_MSC_SCSI_ReadCapacity:00000000 USBH_MSC_SCSI_ReadCapacity
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:249    .text.USBH_MSC_SCSI_Inquiry:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:256    .text.USBH_MSC_SCSI_Inquiry:00000000 USBH_MSC_SCSI_Inquiry
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:441    .text.USBH_MSC_SCSI_RequestSense:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:448    .text.USBH_MSC_SCSI_RequestSense:00000000 USBH_MSC_SCSI_RequestSense
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:587    .text.USBH_MSC_SCSI_Write:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:594    .text.USBH_MSC_SCSI_Write:00000000 USBH_MSC_SCSI_Write
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:717    .text.USBH_MSC_SCSI_Read:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccQQr0bx.s:724    .text.USBH_MSC_SCSI_Read:00000000 USBH_MSC_SCSI_Read

UNDEFINED SYMBOLS
USBH_MSC_BOT_Process
memset
