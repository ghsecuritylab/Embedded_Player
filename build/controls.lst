ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"controls.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.CON_Initialize_Buttons,"ax",%progbits
  18              		.align	1
  19              		.global	CON_Initialize_Buttons
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-sp-d16
  26              	CON_Initialize_Buttons:
  27              	.LFB143:
  28              		.file 1 "Modules/controls.c"
   1:Modules/controls.c **** //
   2:Modules/controls.c **** // Created by olliekrk on 21.10.2019.
   3:Modules/controls.c **** //
   4:Modules/controls.c **** 
   5:Modules/controls.c **** #include <term_io.h>
   6:Modules/controls.c **** #include "controls.h"
   7:Modules/controls.c **** #include "audio_loader.h"
   8:Modules/controls.c **** #include "audio_player.h"
   9:Modules/controls.c **** 
  10:Modules/controls.c **** AppControlsState APP_STATE = {
  11:Modules/controls.c ****         -1,
  12:Modules/controls.c ****         -1,
  13:Modules/controls.c ****         1,
  14:Modules/controls.c ****         0,
  15:Modules/controls.c ****         NULL,
  16:Modules/controls.c ****         0,
  17:Modules/controls.c ****         NULL,
  18:Modules/controls.c ****         0,
  19:Modules/controls.c ****         AUDIO_VOLUME_INIT
  20:Modules/controls.c **** };
  21:Modules/controls.c **** 
  22:Modules/controls.c **** AppButtonsState APP_BUTTONS_STATE;
  23:Modules/controls.c **** 
  24:Modules/controls.c **** void CON_Initialize_Buttons(void) {
  29              		.loc 1 24 35 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 38B5     		push	{r3, r4, r5, lr}
  34              	.LCFI0:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 2


  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 3, -16
  37              		.cfi_offset 4, -12
  38              		.cfi_offset 5, -8
  39              		.cfi_offset 14, -4
  25:Modules/controls.c ****     APP_BUTTONS_STATE.configs = malloc(NUMBER_OF_SOUND_CONTROLS * sizeof(ButtonState));
  40              		.loc 1 25 5 view .LVU1
  41              		.loc 1 25 33 is_stmt 0 view .LVU2
  42 0002 8020     		movs	r0, #128
  43 0004 FFF7FEFF 		bl	malloc
  44              	.LVL0:
  45              		.loc 1 25 31 view .LVU3
  46 0008 0A4B     		ldr	r3, .L5
  47 000a 1860     		str	r0, [r3]
  26:Modules/controls.c ****     for (int i = 0; i < NUMBER_OF_SOUND_CONTROLS; ++i) {
  48              		.loc 1 26 5 is_stmt 1 view .LVU4
  49              	.LBB2:
  50              		.loc 1 26 10 view .LVU5
  51              	.LVL1:
  52              		.loc 1 26 14 is_stmt 0 view .LVU6
  53 000c 0021     		movs	r1, #0
  54              		.loc 1 26 5 view .LVU7
  55 000e 0DE0     		b	.L2
  56              	.LVL2:
  57              	.L3:
  27:Modules/controls.c ****         APP_BUTTONS_STATE.configs[i].effectEnabled = effectInactive;
  58              		.loc 1 27 9 is_stmt 1 discriminator 3 view .LVU8
  59              		.loc 1 27 26 is_stmt 0 discriminator 3 view .LVU9
  60 0010 084B     		ldr	r3, .L5
  61 0012 1C68     		ldr	r4, [r3]
  62              		.loc 1 27 34 discriminator 3 view .LVU10
  63 0014 0801     		lsls	r0, r1, #4
  64 0016 04EB0115 		add	r5, r4, r1, lsl #4
  65              		.loc 1 27 52 discriminator 3 view .LVU11
  66 001a 0022     		movs	r2, #0
  67 001c 2A73     		strb	r2, [r5, #12]
  28:Modules/controls.c ****         APP_BUTTONS_STATE.configs[i].trackName = NULL;
  68              		.loc 1 28 9 is_stmt 1 discriminator 3 view .LVU12
  69              		.loc 1 28 48 is_stmt 0 discriminator 3 view .LVU13
  70 001e 2250     		str	r2, [r4, r0]
  29:Modules/controls.c ****         APP_BUTTONS_STATE.configs[i].size = 0;
  71              		.loc 1 29 9 is_stmt 1 discriminator 3 view .LVU14
  72              		.loc 1 29 26 is_stmt 0 discriminator 3 view .LVU15
  73 0020 1B68     		ldr	r3, [r3]
  74              		.loc 1 29 34 discriminator 3 view .LVU16
  75 0022 0344     		add	r3, r3, r0
  76              		.loc 1 29 43 discriminator 3 view .LVU17
  77 0024 9A60     		str	r2, [r3, #8]
  30:Modules/controls.c ****         APP_BUTTONS_STATE.configs[i].sampleRate = 0;
  78              		.loc 1 30 9 is_stmt 1 discriminator 3 view .LVU18
  79              		.loc 1 30 49 is_stmt 0 discriminator 3 view .LVU19
  80 0026 DA80     		strh	r2, [r3, #6]	@ movhi
  31:Modules/controls.c ****         APP_BUTTONS_STATE.configs[i].channels = 0;
  81              		.loc 1 31 9 is_stmt 1 discriminator 3 view .LVU20
  82              		.loc 1 31 47 is_stmt 0 discriminator 3 view .LVU21
  83 0028 1A71     		strb	r2, [r3, #4]
  26:Modules/controls.c ****         APP_BUTTONS_STATE.configs[i].effectEnabled = effectInactive;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 3


  84              		.loc 1 26 51 is_stmt 1 discriminator 3 view .LVU22
  85 002a 0131     		adds	r1, r1, #1
  86              	.LVL3:
  87              	.L2:
  26:Modules/controls.c ****         APP_BUTTONS_STATE.configs[i].effectEnabled = effectInactive;
  88              		.loc 1 26 21 discriminator 1 view .LVU23
  26:Modules/controls.c ****         APP_BUTTONS_STATE.configs[i].effectEnabled = effectInactive;
  89              		.loc 1 26 5 is_stmt 0 discriminator 1 view .LVU24
  90 002c 0729     		cmp	r1, #7
  91 002e EFDD     		ble	.L3
  92              	.LBE2:
  32:Modules/controls.c ****     }
  33:Modules/controls.c **** }
  93              		.loc 1 33 1 view .LVU25
  94 0030 38BD     		pop	{r3, r4, r5, pc}
  95              	.L6:
  96 0032 00BF     		.align	2
  97              	.L5:
  98 0034 00000000 		.word	APP_BUTTONS_STATE
  99              		.cfi_endproc
 100              	.LFE143:
 102              		.section	.rodata.CON_HandleOptionButtonTouched.str1.4,"aMS",%progbits,1
 103              		.align	2
 104              	.LC0:
 105 0000 4F707469 		.ascii	"Option button touched is: %d\015\012\000"
 105      6F6E2062 
 105      7574746F 
 105      6E20746F 
 105      75636865 
 106              		.section	.text.CON_HandleOptionButtonTouched,"ax",%progbits
 107              		.align	1
 108              		.global	CON_HandleOptionButtonTouched
 109              		.syntax unified
 110              		.thumb
 111              		.thumb_func
 112              		.fpu fpv5-sp-d16
 114              	CON_HandleOptionButtonTouched:
 115              	.LVL4:
 116              	.LFB146:
  34:Modules/controls.c **** 
  35:Modules/controls.c **** void CON_HandleButtonTouched(int buttonNumber) {
  36:Modules/controls.c ****     if (buttonNumber < 0 || buttonNumber >= NUMBER_OF_CONTROLS)
  37:Modules/controls.c ****         return;
  38:Modules/controls.c **** 
  39:Modules/controls.c ****     if (buttonNumber < NUMBER_OF_SOUND_CONTROLS) {
  40:Modules/controls.c ****         CON_HandleSoundButtonTouched(buttonNumber);
  41:Modules/controls.c ****     } else {
  42:Modules/controls.c ****         CON_HandleOptionButtonTouched(buttonNumber);
  43:Modules/controls.c ****     }
  44:Modules/controls.c **** }
  45:Modules/controls.c **** 
  46:Modules/controls.c **** void CON_HandleSoundButtonTouched(SoundControl button) {
  47:Modules/controls.c ****     switch (button) {
  48:Modules/controls.c ****         case CON_BUTTON_0:
  49:Modules/controls.c ****         case CON_BUTTON_1:
  50:Modules/controls.c ****         case CON_BUTTON_2:
  51:Modules/controls.c ****         case CON_BUTTON_3:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 4


  52:Modules/controls.c ****         case CON_BUTTON_4:
  53:Modules/controls.c ****         case CON_BUTTON_5:
  54:Modules/controls.c ****         case CON_BUTTON_6:
  55:Modules/controls.c ****         case CON_BUTTON_7:
  56:Modules/controls.c ****             APP_STATE.SELECTED_SOUND_BUTTON = button;
  57:Modules/controls.c ****             if (APP_STATE.SELECTED_OPTION == -1) {
  58:Modules/controls.c ****                 CON_EnqueueAudio(button);
  59:Modules/controls.c ****             } else {
  60:Modules/controls.c ****                 CON_ActivateOption();
  61:Modules/controls.c ****             }
  62:Modules/controls.c ****         default:
  63:Modules/controls.c ****             xprintf("Sound button touched is: %d\r\n", button);
  64:Modules/controls.c ****     }
  65:Modules/controls.c **** }
  66:Modules/controls.c **** 
  67:Modules/controls.c **** void CON_HandleOptionButtonTouched(OptionControl option) {
 117              		.loc 1 67 58 is_stmt 1 view -0
 118              		.cfi_startproc
 119              		@ args = 0, pretend = 0, frame = 0
 120              		@ frame_needed = 0, uses_anonymous_args = 0
 121              		.loc 1 67 58 is_stmt 0 view .LVU27
 122 0000 08B5     		push	{r3, lr}
 123              	.LCFI1:
 124              		.cfi_def_cfa_offset 8
 125              		.cfi_offset 3, -8
 126              		.cfi_offset 14, -4
  68:Modules/controls.c ****     if (APP_STATE.SELECTED_OPTION == option) {
 127              		.loc 1 68 5 is_stmt 1 view .LVU28
 128              		.loc 1 68 18 is_stmt 0 view .LVU29
 129 0002 1D4B     		ldr	r3, .L16
 130 0004 5B68     		ldr	r3, [r3, #4]
 131              		.loc 1 68 8 view .LVU30
 132 0006 8342     		cmp	r3, r0
 133 0008 13D0     		beq	.L15
  69:Modules/controls.c ****         APP_STATE.SELECTED_OPTION = -1;
  70:Modules/controls.c ****         return;
  71:Modules/controls.c ****     }
  72:Modules/controls.c **** 
  73:Modules/controls.c ****     switch (option) {
 134              		.loc 1 73 5 is_stmt 1 view .LVU31
 135 000a 0928     		cmp	r0, #9
 136 000c 1ED0     		beq	.L10
 137 000e 15D8     		bhi	.L11
 138 0010 0828     		cmp	r0, #8
 139 0012 2BD1     		bne	.L13
  74:Modules/controls.c ****         case SELECTED_TRACK:
  75:Modules/controls.c ****         case EFFECT_1:
  76:Modules/controls.c ****         case EFFECT_2:
  77:Modules/controls.c ****             APP_STATE.SELECTED_OPTION = option;
  78:Modules/controls.c ****             break;
  79:Modules/controls.c ****         case NEXT_TRACK:
  80:Modules/controls.c ****             if (APP_STATE.TRACKS_COUNT > 0 && APP_STATE.SELECTED_TRACK_INDEX + 1 < APP_STATE.TRACKS
 140              		.loc 1 80 13 view .LVU32
 141              		.loc 1 80 26 is_stmt 0 view .LVU33
 142 0014 184B     		ldr	r3, .L16
 143 0016 5A69     		ldr	r2, [r3, #20]
 144              		.loc 1 80 16 view .LVU34
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 5


 145 0018 002A     		cmp	r2, #0
 146 001a 0EDD     		ble	.L7
 147              		.loc 1 80 56 discriminator 1 view .LVU35
 148 001c DB69     		ldr	r3, [r3, #28]
 149              		.loc 1 80 78 discriminator 1 view .LVU36
 150 001e 0133     		adds	r3, r3, #1
 151              		.loc 1 80 44 discriminator 1 view .LVU37
 152 0020 9A42     		cmp	r2, r3
 153 0022 0ADD     		ble	.L7
  81:Modules/controls.c ****                 APP_STATE.SELECTED_TRACK_NAME = APP_STATE.TRACKS[++APP_STATE.SELECTED_TRACK_INDEX];
 154              		.loc 1 81 17 is_stmt 1 view .LVU38
 155              		.loc 1 81 58 is_stmt 0 view .LVU39
 156 0024 144A     		ldr	r2, .L16
 157 0026 1169     		ldr	r1, [r2, #16]
 158              		.loc 1 81 47 view .LVU40
 159 0028 D361     		str	r3, [r2, #28]
 160              		.loc 1 81 65 view .LVU41
 161 002a 51F82330 		ldr	r3, [r1, r3, lsl #2]
 162              		.loc 1 81 47 view .LVU42
 163 002e 9361     		str	r3, [r2, #24]
 164 0030 03E0     		b	.L7
 165              	.L15:
  69:Modules/controls.c ****         APP_STATE.SELECTED_OPTION = -1;
 166              		.loc 1 69 9 is_stmt 1 view .LVU43
  69:Modules/controls.c ****         APP_STATE.SELECTED_OPTION = -1;
 167              		.loc 1 69 35 is_stmt 0 view .LVU44
 168 0032 114B     		ldr	r3, .L16
 169 0034 4FF0FF32 		mov	r2, #-1
 170 0038 5A60     		str	r2, [r3, #4]
  70:Modules/controls.c ****     }
 171              		.loc 1 70 9 is_stmt 1 view .LVU45
 172              	.LVL5:
 173              	.L7:
  82:Modules/controls.c ****             }
  83:Modules/controls.c ****             break;
  84:Modules/controls.c ****         case BACK_TRACK:
  85:Modules/controls.c ****             if (APP_STATE.TRACKS_COUNT > 0 && APP_STATE.SELECTED_TRACK_INDEX - 1 > 0) {
  86:Modules/controls.c ****                 APP_STATE.SELECTED_TRACK_NAME = APP_STATE.TRACKS[--APP_STATE.SELECTED_TRACK_INDEX];
  87:Modules/controls.c ****             }
  88:Modules/controls.c ****             break;
  89:Modules/controls.c ****         default:
  90:Modules/controls.c ****             xprintf("Option button touched is: %d\r\n", option);
  91:Modules/controls.c ****     }
  92:Modules/controls.c **** }
 174              		.loc 1 92 1 is_stmt 0 view .LVU46
 175 003a 08BD     		pop	{r3, pc}
 176              	.LVL6:
 177              	.L11:
  73:Modules/controls.c ****         case SELECTED_TRACK:
 178              		.loc 1 73 5 view .LVU47
 179 003c A0F10A03 		sub	r3, r0, #10
 180 0040 DBB2     		uxtb	r3, r3
 181 0042 022B     		cmp	r3, #2
 182 0044 12D8     		bhi	.L13
  77:Modules/controls.c ****             break;
 183              		.loc 1 77 13 is_stmt 1 view .LVU48
  77:Modules/controls.c ****             break;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 6


 184              		.loc 1 77 39 is_stmt 0 view .LVU49
 185 0046 0C4B     		ldr	r3, .L16
 186 0048 5860     		str	r0, [r3, #4]
  78:Modules/controls.c ****         case NEXT_TRACK:
 187              		.loc 1 78 13 is_stmt 1 view .LVU50
 188 004a F6E7     		b	.L7
 189              	.L10:
  85:Modules/controls.c ****                 APP_STATE.SELECTED_TRACK_NAME = APP_STATE.TRACKS[--APP_STATE.SELECTED_TRACK_INDEX];
 190              		.loc 1 85 13 view .LVU51
  85:Modules/controls.c ****                 APP_STATE.SELECTED_TRACK_NAME = APP_STATE.TRACKS[--APP_STATE.SELECTED_TRACK_INDEX];
 191              		.loc 1 85 26 is_stmt 0 view .LVU52
 192 004c 0A4B     		ldr	r3, .L16
 193 004e 5B69     		ldr	r3, [r3, #20]
  85:Modules/controls.c ****                 APP_STATE.SELECTED_TRACK_NAME = APP_STATE.TRACKS[--APP_STATE.SELECTED_TRACK_INDEX];
 194              		.loc 1 85 16 view .LVU53
 195 0050 002B     		cmp	r3, #0
 196 0052 F2DD     		ble	.L7
  85:Modules/controls.c ****                 APP_STATE.SELECTED_TRACK_NAME = APP_STATE.TRACKS[--APP_STATE.SELECTED_TRACK_INDEX];
 197              		.loc 1 85 56 discriminator 1 view .LVU54
 198 0054 084B     		ldr	r3, .L16
 199 0056 DB69     		ldr	r3, [r3, #28]
  85:Modules/controls.c ****                 APP_STATE.SELECTED_TRACK_NAME = APP_STATE.TRACKS[--APP_STATE.SELECTED_TRACK_INDEX];
 200              		.loc 1 85 44 discriminator 1 view .LVU55
 201 0058 012B     		cmp	r3, #1
 202 005a EEDD     		ble	.L7
  86:Modules/controls.c ****             }
 203              		.loc 1 86 17 is_stmt 1 view .LVU56
  86:Modules/controls.c ****             }
 204              		.loc 1 86 58 is_stmt 0 view .LVU57
 205 005c 064A     		ldr	r2, .L16
 206 005e 1169     		ldr	r1, [r2, #16]
  86:Modules/controls.c ****             }
 207              		.loc 1 86 66 view .LVU58
 208 0060 013B     		subs	r3, r3, #1
  86:Modules/controls.c ****             }
 209              		.loc 1 86 47 view .LVU59
 210 0062 D361     		str	r3, [r2, #28]
  86:Modules/controls.c ****             }
 211              		.loc 1 86 65 view .LVU60
 212 0064 51F82330 		ldr	r3, [r1, r3, lsl #2]
  86:Modules/controls.c ****             }
 213              		.loc 1 86 47 view .LVU61
 214 0068 9361     		str	r3, [r2, #24]
 215 006a E6E7     		b	.L7
 216              	.L13:
  90:Modules/controls.c ****     }
 217              		.loc 1 90 13 is_stmt 1 view .LVU62
 218 006c 0146     		mov	r1, r0
 219 006e 0348     		ldr	r0, .L16+4
 220              	.LVL7:
  90:Modules/controls.c ****     }
 221              		.loc 1 90 13 is_stmt 0 view .LVU63
 222 0070 FFF7FEFF 		bl	xprintf
 223              	.LVL8:
 224 0074 E1E7     		b	.L7
 225              	.L17:
 226 0076 00BF     		.align	2
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 7


 227              	.L16:
 228 0078 00000000 		.word	.LANCHOR0
 229 007c 00000000 		.word	.LC0
 230              		.cfi_endproc
 231              	.LFE146:
 233              		.section	.text.CON_ActivateOption,"ax",%progbits
 234              		.align	1
 235              		.global	CON_ActivateOption
 236              		.syntax unified
 237              		.thumb
 238              		.thumb_func
 239              		.fpu fpv5-sp-d16
 241              	CON_ActivateOption:
 242              	.LFB147:
  93:Modules/controls.c **** 
  94:Modules/controls.c **** void CON_ActivateOption() {
 243              		.loc 1 94 27 is_stmt 1 view -0
 244              		.cfi_startproc
 245              		@ args = 0, pretend = 0, frame = 0
 246              		@ frame_needed = 0, uses_anonymous_args = 0
 247 0000 08B5     		push	{r3, lr}
 248              	.LCFI2:
 249              		.cfi_def_cfa_offset 8
 250              		.cfi_offset 3, -8
 251              		.cfi_offset 14, -4
  95:Modules/controls.c ****     if (APP_STATE.SELECTED_OPTION && APP_STATE.SELECTED_SOUND_BUTTON) {
 252              		.loc 1 95 5 view .LVU65
 253              		.loc 1 95 18 is_stmt 0 view .LVU66
 254 0002 134B     		ldr	r3, .L25
 255 0004 5B68     		ldr	r3, [r3, #4]
 256              		.loc 1 95 8 view .LVU67
 257 0006 7BB1     		cbz	r3, .L18
 258              		.loc 1 95 47 discriminator 1 view .LVU68
 259 0008 114A     		ldr	r2, .L25
 260 000a 1168     		ldr	r1, [r2]
 261              		.loc 1 95 35 discriminator 1 view .LVU69
 262 000c 61B1     		cbz	r1, .L18
  96:Modules/controls.c **** 
  97:Modules/controls.c ****         // todo: apply selected options with selected button
  98:Modules/controls.c **** 
  99:Modules/controls.c ****         switch (APP_STATE.SELECTED_OPTION) {
 263              		.loc 1 99 9 is_stmt 1 view .LVU70
 264 000e 0B2B     		cmp	r3, #11
 265 0010 0FD0     		beq	.L20
 266 0012 0C2B     		cmp	r3, #12
 267 0014 14D0     		beq	.L21
 268 0016 0A2B     		cmp	r3, #10
 269 0018 07D0     		beq	.L24
 270              	.L22:
 100:Modules/controls.c ****             case SELECTED_TRACK:
 101:Modules/controls.c ****                 AUDIO_L_LoadFileUnderButton(APP_STATE.SELECTED_TRACK_NAME, APP_STATE.SELECTED_SOUND
 102:Modules/controls.c ****                 APP_STATE.SELECTED_SOUND_BUTTON = -1;
 103:Modules/controls.c ****                 APP_STATE.SELECTED_OPTION = -1;
 104:Modules/controls.c ****                 break;
 105:Modules/controls.c ****             case EFFECT_1:
 106:Modules/controls.c ****                 APP_BUTTONS_STATE.configs[APP_STATE.SELECTED_SOUND_BUTTON].effectEnabled = effectOn
 107:Modules/controls.c ****                 break;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 8


 108:Modules/controls.c ****             case EFFECT_2:
 109:Modules/controls.c ****                 APP_BUTTONS_STATE.configs[APP_STATE.SELECTED_SOUND_BUTTON].effectEnabled = effectTw
 110:Modules/controls.c ****                 break;
 111:Modules/controls.c ****         }
 112:Modules/controls.c **** 
 113:Modules/controls.c ****         // Reset state
 114:Modules/controls.c ****         APP_STATE.SELECTED_OPTION = -1;
 271              		.loc 1 114 9 view .LVU71
 272              		.loc 1 114 35 is_stmt 0 view .LVU72
 273 001a 0D4B     		ldr	r3, .L25
 274 001c 4FF0FF32 		mov	r2, #-1
 275 0020 5A60     		str	r2, [r3, #4]
 115:Modules/controls.c ****         APP_STATE.SELECTED_SOUND_BUTTON = -1;
 276              		.loc 1 115 9 is_stmt 1 view .LVU73
 277              		.loc 1 115 41 is_stmt 0 view .LVU74
 278 0022 1A60     		str	r2, [r3]
 116:Modules/controls.c **** 		APP_STATE.IS_DIRTY = 1;
 279              		.loc 1 116 3 is_stmt 1 view .LVU75
 280              		.loc 1 116 22 is_stmt 0 view .LVU76
 281 0024 0122     		movs	r2, #1
 282 0026 9A60     		str	r2, [r3, #8]
 283              	.L18:
 117:Modules/controls.c ****     }
 118:Modules/controls.c **** }
 284              		.loc 1 118 1 view .LVU77
 285 0028 08BD     		pop	{r3, pc}
 286              	.L24:
 101:Modules/controls.c ****                 APP_STATE.SELECTED_SOUND_BUTTON = -1;
 287              		.loc 1 101 17 is_stmt 1 view .LVU78
 288 002a 9069     		ldr	r0, [r2, #24]
 289 002c FFF7FEFF 		bl	AUDIO_L_LoadFileUnderButton
 290              	.LVL9:
 102:Modules/controls.c ****                 APP_STATE.SELECTED_OPTION = -1;
 291              		.loc 1 102 17 view .LVU79
 103:Modules/controls.c ****                 break;
 292              		.loc 1 103 17 view .LVU80
 104:Modules/controls.c ****             case EFFECT_1:
 293              		.loc 1 104 17 view .LVU81
 294 0030 F3E7     		b	.L22
 295              	.L20:
 106:Modules/controls.c ****                 break;
 296              		.loc 1 106 17 view .LVU82
 106:Modules/controls.c ****                 break;
 297              		.loc 1 106 34 is_stmt 0 view .LVU83
 298 0032 084B     		ldr	r3, .L25+4
 299 0034 1B68     		ldr	r3, [r3]
 106:Modules/controls.c ****                 break;
 300              		.loc 1 106 42 view .LVU84
 301 0036 03EB0111 		add	r1, r3, r1, lsl #4
 106:Modules/controls.c ****                 break;
 302              		.loc 1 106 90 view .LVU85
 303 003a 0123     		movs	r3, #1
 304 003c 0B73     		strb	r3, [r1, #12]
 107:Modules/controls.c ****             case EFFECT_2:
 305              		.loc 1 107 17 is_stmt 1 view .LVU86
 306 003e ECE7     		b	.L22
 307              	.L21:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 9


 109:Modules/controls.c ****                 break;
 308              		.loc 1 109 17 view .LVU87
 109:Modules/controls.c ****                 break;
 309              		.loc 1 109 34 is_stmt 0 view .LVU88
 310 0040 044B     		ldr	r3, .L25+4
 311 0042 1B68     		ldr	r3, [r3]
 109:Modules/controls.c ****                 break;
 312              		.loc 1 109 42 view .LVU89
 313 0044 03EB0111 		add	r1, r3, r1, lsl #4
 109:Modules/controls.c ****                 break;
 314              		.loc 1 109 90 view .LVU90
 315 0048 0223     		movs	r3, #2
 316 004a 0B73     		strb	r3, [r1, #12]
 110:Modules/controls.c ****         }
 317              		.loc 1 110 17 is_stmt 1 view .LVU91
 318 004c E5E7     		b	.L22
 319              	.L26:
 320 004e 00BF     		.align	2
 321              	.L25:
 322 0050 00000000 		.word	.LANCHOR0
 323 0054 00000000 		.word	APP_BUTTONS_STATE
 324              		.cfi_endproc
 325              	.LFE147:
 327              		.section	.text.CON_EnqueueAudio,"ax",%progbits
 328              		.align	1
 329              		.global	CON_EnqueueAudio
 330              		.syntax unified
 331              		.thumb
 332              		.thumb_func
 333              		.fpu fpv5-sp-d16
 335              	CON_EnqueueAudio:
 336              	.LVL10:
 337              	.LFB148:
 119:Modules/controls.c **** 
 120:Modules/controls.c **** void CON_EnqueueAudio(int buttonNumber) {
 338              		.loc 1 120 41 view -0
 339              		.cfi_startproc
 340              		@ args = 0, pretend = 0, frame = 0
 341              		@ frame_needed = 0, uses_anonymous_args = 0
 342              		.loc 1 120 41 is_stmt 0 view .LVU93
 343 0000 08B5     		push	{r3, lr}
 344              	.LCFI3:
 345              		.cfi_def_cfa_offset 8
 346              		.cfi_offset 3, -8
 347              		.cfi_offset 14, -4
 121:Modules/controls.c ****     AUDIO_P_AddToQueue(buttonNumber);
 348              		.loc 1 121 5 is_stmt 1 view .LVU94
 349 0002 FFF7FEFF 		bl	AUDIO_P_AddToQueue
 350              	.LVL11:
 122:Modules/controls.c **** }
 351              		.loc 1 122 1 is_stmt 0 view .LVU95
 352 0006 08BD     		pop	{r3, pc}
 353              		.cfi_endproc
 354              	.LFE148:
 356              		.section	.rodata.CON_HandleSoundButtonTouched.str1.4,"aMS",%progbits,1
 357              		.align	2
 358              	.LC1:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 10


 359 0000 536F756E 		.ascii	"Sound button touched is: %d\015\012\000"
 359      64206275 
 359      74746F6E 
 359      20746F75 
 359      63686564 
 360              		.section	.text.CON_HandleSoundButtonTouched,"ax",%progbits
 361              		.align	1
 362              		.global	CON_HandleSoundButtonTouched
 363              		.syntax unified
 364              		.thumb
 365              		.thumb_func
 366              		.fpu fpv5-sp-d16
 368              	CON_HandleSoundButtonTouched:
 369              	.LVL12:
 370              	.LFB145:
  46:Modules/controls.c ****     switch (button) {
 371              		.loc 1 46 56 is_stmt 1 view -0
 372              		.cfi_startproc
 373              		@ args = 0, pretend = 0, frame = 0
 374              		@ frame_needed = 0, uses_anonymous_args = 0
  46:Modules/controls.c ****     switch (button) {
 375              		.loc 1 46 56 is_stmt 0 view .LVU97
 376 0000 10B5     		push	{r4, lr}
 377              	.LCFI4:
 378              		.cfi_def_cfa_offset 8
 379              		.cfi_offset 4, -8
 380              		.cfi_offset 14, -4
 381 0002 0446     		mov	r4, r0
  47:Modules/controls.c ****         case CON_BUTTON_0:
 382              		.loc 1 47 5 is_stmt 1 view .LVU98
 383 0004 0728     		cmp	r0, #7
 384 0006 07D8     		bhi	.L30
  56:Modules/controls.c ****             if (APP_STATE.SELECTED_OPTION == -1) {
 385              		.loc 1 56 13 view .LVU99
  56:Modules/controls.c ****             if (APP_STATE.SELECTED_OPTION == -1) {
 386              		.loc 1 56 45 is_stmt 0 view .LVU100
 387 0008 074B     		ldr	r3, .L34
 388 000a 1860     		str	r0, [r3]
  57:Modules/controls.c ****                 CON_EnqueueAudio(button);
 389              		.loc 1 57 13 is_stmt 1 view .LVU101
  57:Modules/controls.c ****                 CON_EnqueueAudio(button);
 390              		.loc 1 57 26 is_stmt 0 view .LVU102
 391 000c 5B68     		ldr	r3, [r3, #4]
  57:Modules/controls.c ****                 CON_EnqueueAudio(button);
 392              		.loc 1 57 16 view .LVU103
 393 000e B3F1FF3F 		cmp	r3, #-1
 394 0012 06D0     		beq	.L33
  60:Modules/controls.c ****             }
 395              		.loc 1 60 17 is_stmt 1 view .LVU104
 396 0014 FFF7FEFF 		bl	CON_ActivateOption
 397              	.LVL13:
 398              	.L30:
  63:Modules/controls.c ****     }
 399              		.loc 1 63 13 view .LVU105
 400 0018 2146     		mov	r1, r4
 401 001a 0448     		ldr	r0, .L34+4
 402 001c FFF7FEFF 		bl	xprintf
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 11


 403              	.LVL14:
  65:Modules/controls.c **** 
 404              		.loc 1 65 1 is_stmt 0 view .LVU106
 405 0020 10BD     		pop	{r4, pc}
 406              	.LVL15:
 407              	.L33:
  58:Modules/controls.c ****             } else {
 408              		.loc 1 58 17 is_stmt 1 view .LVU107
 409 0022 FFF7FEFF 		bl	CON_EnqueueAudio
 410              	.LVL16:
  58:Modules/controls.c ****             } else {
 411              		.loc 1 58 17 is_stmt 0 view .LVU108
 412 0026 F7E7     		b	.L30
 413              	.L35:
 414              		.align	2
 415              	.L34:
 416 0028 00000000 		.word	.LANCHOR0
 417 002c 00000000 		.word	.LC1
 418              		.cfi_endproc
 419              	.LFE145:
 421              		.section	.text.CON_HandleButtonTouched,"ax",%progbits
 422              		.align	1
 423              		.global	CON_HandleButtonTouched
 424              		.syntax unified
 425              		.thumb
 426              		.thumb_func
 427              		.fpu fpv5-sp-d16
 429              	CON_HandleButtonTouched:
 430              	.LVL17:
 431              	.LFB144:
  35:Modules/controls.c ****     if (buttonNumber < 0 || buttonNumber >= NUMBER_OF_CONTROLS)
 432              		.loc 1 35 48 is_stmt 1 view -0
 433              		.cfi_startproc
 434              		@ args = 0, pretend = 0, frame = 0
 435              		@ frame_needed = 0, uses_anonymous_args = 0
  36:Modules/controls.c ****         return;
 436              		.loc 1 36 5 view .LVU110
  36:Modules/controls.c ****         return;
 437              		.loc 1 36 8 is_stmt 0 view .LVU111
 438 0000 0C28     		cmp	r0, #12
 439 0002 0AD8     		bhi	.L40
  35:Modules/controls.c ****     if (buttonNumber < 0 || buttonNumber >= NUMBER_OF_CONTROLS)
 440              		.loc 1 35 48 view .LVU112
 441 0004 08B5     		push	{r3, lr}
 442              	.LCFI5:
 443              		.cfi_def_cfa_offset 8
 444              		.cfi_offset 3, -8
 445              		.cfi_offset 14, -4
  39:Modules/controls.c ****         CON_HandleSoundButtonTouched(buttonNumber);
 446              		.loc 1 39 5 is_stmt 1 view .LVU113
  39:Modules/controls.c ****         CON_HandleSoundButtonTouched(buttonNumber);
 447              		.loc 1 39 8 is_stmt 0 view .LVU114
 448 0006 0728     		cmp	r0, #7
 449 0008 03DC     		bgt	.L38
  40:Modules/controls.c ****     } else {
 450              		.loc 1 40 9 is_stmt 1 view .LVU115
 451 000a C0B2     		uxtb	r0, r0
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 12


 452              	.LVL18:
  40:Modules/controls.c ****     } else {
 453              		.loc 1 40 9 is_stmt 0 view .LVU116
 454 000c FFF7FEFF 		bl	CON_HandleSoundButtonTouched
 455              	.LVL19:
 456              	.L36:
  44:Modules/controls.c **** 
 457              		.loc 1 44 1 view .LVU117
 458 0010 08BD     		pop	{r3, pc}
 459              	.LVL20:
 460              	.L38:
  42:Modules/controls.c ****     }
 461              		.loc 1 42 9 is_stmt 1 view .LVU118
 462 0012 C0B2     		uxtb	r0, r0
 463              	.LVL21:
  42:Modules/controls.c ****     }
 464              		.loc 1 42 9 is_stmt 0 view .LVU119
 465 0014 FFF7FEFF 		bl	CON_HandleOptionButtonTouched
 466              	.LVL22:
 467 0018 FAE7     		b	.L36
 468              	.LVL23:
 469              	.L40:
 470              	.LCFI6:
 471              		.cfi_def_cfa_offset 0
 472              		.cfi_restore 3
 473              		.cfi_restore 14
  42:Modules/controls.c ****     }
 474              		.loc 1 42 9 view .LVU120
 475 001a 7047     		bx	lr
 476              		.cfi_endproc
 477              	.LFE144:
 479              		.comm	APP_BUTTONS_STATE,4,4
 480              		.global	APP_STATE
 481              		.section	.data.APP_STATE,"aw"
 482              		.align	2
 483              		.set	.LANCHOR0,. + 0
 486              	APP_STATE:
 487 0000 FFFFFFFF 		.word	-1
 488 0004 FFFFFFFF 		.word	-1
 489 0008 01000000 		.word	1
 490 000c 00000000 		.word	0
 491 0010 00000000 		.word	0
 492 0014 00000000 		.word	0
 493 0018 00000000 		.word	0
 494 001c 00000000 		.word	0
 495 0020 28000000 		.word	40
 496              		.text
 497              	.Letext0:
 498              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 499              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 500              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 501              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 502              		.file 6 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 503              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 504              		.file 8 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\lib\\gcc\\arm-none-eabi
 505              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 506              		.file 10 "Modules/controls.h"
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 13


 507              		.file 11 "Middlewares/Third_Party/FatFs/src/integer.h"
 508              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 509              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 510              		.file 14 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 511              		.file 15 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 512              		.file 16 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 513              		.file 17 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_def.h"
 514              		.file 18 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_ctlreq.h"
 515              		.file 19 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc.h"
 516              		.file 20 "Middlewares/Third_Party/FatFs/src/ff.h"
 517              		.file 21 "Modules/audio_loader.h"
 518              		.file 22 "Modules/audio_player.h"
 519              		.file 23 "Inc/term_io.h"
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 controls.c
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:18     .text.CON_Initialize_Buttons:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:26     .text.CON_Initialize_Buttons:00000000 CON_Initialize_Buttons
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:98     .text.CON_Initialize_Buttons:00000034 $d
                            *COM*:00000004 APP_BUTTONS_STATE
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:103    .rodata.CON_HandleOptionButtonTouched.str1.4:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:107    .text.CON_HandleOptionButtonTouched:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:114    .text.CON_HandleOptionButtonTouched:00000000 CON_HandleOptionButtonTouched
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:228    .text.CON_HandleOptionButtonTouched:00000078 $d
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:234    .text.CON_ActivateOption:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:241    .text.CON_ActivateOption:00000000 CON_ActivateOption
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:322    .text.CON_ActivateOption:00000050 $d
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:328    .text.CON_EnqueueAudio:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:335    .text.CON_EnqueueAudio:00000000 CON_EnqueueAudio
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:357    .rodata.CON_HandleSoundButtonTouched.str1.4:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:361    .text.CON_HandleSoundButtonTouched:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:368    .text.CON_HandleSoundButtonTouched:00000000 CON_HandleSoundButtonTouched
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:416    .text.CON_HandleSoundButtonTouched:00000028 $d
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:422    .text.CON_HandleButtonTouched:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:429    .text.CON_HandleButtonTouched:00000000 CON_HandleButtonTouched
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:486    .data.APP_STATE:00000000 APP_STATE
C:\Users\Nina\AppData\Local\Temp\ccjiipF3.s:482    .data.APP_STATE:00000000 $d

UNDEFINED SYMBOLS
malloc
xprintf
AUDIO_L_LoadFileUnderButton
AUDIO_P_AddToQueue
