ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"gui.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.GUI_GetXButtonSize,"ax",%progbits
  18              		.align	1
  19              		.global	GUI_GetXButtonSize
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-sp-d16
  25              	GUI_GetXButtonSize:
  26              	.LFB136:
  27              		.file 1 "Modules/gui.c"
   1:Modules/gui.c **** //
   2:Modules/gui.c **** // Created by olliekrk on 21.10.2019.
   3:Modules/gui.c **** //
   4:Modules/gui.c **** 
   5:Modules/gui.c **** #include <stm32746g_discovery_ts.h>
   6:Modules/gui.c **** #include "stm32746g_discovery_lcd.h"
   7:Modules/gui.c **** #include "gui.h"
   8:Modules/gui.c **** #include "gui_colors.h"
   9:Modules/gui.c **** #include "controls.h"
  10:Modules/gui.c **** 
  11:Modules/gui.c **** extern AppControlsState APP_STATE;
  12:Modules/gui.c **** 
  13:Modules/gui.c **** uint32_t GUI_GetXButtonSize() {
  28              		.loc 1 13 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
  14:Modules/gui.c ****     return (BSP_LCD_GetXSize() - 2 * GUI_margin) / GUI_buttons_in_row;
  37              		.loc 1 14 0
  38 0002 FFF7FEFF 		bl	BSP_LCD_GetXSize
  39              	.LVL0:
  40 0006 0838     		subs	r0, r0, #8
  15:Modules/gui.c **** }
  41              		.loc 1 15 0
  42 0008 8008     		lsrs	r0, r0, #2
  43 000a 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 2


  44              		.cfi_endproc
  45              	.LFE136:
  47              		.section	.text.GUI_GetYButtonSize,"ax",%progbits
  48              		.align	1
  49              		.global	GUI_GetYButtonSize
  50              		.syntax unified
  51              		.thumb
  52              		.thumb_func
  53              		.fpu fpv5-sp-d16
  55              	GUI_GetYButtonSize:
  56              	.LFB137:
  16:Modules/gui.c **** 
  17:Modules/gui.c **** uint32_t GUI_GetYButtonSize() {
  57              		.loc 1 17 0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 0
  60              		@ frame_needed = 0, uses_anonymous_args = 0
  61 0000 08B5     		push	{r3, lr}
  62              	.LCFI1:
  63              		.cfi_def_cfa_offset 8
  64              		.cfi_offset 3, -8
  65              		.cfi_offset 14, -4
  18:Modules/gui.c ****     return (BSP_LCD_GetYSize() - 2 * GUI_margin) / (GUI_sound_rows + 1); // 1/N of screen is for pl
  66              		.loc 1 18 0
  67 0002 FFF7FEFF 		bl	BSP_LCD_GetYSize
  68              	.LVL1:
  69 0006 0838     		subs	r0, r0, #8
  70 0008 024B     		ldr	r3, .L5
  71 000a A3FB0030 		umull	r3, r0, r3, r0
  19:Modules/gui.c **** }
  72              		.loc 1 19 0
  73 000e 4008     		lsrs	r0, r0, #1
  74 0010 08BD     		pop	{r3, pc}
  75              	.L6:
  76 0012 00BF     		.align	2
  77              	.L5:
  78 0014 ABAAAAAA 		.word	-1431655765
  79              		.cfi_endproc
  80              	.LFE137:
  82              		.global	__aeabi_i2d
  83              		.global	__aeabi_ui2d
  84              		.global	__aeabi_dmul
  85              		.global	__aeabi_dadd
  86              		.global	__aeabi_dcmple
  87              		.section	.text.GUI_GetButtonForCoords,"ax",%progbits
  88              		.align	1
  89              		.global	GUI_GetButtonForCoords
  90              		.syntax unified
  91              		.thumb
  92              		.thumb_func
  93              		.fpu fpv5-sp-d16
  95              	GUI_GetButtonForCoords:
  96              	.LFB138:
  20:Modules/gui.c **** 
  21:Modules/gui.c **** int GUI_GetButtonForCoords(int x, int y) {
  97              		.loc 1 21 0
  98              		.cfi_startproc
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 3


  99              		@ args = 0, pretend = 0, frame = 0
 100              		@ frame_needed = 0, uses_anonymous_args = 0
 101              	.LVL2:
 102 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 103              	.LCFI2:
 104              		.cfi_def_cfa_offset 24
 105              		.cfi_offset 3, -24
 106              		.cfi_offset 4, -20
 107              		.cfi_offset 5, -16
 108              		.cfi_offset 6, -12
 109              		.cfi_offset 7, -8
 110              		.cfi_offset 14, -4
 111 0002 0E46     		mov	r6, r1
  22:Modules/gui.c ****     uint8_t column = (x - GUI_margin) / GUI_GetXButtonSize();
 112              		.loc 1 22 0
 113 0004 051F     		subs	r5, r0, #4
 114 0006 FFF7FEFF 		bl	GUI_GetXButtonSize
 115              	.LVL3:
 116 000a B5FBF0F5 		udiv	r5, r5, r0
 117              	.LVL4:
 118 000e EDB2     		uxtb	r5, r5
 119              	.LVL5:
  23:Modules/gui.c ****     uint8_t row = (y - GUI_margin) / GUI_GetYButtonSize();
 120              		.loc 1 23 0
 121 0010 341F     		subs	r4, r6, #4
 122 0012 FFF7FEFF 		bl	GUI_GetYButtonSize
 123              	.LVL6:
 124 0016 B4FBF0F0 		udiv	r0, r4, r0
 125 001a C0B2     		uxtb	r0, r0
 126              	.LVL7:
  24:Modules/gui.c **** 
  25:Modules/gui.c ****     if (column >= 0 && column < GUI_buttons_in_row && row >= 0 && row < GUI_sound_rows) {
 127              		.loc 1 25 0
 128 001c 032D     		cmp	r5, #3
 129 001e 98BF     		it	ls
 130 0020 0128     		cmpls	r0, #1
 131 0022 04D8     		bhi	.L8
  26:Modules/gui.c ****         return (SoundControl) (column + row * GUI_buttons_in_row);
 132              		.loc 1 26 0
 133 0024 8000     		lsls	r0, r0, #2
 134              	.LVL8:
 135 0026 C0B2     		uxtb	r0, r0
 136 0028 2844     		add	r0, r0, r5
 137 002a C0B2     		uxtb	r0, r0
 138 002c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 139              	.LVL9:
 140              	.L8:
 141              	.LBB2:
  27:Modules/gui.c ****     } else {
  28:Modules/gui.c ****         int rowUpperSection = y <= GUI_margin + 2.5 * GUI_GetYButtonSize();
 142              		.loc 1 28 0
 143 002e 3046     		mov	r0, r6
 144              	.LVL10:
 145 0030 FFF7FEFF 		bl	__aeabi_i2d
 146              	.LVL11:
 147 0034 0646     		mov	r6, r0
 148              	.LVL12:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 4


 149 0036 0F46     		mov	r7, r1
 150 0038 FFF7FEFF 		bl	GUI_GetYButtonSize
 151              	.LVL13:
 152 003c FFF7FEFF 		bl	__aeabi_ui2d
 153              	.LVL14:
 154 0040 0022     		movs	r2, #0
 155 0042 114B     		ldr	r3, .L22
 156 0044 FFF7FEFF 		bl	__aeabi_dmul
 157              	.LVL15:
 158 0048 0022     		movs	r2, #0
 159 004a 104B     		ldr	r3, .L22+4
 160 004c FFF7FEFF 		bl	__aeabi_dadd
 161              	.LVL16:
  29:Modules/gui.c **** 
  30:Modules/gui.c ****         if (column == 0) {
 162              		.loc 1 30 0
 163 0050 45B9     		cbnz	r5, .L10
  31:Modules/gui.c ****             return rowUpperSection ? NEXT_TRACK : BACK_TRACK;
 164              		.loc 1 31 0
 165 0052 0246     		mov	r2, r0
 166 0054 0B46     		mov	r3, r1
 167 0056 3046     		mov	r0, r6
 168              	.LVL17:
 169 0058 3946     		mov	r1, r7
 170 005a FFF7FEFF 		bl	__aeabi_dcmple
 171              	.LVL18:
 172 005e 70B1     		cbz	r0, .L18
 173 0060 0820     		movs	r0, #8
 174 0062 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 175              	.LVL19:
 176              	.L10:
  32:Modules/gui.c ****         } else if (column == 3) {
 177              		.loc 1 32 0
 178 0064 032D     		cmp	r5, #3
 179 0066 01D0     		beq	.L21
  33:Modules/gui.c ****             return rowUpperSection ? EFFECT_1 : EFFECT_2;
  34:Modules/gui.c ****         } else {
  35:Modules/gui.c ****             return SELECTED_TRACK;
 180              		.loc 1 35 0
 181 0068 0A20     		movs	r0, #10
 182              	.LVL20:
 183 006a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 184              	.LVL21:
 185              	.L21:
  33:Modules/gui.c ****             return rowUpperSection ? EFFECT_1 : EFFECT_2;
 186              		.loc 1 33 0
 187 006c 0246     		mov	r2, r0
 188 006e 0B46     		mov	r3, r1
 189 0070 3046     		mov	r0, r6
 190              	.LVL22:
 191 0072 3946     		mov	r1, r7
 192 0074 FFF7FEFF 		bl	__aeabi_dcmple
 193              	.LVL23:
 194 0078 18B1     		cbz	r0, .L19
 195 007a 0B20     		movs	r0, #11
 196 007c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 197              	.LVL24:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 5


 198              	.L18:
  31:Modules/gui.c ****         } else if (column == 3) {
 199              		.loc 1 31 0
 200 007e 0920     		movs	r0, #9
 201 0080 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 202              	.LVL25:
 203              	.L19:
  33:Modules/gui.c ****             return rowUpperSection ? EFFECT_1 : EFFECT_2;
 204              		.loc 1 33 0
 205 0082 0C20     		movs	r0, #12
 206              	.LBE2:
  36:Modules/gui.c ****         }
  37:Modules/gui.c ****     }
  38:Modules/gui.c **** }
 207              		.loc 1 38 0
 208 0084 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 209              	.LVL26:
 210              	.L23:
 211 0086 00BF     		.align	2
 212              	.L22:
 213 0088 00000440 		.word	1074003968
 214 008c 00001040 		.word	1074790400
 215              		.cfi_endproc
 216              	.LFE138:
 218              		.global	__aeabi_d2iz
 219              		.section	.text.GUI_GetCoordsForButton,"ax",%progbits
 220              		.align	1
 221              		.global	GUI_GetCoordsForButton
 222              		.syntax unified
 223              		.thumb
 224              		.thumb_func
 225              		.fpu fpv5-sp-d16
 227              	GUI_GetCoordsForButton:
 228              	.LFB139:
  39:Modules/gui.c **** 
  40:Modules/gui.c **** int GUI_GetCoordsForButton(int buttonNumber, int *xOutput, int *yOutput) {
 229              		.loc 1 40 0
 230              		.cfi_startproc
 231              		@ args = 0, pretend = 0, frame = 0
 232              		@ frame_needed = 0, uses_anonymous_args = 0
 233              	.LVL27:
  41:Modules/gui.c ****     if (buttonNumber < 0 || buttonNumber >= NUMBER_OF_CONTROLS) {
 234              		.loc 1 41 0
 235 0000 0C28     		cmp	r0, #12
 236 0002 6BD8     		bhi	.L32
  40:Modules/gui.c ****     if (buttonNumber < 0 || buttonNumber >= NUMBER_OF_CONTROLS) {
 237              		.loc 1 40 0
 238 0004 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 239              	.LCFI3:
 240              		.cfi_def_cfa_offset 24
 241              		.cfi_offset 3, -24
 242              		.cfi_offset 4, -20
 243              		.cfi_offset 5, -16
 244              		.cfi_offset 6, -12
 245              		.cfi_offset 7, -8
 246              		.cfi_offset 14, -4
 247 0006 1646     		mov	r6, r2
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 6


 248 0008 0D46     		mov	r5, r1
 249 000a 0446     		mov	r4, r0
  42:Modules/gui.c ****         return -1;
  43:Modules/gui.c ****     }
  44:Modules/gui.c **** 
  45:Modules/gui.c ****     if (buttonNumber < NUMBER_OF_SOUND_CONTROLS) {
 250              		.loc 1 45 0
 251 000c 0728     		cmp	r0, #7
 252 000e 20DD     		ble	.L39
  46:Modules/gui.c ****         *xOutput = GUI_margin + (buttonNumber % GUI_buttons_in_row) * GUI_GetXButtonSize();
  47:Modules/gui.c ****         *yOutput = GUI_margin + (buttonNumber / GUI_buttons_in_row) * GUI_GetYButtonSize();
  48:Modules/gui.c ****     } else if (buttonNumber == NEXT_TRACK || buttonNumber == BACK_TRACK) {
 253              		.loc 1 48 0
 254 0010 A0F10803 		sub	r3, r0, #8
 255 0014 012B     		cmp	r3, #1
 256 0016 37D9     		bls	.L40
  49:Modules/gui.c ****         *xOutput = GUI_margin;
  50:Modules/gui.c ****         *yOutput = GUI_margin + (buttonNumber == NEXT_TRACK ? 2 : 2.5) * GUI_GetYButtonSize();
  51:Modules/gui.c ****     } else if (buttonNumber == SELECTED_TRACK) {
 257              		.loc 1 51 0
 258 0018 0A28     		cmp	r0, #10
 259 001a 50D0     		beq	.L41
  52:Modules/gui.c ****         *xOutput = GUI_margin + GUI_GetXButtonSize();
  53:Modules/gui.c ****         *yOutput = GUI_margin + 2 * GUI_GetYButtonSize();
  54:Modules/gui.c ****     } else {
  55:Modules/gui.c ****         *xOutput = GUI_margin + 3 * GUI_GetXButtonSize();
 260              		.loc 1 55 0
 261 001c FFF7FEFF 		bl	GUI_GetXButtonSize
 262              	.LVL28:
 263 0020 00EB4000 		add	r0, r0, r0, lsl #1
 264 0024 0430     		adds	r0, r0, #4
 265 0026 2860     		str	r0, [r5]
  56:Modules/gui.c ****         *yOutput = GUI_margin + (buttonNumber == EFFECT_1 ? 2 : 2.5) * GUI_GetYButtonSize();
 266              		.loc 1 56 0
 267 0028 0B2C     		cmp	r4, #11
 268 002a 53D0     		beq	.L42
 269 002c 0024     		movs	r4, #0
 270              	.LVL29:
 271 002e 2D4D     		ldr	r5, .L45
 272              	.LVL30:
 273              	.L31:
 274              		.loc 1 56 0 is_stmt 0 discriminator 4
 275 0030 FFF7FEFF 		bl	GUI_GetYButtonSize
 276              	.LVL31:
 277 0034 FFF7FEFF 		bl	__aeabi_ui2d
 278              	.LVL32:
 279 0038 2246     		mov	r2, r4
 280 003a 2B46     		mov	r3, r5
 281 003c FFF7FEFF 		bl	__aeabi_dmul
 282              	.LVL33:
 283 0040 0022     		movs	r2, #0
 284 0042 294B     		ldr	r3, .L45+4
 285 0044 FFF7FEFF 		bl	__aeabi_dadd
 286              	.LVL34:
 287 0048 FFF7FEFF 		bl	__aeabi_d2iz
 288              	.LVL35:
 289 004c 3060     		str	r0, [r6]
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 7


  57:Modules/gui.c ****     }
  58:Modules/gui.c **** 
  59:Modules/gui.c ****     return 0;
 290              		.loc 1 59 0 is_stmt 1 discriminator 4
 291 004e 0020     		movs	r0, #0
 292 0050 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 293              	.LVL36:
 294              	.L39:
  46:Modules/gui.c ****         *yOutput = GUI_margin + (buttonNumber / GUI_buttons_in_row) * GUI_GetYButtonSize();
 295              		.loc 1 46 0
 296 0052 4342     		rsbs	r3, r0, #0
 297 0054 00F00307 		and	r7, r0, #3
 298 0058 03F00303 		and	r3, r3, #3
 299 005c 58BF     		it	pl
 300 005e 5F42     		rsbpl	r7, r3, #0
 301 0060 FFF7FEFF 		bl	GUI_GetXButtonSize
 302              	.LVL37:
 303 0064 00FB07F0 		mul	r0, r0, r7
 304 0068 0430     		adds	r0, r0, #4
 305 006a 2860     		str	r0, [r5]
  47:Modules/gui.c ****     } else if (buttonNumber == NEXT_TRACK || buttonNumber == BACK_TRACK) {
 306              		.loc 1 47 0
 307 006c 2046     		mov	r0, r4
 308 006e 002C     		cmp	r4, #0
 309 0070 08DB     		blt	.L43
 310              	.L27:
 311 0072 8410     		asrs	r4, r0, #2
 312              	.LVL38:
 313 0074 FFF7FEFF 		bl	GUI_GetYButtonSize
 314              	.LVL39:
 315 0078 00FB04F0 		mul	r0, r0, r4
 316 007c 0430     		adds	r0, r0, #4
 317 007e 3060     		str	r0, [r6]
 318              		.loc 1 59 0
 319 0080 0020     		movs	r0, #0
 320 0082 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 321              	.LVL40:
 322              	.L43:
  47:Modules/gui.c ****     } else if (buttonNumber == NEXT_TRACK || buttonNumber == BACK_TRACK) {
 323              		.loc 1 47 0
 324 0084 E01C     		adds	r0, r4, #3
 325              	.LVL41:
 326 0086 F4E7     		b	.L27
 327              	.LVL42:
 328              	.L40:
  49:Modules/gui.c ****         *yOutput = GUI_margin + (buttonNumber == NEXT_TRACK ? 2 : 2.5) * GUI_GetYButtonSize();
 329              		.loc 1 49 0
 330 0088 0423     		movs	r3, #4
 331 008a 0B60     		str	r3, [r1]
  50:Modules/gui.c ****     } else if (buttonNumber == SELECTED_TRACK) {
 332              		.loc 1 50 0
 333 008c 0828     		cmp	r0, #8
 334 008e 12D0     		beq	.L44
 335 0090 0024     		movs	r4, #0
 336 0092 144D     		ldr	r5, .L45
 337              	.L29:
  50:Modules/gui.c ****     } else if (buttonNumber == SELECTED_TRACK) {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 8


 338              		.loc 1 50 0 is_stmt 0 discriminator 4
 339 0094 FFF7FEFF 		bl	GUI_GetYButtonSize
 340              	.LVL43:
 341 0098 FFF7FEFF 		bl	__aeabi_ui2d
 342              	.LVL44:
 343 009c 2246     		mov	r2, r4
 344 009e 2B46     		mov	r3, r5
 345 00a0 FFF7FEFF 		bl	__aeabi_dmul
 346              	.LVL45:
 347 00a4 0022     		movs	r2, #0
 348 00a6 104B     		ldr	r3, .L45+4
 349 00a8 FFF7FEFF 		bl	__aeabi_dadd
 350              	.LVL46:
 351 00ac FFF7FEFF 		bl	__aeabi_d2iz
 352              	.LVL47:
 353 00b0 3060     		str	r0, [r6]
 354              		.loc 1 59 0 is_stmt 1 discriminator 4
 355 00b2 0020     		movs	r0, #0
 356 00b4 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 357              	.LVL48:
 358              	.L44:
  50:Modules/gui.c ****     } else if (buttonNumber == SELECTED_TRACK) {
 359              		.loc 1 50 0
 360 00b6 0024     		movs	r4, #0
 361 00b8 4FF08045 		mov	r5, #1073741824
 362 00bc EAE7     		b	.L29
 363              	.L41:
  52:Modules/gui.c ****         *yOutput = GUI_margin + 2 * GUI_GetYButtonSize();
 364              		.loc 1 52 0
 365 00be FFF7FEFF 		bl	GUI_GetXButtonSize
 366              	.LVL49:
 367 00c2 0430     		adds	r0, r0, #4
 368 00c4 2860     		str	r0, [r5]
  53:Modules/gui.c ****     } else {
 369              		.loc 1 53 0
 370 00c6 FFF7FEFF 		bl	GUI_GetYButtonSize
 371              	.LVL50:
 372 00ca 0230     		adds	r0, r0, #2
 373 00cc 4000     		lsls	r0, r0, #1
 374 00ce 3060     		str	r0, [r6]
 375              		.loc 1 59 0
 376 00d0 0020     		movs	r0, #0
 377 00d2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 378              	.LVL51:
 379              	.L42:
  56:Modules/gui.c ****     }
 380              		.loc 1 56 0
 381 00d4 0024     		movs	r4, #0
 382              	.LVL52:
 383 00d6 4FF08045 		mov	r5, #1073741824
 384              	.LVL53:
 385 00da A9E7     		b	.L31
 386              	.LVL54:
 387              	.L32:
 388              	.LCFI4:
 389              		.cfi_def_cfa_offset 0
 390              		.cfi_restore 3
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 9


 391              		.cfi_restore 4
 392              		.cfi_restore 5
 393              		.cfi_restore 6
 394              		.cfi_restore 7
 395              		.cfi_restore 14
  42:Modules/gui.c ****     }
 396              		.loc 1 42 0
 397 00dc 4FF0FF30 		mov	r0, #-1
 398              	.LVL55:
 399 00e0 7047     		bx	lr
 400              	.L46:
 401 00e2 00BF     		.align	2
 402              	.L45:
 403 00e4 00000440 		.word	1074003968
 404 00e8 00001040 		.word	1074790400
 405              		.cfi_endproc
 406              	.LFE139:
 408              		.section	.text.GUI_GetSizeForButton,"ax",%progbits
 409              		.align	1
 410              		.global	GUI_GetSizeForButton
 411              		.syntax unified
 412              		.thumb
 413              		.thumb_func
 414              		.fpu fpv5-sp-d16
 416              	GUI_GetSizeForButton:
 417              	.LFB140:
  60:Modules/gui.c **** }
  61:Modules/gui.c **** 
  62:Modules/gui.c **** void GUI_GetSizeForButton(int buttonNumber, int *xSizeOutput, int *ySizeOutput) {
 418              		.loc 1 62 0
 419              		.cfi_startproc
 420              		@ args = 0, pretend = 0, frame = 0
 421              		@ frame_needed = 0, uses_anonymous_args = 0
 422              	.LVL56:
 423 0000 38B5     		push	{r3, r4, r5, lr}
 424              	.LCFI5:
 425              		.cfi_def_cfa_offset 16
 426              		.cfi_offset 3, -16
 427              		.cfi_offset 4, -12
 428              		.cfi_offset 5, -8
 429              		.cfi_offset 14, -4
 430 0002 0D46     		mov	r5, r1
 431 0004 1446     		mov	r4, r2
  63:Modules/gui.c ****     if (buttonNumber > 0 && buttonNumber < NUMBER_OF_SOUND_CONTROLS) {
 432              		.loc 1 63 0
 433 0006 431E     		subs	r3, r0, #1
 434 0008 062B     		cmp	r3, #6
 435 000a 10D9     		bls	.L52
  64:Modules/gui.c ****         *xSizeOutput = GUI_GetXButtonSize();
  65:Modules/gui.c ****         *ySizeOutput = GUI_GetYButtonSize();
  66:Modules/gui.c ****     } else if (buttonNumber == SELECTED_TRACK) {
 436              		.loc 1 66 0
 437 000c 0A28     		cmp	r0, #10
 438 000e 15D0     		beq	.L53
  67:Modules/gui.c ****         *xSizeOutput = (int) (2 * GUI_GetXButtonSize());
  68:Modules/gui.c ****         *ySizeOutput = GUI_GetYButtonSize();
  69:Modules/gui.c ****     } else {
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 10


  70:Modules/gui.c ****         *xSizeOutput = GUI_GetXButtonSize();
 439              		.loc 1 70 0
 440 0010 FFF7FEFF 		bl	GUI_GetXButtonSize
 441              	.LVL57:
 442 0014 2860     		str	r0, [r5]
  71:Modules/gui.c ****         *ySizeOutput = (int) (0.5 * GUI_GetYButtonSize());
 443              		.loc 1 71 0
 444 0016 FFF7FEFF 		bl	GUI_GetYButtonSize
 445              	.LVL58:
 446 001a FFF7FEFF 		bl	__aeabi_ui2d
 447              	.LVL59:
 448 001e 0022     		movs	r2, #0
 449 0020 0A4B     		ldr	r3, .L54
 450 0022 FFF7FEFF 		bl	__aeabi_dmul
 451              	.LVL60:
 452 0026 FFF7FEFF 		bl	__aeabi_d2iz
 453              	.LVL61:
 454 002a 2060     		str	r0, [r4]
 455 002c 38BD     		pop	{r3, r4, r5, pc}
 456              	.LVL62:
 457              	.L52:
  64:Modules/gui.c ****         *xSizeOutput = GUI_GetXButtonSize();
 458              		.loc 1 64 0
 459 002e FFF7FEFF 		bl	GUI_GetXButtonSize
 460              	.LVL63:
 461 0032 2860     		str	r0, [r5]
  65:Modules/gui.c ****     } else if (buttonNumber == SELECTED_TRACK) {
 462              		.loc 1 65 0
 463 0034 FFF7FEFF 		bl	GUI_GetYButtonSize
 464              	.LVL64:
 465 0038 2060     		str	r0, [r4]
 466 003a 38BD     		pop	{r3, r4, r5, pc}
 467              	.LVL65:
 468              	.L53:
  67:Modules/gui.c ****         *xSizeOutput = (int) (2 * GUI_GetXButtonSize());
 469              		.loc 1 67 0
 470 003c FFF7FEFF 		bl	GUI_GetXButtonSize
 471              	.LVL66:
 472 0040 4000     		lsls	r0, r0, #1
 473 0042 2860     		str	r0, [r5]
  68:Modules/gui.c ****     } else {
 474              		.loc 1 68 0
 475 0044 FFF7FEFF 		bl	GUI_GetYButtonSize
 476              	.LVL67:
 477 0048 2060     		str	r0, [r4]
 478 004a 38BD     		pop	{r3, r4, r5, pc}
 479              	.LVL68:
 480              	.L55:
 481              		.align	2
 482              	.L54:
 483 004c 0000E03F 		.word	1071644672
 484              		.cfi_endproc
 485              	.LFE140:
 487              		.section	.text.GUI_GetColorsForButton,"ax",%progbits
 488              		.align	1
 489              		.global	GUI_GetColorsForButton
 490              		.syntax unified
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 11


 491              		.thumb
 492              		.thumb_func
 493              		.fpu fpv5-sp-d16
 495              	GUI_GetColorsForButton:
 496              	.LFB141:
  72:Modules/gui.c ****     }
  73:Modules/gui.c **** }
  74:Modules/gui.c **** 
  75:Modules/gui.c **** void GUI_GetColorsForButton(int buttonNumber, uint32_t *primaryOutput, uint32_t *accentOutput) {
 497              		.loc 1 75 0
 498              		.cfi_startproc
 499              		@ args = 0, pretend = 0, frame = 0
 500              		@ frame_needed = 0, uses_anonymous_args = 0
 501              		@ link register save eliminated.
 502              	.LVL69:
  76:Modules/gui.c ****     switch (buttonNumber) {
 503              		.loc 1 76 0
 504 0000 0838     		subs	r0, r0, #8
 505              	.LVL70:
 506 0002 0428     		cmp	r0, #4
 507 0004 0ED8     		bhi	.L57
 508 0006 DFE800F0 		tbb	[pc, r0]
 509              	.L59:
 510 000a 08       		.byte	(.L58-.L59)/2
 511 000b 08       		.byte	(.L58-.L59)/2
 512 000c 03       		.byte	(.L60-.L59)/2
 513 000d 08       		.byte	(.L58-.L59)/2
 514 000e 08       		.byte	(.L58-.L59)/2
 515 000f 00       		.p2align 1
 516              	.L60:
  77:Modules/gui.c ****         case SELECTED_TRACK:
  78:Modules/gui.c ****             *primaryOutput = COLOR_PRIMARY_SELECTED;
 517              		.loc 1 78 0
 518 0010 074B     		ldr	r3, .L62
 519 0012 0B60     		str	r3, [r1]
  79:Modules/gui.c ****             *accentOutput = COLOR_ACCENT_SELECTED;
 520              		.loc 1 79 0
 521 0014 7F33     		adds	r3, r3, #127
 522 0016 1360     		str	r3, [r2]
  80:Modules/gui.c ****             break;
 523              		.loc 1 80 0
 524 0018 7047     		bx	lr
 525              	.L58:
  81:Modules/gui.c ****         case EFFECT_1:
  82:Modules/gui.c ****         case EFFECT_2:
  83:Modules/gui.c ****         case NEXT_TRACK:
  84:Modules/gui.c ****         case BACK_TRACK:
  85:Modules/gui.c ****             *primaryOutput = COLOR_PRIMARY_OPTION;
 526              		.loc 1 85 0
 527 001a 064B     		ldr	r3, .L62+4
 528 001c 0B60     		str	r3, [r1]
  86:Modules/gui.c ****             *accentOutput = COLOR_ACCENT_OPTION;
 529              		.loc 1 86 0
 530 001e 064B     		ldr	r3, .L62+8
 531 0020 1360     		str	r3, [r2]
  87:Modules/gui.c ****             break;
 532              		.loc 1 87 0
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 12


 533 0022 7047     		bx	lr
 534              	.L57:
  88:Modules/gui.c ****         default:
  89:Modules/gui.c ****             *primaryOutput = COLOR_PRIMARY_DEFAULT;
 535              		.loc 1 89 0
 536 0024 054B     		ldr	r3, .L62+12
 537 0026 0B60     		str	r3, [r1]
  90:Modules/gui.c ****             *accentOutput = COLOR_ACCENT_DEFAULT;
 538              		.loc 1 90 0
 539 0028 4FF07F43 		mov	r3, #-16777216
 540 002c 1360     		str	r3, [r2]
 541 002e 7047     		bx	lr
 542              	.L63:
 543              		.align	2
 544              	.L62:
 545 0030 800000FF 		.word	-16777088
 546 0034 0000FFFF 		.word	-65536
 547 0038 8080FFFF 		.word	-32640
 548 003c 404040FF 		.word	-12566464
 549              		.cfi_endproc
 550              	.LFE141:
 552              		.section	.text.GUI_DrawTextAtCenter,"ax",%progbits
 553              		.align	1
 554              		.global	GUI_DrawTextAtCenter
 555              		.syntax unified
 556              		.thumb
 557              		.thumb_func
 558              		.fpu fpv5-sp-d16
 560              	GUI_DrawTextAtCenter:
 561              	.LFB142:
  91:Modules/gui.c ****     }
  92:Modules/gui.c **** }
  93:Modules/gui.c **** 
  94:Modules/gui.c **** 
  95:Modules/gui.c **** void GUI_DrawTextAtCenter(int x, int y, int ySize, char *text) {
 562              		.loc 1 95 0
 563              		.cfi_startproc
 564              		@ args = 0, pretend = 0, frame = 0
 565              		@ frame_needed = 0, uses_anonymous_args = 0
 566              	.LVL71:
 567 0000 70B5     		push	{r4, r5, r6, lr}
 568              	.LCFI6:
 569              		.cfi_def_cfa_offset 16
 570              		.cfi_offset 4, -16
 571              		.cfi_offset 5, -12
 572              		.cfi_offset 6, -8
 573              		.cfi_offset 14, -4
 574 0002 0446     		mov	r4, r0
 575 0004 0D46     		mov	r5, r1
 576 0006 1E46     		mov	r6, r3
  96:Modules/gui.c **** 	BSP_LCD_SetTextColor(COLOR_TEXT);
 577              		.loc 1 96 0
 578 0008 4FF07F40 		mov	r0, #-16777216
 579              	.LVL72:
 580 000c FFF7FEFF 		bl	BSP_LCD_SetTextColor
 581              	.LVL73:
  97:Modules/gui.c ****     BSP_LCD_SetFont(&Font12);
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 13


 582              		.loc 1 97 0
 583 0010 0548     		ldr	r0, .L66
 584 0012 FFF7FEFF 		bl	BSP_LCD_SetFont
 585              	.LVL74:
  98:Modules/gui.c ****     BSP_LCD_DisplayStringAt(x + GUI_margin, y + GUI_margin, (uint8_t *) text, LEFT_MODE);
 586              		.loc 1 98 0
 587 0016 291D     		adds	r1, r5, #4
 588 0018 201D     		adds	r0, r4, #4
 589 001a 0323     		movs	r3, #3
 590 001c 3246     		mov	r2, r6
 591 001e 89B2     		uxth	r1, r1
 592 0020 80B2     		uxth	r0, r0
 593 0022 FFF7FEFF 		bl	BSP_LCD_DisplayStringAt
 594              	.LVL75:
 595 0026 70BD     		pop	{r4, r5, r6, pc}
 596              	.LVL76:
 597              	.L67:
 598              		.align	2
 599              	.L66:
 600 0028 00000000 		.word	Font12
 601              		.cfi_endproc
 602              	.LFE142:
 604              		.section	.text.GUI_DrawButton,"ax",%progbits
 605              		.align	1
 606              		.global	GUI_DrawButton
 607              		.syntax unified
 608              		.thumb
 609              		.thumb_func
 610              		.fpu fpv5-sp-d16
 612              	GUI_DrawButton:
 613              	.LFB143:
  99:Modules/gui.c **** }
 100:Modules/gui.c **** 
 101:Modules/gui.c **** void GUI_DrawButton(uint32_t backgroundColor, uint32_t frameColor, int x, int y, int xSize, int ySi
 614              		.loc 1 101 0
 615              		.cfi_startproc
 616              		@ args = 12, pretend = 0, frame = 0
 617              		@ frame_needed = 0, uses_anonymous_args = 0
 618              	.LVL77:
 619 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 620              	.LCFI7:
 621              		.cfi_def_cfa_offset 32
 622              		.cfi_offset 4, -32
 623              		.cfi_offset 5, -28
 624              		.cfi_offset 6, -24
 625              		.cfi_offset 7, -20
 626              		.cfi_offset 8, -16
 627              		.cfi_offset 9, -12
 628              		.cfi_offset 10, -8
 629              		.cfi_offset 14, -4
 630 0004 8A46     		mov	r10, r1
 631 0006 1446     		mov	r4, r2
 632 0008 1D46     		mov	r5, r3
 102:Modules/gui.c ****     BSP_LCD_SetTextColor(backgroundColor);
 633              		.loc 1 102 0
 634 000a FFF7FEFF 		bl	BSP_LCD_SetTextColor
 635              	.LVL78:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 14


 103:Modules/gui.c ****     BSP_LCD_FillRect(x, y, xSize, ySize);
 636              		.loc 1 103 0
 637 000e A6B2     		uxth	r6, r4
 638 0010 AFB2     		uxth	r7, r5
 639 0012 BDF82080 		ldrh	r8, [sp, #32]
 640 0016 BDF82490 		ldrh	r9, [sp, #36]
 641 001a 4B46     		mov	r3, r9
 642 001c 4246     		mov	r2, r8
 643 001e 3946     		mov	r1, r7
 644 0020 3046     		mov	r0, r6
 645 0022 FFF7FEFF 		bl	BSP_LCD_FillRect
 646              	.LVL79:
 104:Modules/gui.c **** 
 105:Modules/gui.c ****     BSP_LCD_SetTextColor(frameColor);
 647              		.loc 1 105 0
 648 0026 5046     		mov	r0, r10
 649 0028 FFF7FEFF 		bl	BSP_LCD_SetTextColor
 650              	.LVL80:
 106:Modules/gui.c ****     BSP_LCD_DrawRect(x, y, xSize, ySize);
 651              		.loc 1 106 0
 652 002c 4B46     		mov	r3, r9
 653 002e 4246     		mov	r2, r8
 654 0030 3946     		mov	r1, r7
 655 0032 3046     		mov	r0, r6
 656 0034 FFF7FEFF 		bl	BSP_LCD_DrawRect
 657              	.LVL81:
 107:Modules/gui.c **** 
 108:Modules/gui.c ****     GUI_DrawTextAtCenter(x, y, ySize, text);
 658              		.loc 1 108 0
 659 0038 0A9B     		ldr	r3, [sp, #40]
 660 003a 099A     		ldr	r2, [sp, #36]
 661 003c 2946     		mov	r1, r5
 662 003e 2046     		mov	r0, r4
 663 0040 FFF7FEFF 		bl	GUI_DrawTextAtCenter
 664              	.LVL82:
 665 0044 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 666              		.cfi_endproc
 667              	.LFE143:
 669              		.section	.text.GUI_DrawAllButtons,"ax",%progbits
 670              		.align	1
 671              		.global	GUI_DrawAllButtons
 672              		.syntax unified
 673              		.thumb
 674              		.thumb_func
 675              		.fpu fpv5-sp-d16
 677              	GUI_DrawAllButtons:
 678              	.LFB144:
 109:Modules/gui.c **** }
 110:Modules/gui.c **** 
 111:Modules/gui.c **** void GUI_DrawAllButtons(void) {
 679              		.loc 1 111 0
 680              		.cfi_startproc
 681              		@ args = 0, pretend = 0, frame = 0
 682              		@ frame_needed = 0, uses_anonymous_args = 0
 683 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 684              	.LCFI8:
 685              		.cfi_def_cfa_offset 36
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 15


 686              		.cfi_offset 4, -36
 687              		.cfi_offset 5, -32
 688              		.cfi_offset 6, -28
 689              		.cfi_offset 7, -24
 690              		.cfi_offset 8, -20
 691              		.cfi_offset 9, -16
 692              		.cfi_offset 10, -12
 693              		.cfi_offset 11, -8
 694              		.cfi_offset 14, -4
 695 0004 85B0     		sub	sp, sp, #20
 696              	.LCFI9:
 697              		.cfi_def_cfa_offset 56
 112:Modules/gui.c ****     uint32_t bigButtonXSize = GUI_GetXButtonSize();
 698              		.loc 1 112 0
 699 0006 FFF7FEFF 		bl	GUI_GetXButtonSize
 700              	.LVL83:
 701 000a 0446     		mov	r4, r0
 702              	.LVL84:
 113:Modules/gui.c ****     uint32_t bigButtonYSize = GUI_GetYButtonSize();
 703              		.loc 1 113 0
 704 000c FFF7FEFF 		bl	GUI_GetYButtonSize
 705              	.LVL85:
 706 0010 0546     		mov	r5, r0
 707              	.LVL86:
 114:Modules/gui.c ****     uint32_t smallButtonYSize = GUI_GetYButtonSize() / 2;
 708              		.loc 1 114 0
 709 0012 FFF7FEFF 		bl	GUI_GetYButtonSize
 710              	.LVL87:
 711 0016 4708     		lsrs	r7, r0, #1
 712              	.LVL88:
 713              	.LBB3:
 115:Modules/gui.c **** 
 116:Modules/gui.c ****     // Sound buttons
 117:Modules/gui.c ****     for (int row = 0; row < GUI_sound_rows; row++) {
 714              		.loc 1 117 0
 715 0018 4FF00008 		mov	r8, #0
 716 001c 13E0     		b	.L71
 717              	.LVL89:
 718              	.L72:
 719              	.LBB4:
 720              	.LBB5:
 118:Modules/gui.c ****         for (int col = 0; col < GUI_buttons_in_row; col++) {
 119:Modules/gui.c ****             int x = GUI_margin + col * bigButtonXSize;
 721              		.loc 1 119 0 discriminator 3
 722 001e 04FB06F2 		mul	r2, r4, r6
 723              	.LVL90:
 120:Modules/gui.c ****             int y = GUI_margin + row * bigButtonYSize;
 724              		.loc 1 120 0 discriminator 3
 725 0022 05FB08F3 		mul	r3, r5, r8
 121:Modules/gui.c ****             GUI_DrawButton(COLOR_PRIMARY_DEFAULT, COLOR_ACCENT_DEFAULT, x, y, bigButtonXSize, bigBu
 726              		.loc 1 121 0 discriminator 3
 727 0026 2C49     		ldr	r1, .L77
 728 0028 0291     		str	r1, [sp, #8]
 729 002a 0195     		str	r5, [sp, #4]
 730 002c 0094     		str	r4, [sp]
 731 002e 0433     		adds	r3, r3, #4
 732 0030 0432     		adds	r2, r2, #4
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 16


 733              	.LVL91:
 734 0032 4FF07F41 		mov	r1, #-16777216
 735 0036 2948     		ldr	r0, .L77+4
 736 0038 FFF7FEFF 		bl	GUI_DrawButton
 737              	.LVL92:
 738              	.LBE5:
 118:Modules/gui.c ****         for (int col = 0; col < GUI_buttons_in_row; col++) {
 739              		.loc 1 118 0 discriminator 3
 740 003c 0136     		adds	r6, r6, #1
 741              	.LVL93:
 742              	.L73:
 118:Modules/gui.c ****         for (int col = 0; col < GUI_buttons_in_row; col++) {
 743              		.loc 1 118 0 is_stmt 0 discriminator 1
 744 003e 032E     		cmp	r6, #3
 745 0040 EDDD     		ble	.L72
 746              	.LBE4:
 117:Modules/gui.c ****         for (int col = 0; col < GUI_buttons_in_row; col++) {
 747              		.loc 1 117 0 is_stmt 1 discriminator 2
 748 0042 08F10108 		add	r8, r8, #1
 749              	.LVL94:
 750              	.L71:
 117:Modules/gui.c ****         for (int col = 0; col < GUI_buttons_in_row; col++) {
 751              		.loc 1 117 0 is_stmt 0 discriminator 1
 752 0046 B8F1010F 		cmp	r8, #1
 753 004a 01DC     		bgt	.L76
 754 004c 0026     		movs	r6, #0
 755 004e F6E7     		b	.L73
 756              	.L76:
 757              	.LBE3:
 122:Modules/gui.c ****         }
 123:Modules/gui.c ****     }
 124:Modules/gui.c **** 
 125:Modules/gui.c ****     // Switch track to be loaded buttons
 126:Modules/gui.c ****     uint32_t trackButtonY = GUI_margin + GUI_sound_rows * bigButtonYSize;
 758              		.loc 1 126 0 is_stmt 1
 759 0050 AE1C     		adds	r6, r5, #2
 760 0052 7600     		lsls	r6, r6, #1
 761              	.LVL95:
 127:Modules/gui.c ****     GUI_DrawButton(
 762              		.loc 1 127 0
 763 0054 DFF8A890 		ldr	r9, .L77+40
 764 0058 214B     		ldr	r3, .L77+8
 765 005a 0293     		str	r3, [sp, #8]
 766 005c 0197     		str	r7, [sp, #4]
 767 005e 0094     		str	r4, [sp]
 768 0060 3346     		mov	r3, r6
 769 0062 0422     		movs	r2, #4
 770 0064 4946     		mov	r1, r9
 771 0066 1F48     		ldr	r0, .L77+12
 772 0068 FFF7FEFF 		bl	GUI_DrawButton
 773              	.LVL96:
 128:Modules/gui.c ****             COLOR_PRIMARY_OPTION, COLOR_ACCENT_OPTION,
 129:Modules/gui.c ****             GUI_margin, trackButtonY,
 130:Modules/gui.c ****             bigButtonXSize, smallButtonYSize,
 131:Modules/gui.c ****             "NEXT"
 132:Modules/gui.c ****     );
 133:Modules/gui.c ****     GUI_DrawButton(
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 17


 134:Modules/gui.c ****             COLOR_PRIMARY_OPTION, COLOR_ACCENT_OPTION,
 135:Modules/gui.c ****             GUI_margin, trackButtonY + smallButtonYSize,
 774              		.loc 1 135 0
 775 006c 07EB060B 		add	fp, r7, r6
 133:Modules/gui.c ****             COLOR_PRIMARY_OPTION, COLOR_ACCENT_OPTION,
 776              		.loc 1 133 0
 777 0070 1D4B     		ldr	r3, .L77+16
 778 0072 0293     		str	r3, [sp, #8]
 779 0074 0197     		str	r7, [sp, #4]
 780 0076 0094     		str	r4, [sp]
 781 0078 5B46     		mov	r3, fp
 782 007a 0422     		movs	r2, #4
 783 007c 4946     		mov	r1, r9
 784 007e 1948     		ldr	r0, .L77+12
 785 0080 FFF7FEFF 		bl	GUI_DrawButton
 786              	.LVL97:
 136:Modules/gui.c ****             bigButtonXSize, smallButtonYSize,
 137:Modules/gui.c ****             "BACK"
 138:Modules/gui.c ****     );
 139:Modules/gui.c **** 
 140:Modules/gui.c ****     // Effects buttons
 141:Modules/gui.c ****     uint32_t effectButtonX = GUI_margin + (GUI_buttons_in_row - 1) * bigButtonXSize;
 787              		.loc 1 141 0
 788 0084 4FEA440A 		lsl	r10, r4, #1
 789 0088 0AEB0403 		add	r3, r10, r4
 790 008c 03F10408 		add	r8, r3, #4
 791              	.LVL98:
 142:Modules/gui.c ****     uint32_t effectButtonY = GUI_margin + GUI_sound_rows * bigButtonYSize;
 143:Modules/gui.c ****     GUI_DrawButton(
 792              		.loc 1 143 0
 793 0090 164B     		ldr	r3, .L77+20
 794 0092 0293     		str	r3, [sp, #8]
 795 0094 0197     		str	r7, [sp, #4]
 796 0096 0094     		str	r4, [sp]
 797 0098 3346     		mov	r3, r6
 798 009a 4246     		mov	r2, r8
 799 009c 4946     		mov	r1, r9
 800 009e 1148     		ldr	r0, .L77+12
 801 00a0 FFF7FEFF 		bl	GUI_DrawButton
 802              	.LVL99:
 144:Modules/gui.c ****             COLOR_PRIMARY_OPTION, COLOR_ACCENT_OPTION,
 145:Modules/gui.c ****             effectButtonX, effectButtonY,
 146:Modules/gui.c ****             bigButtonXSize, smallButtonYSize,
 147:Modules/gui.c ****             "E1"
 148:Modules/gui.c ****     );
 149:Modules/gui.c ****     GUI_DrawButton(
 803              		.loc 1 149 0
 804 00a4 124B     		ldr	r3, .L77+24
 805 00a6 0293     		str	r3, [sp, #8]
 806 00a8 0197     		str	r7, [sp, #4]
 807 00aa 0094     		str	r4, [sp]
 808 00ac 5B46     		mov	r3, fp
 809 00ae 4246     		mov	r2, r8
 810 00b0 4946     		mov	r1, r9
 811 00b2 0C48     		ldr	r0, .L77+12
 812 00b4 FFF7FEFF 		bl	GUI_DrawButton
 813              	.LVL100:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 18


 150:Modules/gui.c ****             COLOR_PRIMARY_OPTION, COLOR_ACCENT_OPTION,
 151:Modules/gui.c ****             effectButtonX, effectButtonY + smallButtonYSize,
 152:Modules/gui.c ****             bigButtonXSize, smallButtonYSize,
 153:Modules/gui.c ****             "E2"
 154:Modules/gui.c ****     );
 155:Modules/gui.c **** 	
 156:Modules/gui.c **** 	// Selected button
 157:Modules/gui.c **** 	uint32_t selectedTrackX = GUI_margin + bigButtonXSize;
 158:Modules/gui.c **** 	uint32_t selectedTrackY = GUI_margin + 2 * bigButtonYSize;
 159:Modules/gui.c **** 	GUI_DrawButton(
 814              		.loc 1 159 0
 815 00b8 0E4B     		ldr	r3, .L77+28
 816 00ba DB68     		ldr	r3, [r3, #12]
 817 00bc 0293     		str	r3, [sp, #8]
 818 00be 0195     		str	r5, [sp, #4]
 819 00c0 CDF800A0 		str	r10, [sp]
 820 00c4 3346     		mov	r3, r6
 821 00c6 221D     		adds	r2, r4, #4
 822              	.LVL101:
 823 00c8 0B49     		ldr	r1, .L77+32
 824 00ca 0C48     		ldr	r0, .L77+36
 825 00cc FFF7FEFF 		bl	GUI_DrawButton
 826              	.LVL102:
 160:Modules/gui.c ****             COLOR_PRIMARY_SELECTED, COLOR_ACCENT_SELECTED,
 161:Modules/gui.c ****             selectedTrackX, selectedTrackY,
 162:Modules/gui.c ****             2 * bigButtonXSize, bigButtonYSize,
 163:Modules/gui.c ****             APP_STATE.SELECTED_TRACK
 164:Modules/gui.c ****     );
 165:Modules/gui.c **** }
 827              		.loc 1 165 0
 828 00d0 05B0     		add	sp, sp, #20
 829              	.LCFI10:
 830              		.cfi_def_cfa_offset 36
 831              		@ sp needed
 832 00d2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 833              	.LVL103:
 834              	.L78:
 835 00d6 00BF     		.align	2
 836              	.L77:
 837 00d8 00000000 		.word	.LC0
 838 00dc 404040FF 		.word	-12566464
 839 00e0 04000000 		.word	.LC1
 840 00e4 0000FFFF 		.word	-65536
 841 00e8 0C000000 		.word	.LC2
 842 00ec 14000000 		.word	.LC3
 843 00f0 18000000 		.word	.LC4
 844 00f4 00000000 		.word	.LANCHOR0
 845 00f8 FF0000FF 		.word	-16776961
 846 00fc 800000FF 		.word	-16777088
 847 0100 8080FFFF 		.word	-32640
 848              		.cfi_endproc
 849              	.LFE144:
 851              		.section	.text.GUI_HighlightButton,"ax",%progbits
 852              		.align	1
 853              		.global	GUI_HighlightButton
 854              		.syntax unified
 855              		.thumb
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 19


 856              		.thumb_func
 857              		.fpu fpv5-sp-d16
 859              	GUI_HighlightButton:
 860              	.LFB145:
 166:Modules/gui.c **** 
 167:Modules/gui.c **** void GUI_HighlightButton(int buttonNumber) {
 861              		.loc 1 167 0
 862              		.cfi_startproc
 863              		@ args = 0, pretend = 0, frame = 24
 864              		@ frame_needed = 0, uses_anonymous_args = 0
 865              	.LVL104:
 866 0000 10B5     		push	{r4, lr}
 867              	.LCFI11:
 868              		.cfi_def_cfa_offset 8
 869              		.cfi_offset 4, -8
 870              		.cfi_offset 14, -4
 871 0002 8AB0     		sub	sp, sp, #40
 872              	.LCFI12:
 873              		.cfi_def_cfa_offset 48
 874 0004 0446     		mov	r4, r0
 168:Modules/gui.c ****     int x, y, xSize, ySize;
 169:Modules/gui.c ****     uint32_t primaryColor, accentColor;
 170:Modules/gui.c ****     GUI_GetCoordsForButton(buttonNumber, &x, &y);
 875              		.loc 1 170 0
 876 0006 08AA     		add	r2, sp, #32
 877 0008 09A9     		add	r1, sp, #36
 878 000a FFF7FEFF 		bl	GUI_GetCoordsForButton
 879              	.LVL105:
 171:Modules/gui.c ****     GUI_GetSizeForButton(buttonNumber, &xSize, &ySize);
 880              		.loc 1 171 0
 881 000e 06AA     		add	r2, sp, #24
 882 0010 07A9     		add	r1, sp, #28
 883 0012 2046     		mov	r0, r4
 884 0014 FFF7FEFF 		bl	GUI_GetSizeForButton
 885              	.LVL106:
 172:Modules/gui.c ****     GUI_GetColorsForButton(buttonNumber, &primaryColor, &accentColor);
 886              		.loc 1 172 0
 887 0018 04AA     		add	r2, sp, #16
 888 001a 05A9     		add	r1, sp, #20
 889 001c 2046     		mov	r0, r4
 890 001e FFF7FEFF 		bl	GUI_GetColorsForButton
 891              	.LVL107:
 173:Modules/gui.c **** 
 174:Modules/gui.c ****     GUI_DrawButton(primaryColor, COLOR_HIGHLIGHTED, x, y, xSize, ySize, "");
 892              		.loc 1 174 0
 893 0022 074B     		ldr	r3, .L81
 894 0024 0293     		str	r3, [sp, #8]
 895 0026 069B     		ldr	r3, [sp, #24]
 896 0028 0193     		str	r3, [sp, #4]
 897 002a 079B     		ldr	r3, [sp, #28]
 898 002c 0093     		str	r3, [sp]
 899 002e 089B     		ldr	r3, [sp, #32]
 900 0030 099A     		ldr	r2, [sp, #36]
 901 0032 6FF47F01 		mvn	r1, #16711680
 902 0036 0598     		ldr	r0, [sp, #20]
 903 0038 FFF7FEFF 		bl	GUI_DrawButton
 904              	.LVL108:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 20


 175:Modules/gui.c **** }
 905              		.loc 1 175 0
 906 003c 0AB0     		add	sp, sp, #40
 907              	.LCFI13:
 908              		.cfi_def_cfa_offset 8
 909              		@ sp needed
 910 003e 10BD     		pop	{r4, pc}
 911              	.LVL109:
 912              	.L82:
 913              		.align	2
 914              	.L81:
 915 0040 00000000 		.word	.LC0
 916              		.cfi_endproc
 917              	.LFE145:
 919              		.section	.text.GUI_HandleTouch,"ax",%progbits
 920              		.align	1
 921              		.global	GUI_HandleTouch
 922              		.syntax unified
 923              		.thumb
 924              		.thumb_func
 925              		.fpu fpv5-sp-d16
 927              	GUI_HandleTouch:
 928              	.LFB146:
 176:Modules/gui.c **** 
 177:Modules/gui.c **** 
 178:Modules/gui.c **** void GUI_HandleTouch(TS_StateTypeDef *tsState, void (*handleButtonTouch)(int)) {
 929              		.loc 1 178 0
 930              		.cfi_startproc
 931              		@ args = 0, pretend = 0, frame = 0
 932              		@ frame_needed = 0, uses_anonymous_args = 0
 933              	.LVL110:
 934 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 935              	.LCFI14:
 936              		.cfi_def_cfa_offset 32
 937              		.cfi_offset 3, -32
 938              		.cfi_offset 4, -28
 939              		.cfi_offset 5, -24
 940              		.cfi_offset 6, -20
 941              		.cfi_offset 7, -16
 942              		.cfi_offset 8, -12
 943              		.cfi_offset 9, -8
 944              		.cfi_offset 14, -4
 945 0004 0746     		mov	r7, r0
 946 0006 8946     		mov	r9, r1
 179:Modules/gui.c ****     int touchesDetected = tsState->touchDetected;
 947              		.loc 1 179 0
 948 0008 90F80080 		ldrb	r8, [r0]	@ zero_extendqisi2
 949              	.LVL111:
 180:Modules/gui.c ****     int touchesToHandle = touchesDetected > GUI_max_touches ? GUI_max_touches : touchesDetected;
 950              		.loc 1 180 0
 951 000c B8F1060F 		cmp	r8, #6
 952 0010 A8BF     		it	ge
 953 0012 4FF00608 		movge	r8, #6
 954              	.LVL112:
 181:Modules/gui.c ****     int x;
 182:Modules/gui.c ****     int y;
 183:Modules/gui.c **** 
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 21


 184:Modules/gui.c ****     BSP_LCD_SetTextColor(COLOR_PRIMARY_SELECTED);
 955              		.loc 1 184 0
 956 0016 0D48     		ldr	r0, .L87
 957              	.LVL113:
 958 0018 FFF7FEFF 		bl	BSP_LCD_SetTextColor
 959              	.LVL114:
 960              	.LBB6:
 185:Modules/gui.c ****     for (int i = 0; i < touchesToHandle; i++) {
 961              		.loc 1 185 0
 962 001c 0024     		movs	r4, #0
 963 001e 11E0     		b	.L84
 964              	.LVL115:
 965              	.L85:
 186:Modules/gui.c ****         x = tsState->touchX[i];
 966              		.loc 1 186 0 discriminator 3
 967 0020 07EB4403 		add	r3, r7, r4, lsl #1
 968 0024 5D88     		ldrh	r5, [r3, #2]
 969              	.LVL116:
 187:Modules/gui.c ****         y = tsState->touchY[i];
 970              		.loc 1 187 0 discriminator 3
 971 0026 231D     		adds	r3, r4, #4
 972 0028 07EB4303 		add	r3, r7, r3, lsl #1
 973 002c 9E88     		ldrh	r6, [r3, #4]
 974              	.LVL117:
 188:Modules/gui.c ****         BSP_LCD_FillCircle(x, y, GUI_touch_radius);
 975              		.loc 1 188 0 discriminator 3
 976 002e 0422     		movs	r2, #4
 977 0030 3146     		mov	r1, r6
 978 0032 2846     		mov	r0, r5
 979 0034 FFF7FEFF 		bl	BSP_LCD_FillCircle
 980              	.LVL118:
 189:Modules/gui.c ****         (*handleButtonTouch)(GUI_GetButtonForCoords(x, y)); // callback function
 981              		.loc 1 189 0 discriminator 3
 982 0038 3146     		mov	r1, r6
 983 003a 2846     		mov	r0, r5
 984 003c FFF7FEFF 		bl	GUI_GetButtonForCoords
 985              	.LVL119:
 986 0040 C847     		blx	r9
 987              	.LVL120:
 185:Modules/gui.c ****         x = tsState->touchX[i];
 988              		.loc 1 185 0 discriminator 3
 989 0042 0134     		adds	r4, r4, #1
 990              	.LVL121:
 991              	.L84:
 185:Modules/gui.c ****         x = tsState->touchX[i];
 992              		.loc 1 185 0 is_stmt 0 discriminator 1
 993 0044 4445     		cmp	r4, r8
 994 0046 EBDB     		blt	.L85
 995              	.LBE6:
 190:Modules/gui.c ****     }
 191:Modules/gui.c **** }
 996              		.loc 1 191 0 is_stmt 1
 997 0048 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 998              	.LVL122:
 999              	.L88:
 1000              		.align	2
 1001              	.L87:
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 22


 1002 004c 800000FF 		.word	-16777088
 1003              		.cfi_endproc
 1004              	.LFE146:
 1006              		.global	APP_STATE
 1007              		.section	.data.APP_STATE,"aw",%progbits
 1008              		.align	2
 1009              		.set	.LANCHOR0,. + 0
 1012              	APP_STATE:
 1013 0000 FFFFFFFF 		.word	-1
 1014 0004 FFFFFFFF 		.word	-1
 1015 0008 01000000 		.word	1
 1016 000c 00000000 		.word	.LC5
 1017 0010 00000000 		.space	8
 1017      00000000 
 1018              		.section	.rodata.GUI_DrawAllButtons.str1.4,"aMS",%progbits,1
 1019              		.align	2
 1020              	.LC0:
 1021 0000 00       		.ascii	"\000"
 1022 0001 000000   		.space	3
 1023              	.LC1:
 1024 0004 4E455854 		.ascii	"NEXT\000"
 1024      00
 1025 0009 000000   		.space	3
 1026              	.LC2:
 1027 000c 4241434B 		.ascii	"BACK\000"
 1027      00
 1028 0011 000000   		.space	3
 1029              	.LC3:
 1030 0014 453100   		.ascii	"E1\000"
 1031 0017 00       		.space	1
 1032              	.LC4:
 1033 0018 453200   		.ascii	"E2\000"
 1034              		.section	.rodata.str1.4,"aMS",%progbits,1
 1035              		.align	2
 1036              	.LC5:
 1037 0000 4F4B00   		.ascii	"OK\000"
 1038              		.text
 1039              	.Letext0:
 1040              		.file 2 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\machine\\_default_types.h"
 1041              		.file 3 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 1042              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 1043              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 1044              		.file 6 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\lock.h"
 1045              		.file 7 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\_types.h"
 1046              		.file 8 "c:\\gcc_toolchain\\6_2017-q1-update\\lib\\gcc\\arm-none-eabi\\6.3.1\\include\\stddef.h"
 1047              		.file 9 "c:\\gcc_toolchain\\6_2017-q1-update\\arm-none-eabi\\include\\sys\\reent.h"
 1048              		.file 10 "Drivers/BSP/STM32746G-Discovery/../Components/ft5336/../Common/ts.h"
 1049              		.file 11 "Drivers/BSP/STM32746G-Discovery/../Components/ft5336/ft5336.h"
 1050              		.file 12 "Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.h"
 1051              		.file 13 "Drivers/BSP/STM32746G-Discovery/../../../Utilities/Fonts/fonts.h"
 1052              		.file 14 "Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_lcd.h"
 1053              		.file 15 "Modules/controls.h"
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 23


DEFINED SYMBOLS
                            *ABS*:00000000 gui.c
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:18     .text.GUI_GetXButtonSize:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:25     .text.GUI_GetXButtonSize:00000000 GUI_GetXButtonSize
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:48     .text.GUI_GetYButtonSize:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:55     .text.GUI_GetYButtonSize:00000000 GUI_GetYButtonSize
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:78     .text.GUI_GetYButtonSize:00000014 $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:88     .text.GUI_GetButtonForCoords:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:95     .text.GUI_GetButtonForCoords:00000000 GUI_GetButtonForCoords
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:213    .text.GUI_GetButtonForCoords:00000088 $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:220    .text.GUI_GetCoordsForButton:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:227    .text.GUI_GetCoordsForButton:00000000 GUI_GetCoordsForButton
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:403    .text.GUI_GetCoordsForButton:000000e4 $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:409    .text.GUI_GetSizeForButton:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:416    .text.GUI_GetSizeForButton:00000000 GUI_GetSizeForButton
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:483    .text.GUI_GetSizeForButton:0000004c $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:488    .text.GUI_GetColorsForButton:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:495    .text.GUI_GetColorsForButton:00000000 GUI_GetColorsForButton
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:510    .text.GUI_GetColorsForButton:0000000a $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:545    .text.GUI_GetColorsForButton:00000030 $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:553    .text.GUI_DrawTextAtCenter:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:560    .text.GUI_DrawTextAtCenter:00000000 GUI_DrawTextAtCenter
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:600    .text.GUI_DrawTextAtCenter:00000028 $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:605    .text.GUI_DrawButton:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:612    .text.GUI_DrawButton:00000000 GUI_DrawButton
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:670    .text.GUI_DrawAllButtons:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:677    .text.GUI_DrawAllButtons:00000000 GUI_DrawAllButtons
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:837    .text.GUI_DrawAllButtons:000000d8 $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:852    .text.GUI_HighlightButton:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:859    .text.GUI_HighlightButton:00000000 GUI_HighlightButton
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:915    .text.GUI_HighlightButton:00000040 $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:920    .text.GUI_HandleTouch:00000000 $t
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:927    .text.GUI_HandleTouch:00000000 GUI_HandleTouch
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:1002   .text.GUI_HandleTouch:0000004c $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:1012   .data.APP_STATE:00000000 APP_STATE
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:1008   .data.APP_STATE:00000000 $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:1019   .rodata.GUI_DrawAllButtons.str1.4:00000000 $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:1035   .rodata.str1.4:00000000 $d
                     .debug_frame:00000010 $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:515    .text.GUI_GetColorsForButton:0000000f $d
C:\Users\Student\AppData\Local\Temp\cc81WDJF.s:515    .text.GUI_GetColorsForButton:00000010 $t

UNDEFINED SYMBOLS
BSP_LCD_GetXSize
BSP_LCD_GetYSize
__aeabi_i2d
__aeabi_ui2d
__aeabi_dmul
__aeabi_dadd
__aeabi_dcmple
__aeabi_d2iz
BSP_LCD_SetTextColor
BSP_LCD_SetFont
BSP_LCD_DisplayStringAt
Font12
BSP_LCD_FillRect
BSP_LCD_DrawRect
ARM GAS  C:\Users\Student\AppData\Local\Temp\cc81WDJF.s 			page 24


BSP_LCD_FillCircle
